<!DOCTYPE html>
<!-- saved from url=(0043)https://www.cnblogs.com/apachecn/p/18196636 -->
<html lang="zh-cn" style="--olcb-folder-code-block-max-height: 80vh; --cnb-code-bg: rgb(245, 245, 245); --cnb-code-font-size: 12px; --cnb-code-color: rgb(68, 68, 68);"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="referrer" content="never">
    
    <meta name="description" content="Linux 快速学习手册（全） 原文：zh.annas-archive.org/md5/d44a95bd11f73f80156880d7ba808e3a 译者：飞龙 协议：CC BY-NC-SA 4.0 前言 Linux 在 IT 行业中需求量巨大，因为它为全球超过 90%的超级计算机和服务器提供动">
    <meta property="og:description" content="Linux 快速学习手册（全） 原文：zh.annas-archive.org/md5/d44a95bd11f73f80156880d7ba808e3a 译者：飞龙 协议：CC BY-NC-SA 4.0 前言 Linux 在 IT 行业中需求量巨大，因为它为全球超过 90%的超级计算机和服务器提供动">
    <meta http-equiv="Cache-Control" content="no-transform">
    <meta http-equiv="Cache-Control" content="no-siteapp">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园</title>
    <link rel="canonical" href="https://www.cnblogs.com/apachecn/p/18196636">
    <link rel="shortcut icon" id="favicon" href="https://assets.cnblogs.com/favicon.svg?v=2" type="image/svg+xml">
    
    <style>#home :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs), :not(.cnblogs_code):not(.cnblogs_Highlighter)>pre:not([highlighted]):not([class*="brush:"]) code:not(.hljs) {background: rgb(245, 245, 245);
        padding: 12px;
        border: 1px solid rgb(204, 204, 204);
        border-radius: 3px;
        border-color: transparent;
        color: rgb(68, 68, 68);
        font-family: "Courier New", sans-serif;
        font-size: 12px</style><link rel="stylesheet" href="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/blog-common.min.css">
    

    <link id="MainCss" rel="stylesheet" href="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/bundle-simplememory.min.css">
        <link id="highlighter-theme-cnblogs" type="text/css" rel="stylesheet" href="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/cnblogs.css">
    
    
    <link id="mobile-style" media="only screen and (max-width: 767px)" type="text/css" rel="stylesheet" href="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/bundle-simplememory-mobile.min.css">
    
    <link type="application/rss+xml" rel="alternate" href="https://www.cnblogs.com/apachecn/rss">
    <link type="application/rsd+xml" rel="EditURI" href="https://www.cnblogs.com/apachecn/rsd.xml">
    <link type="application/wlwmanifest+xml" rel="wlwmanifest" href="https://www.cnblogs.com/apachecn/wlwmanifest.xml">
    <script>
        var currentBlogId = 568325;
        var currentBlogApp = 'apachecn';
        var isLogined = false;
        var isBlogOwner = false;
        var skinName = 'SimpleMemory';
        var visitorUserId = '';
        var hasCustomScript = false;
        window.cb_enable_mathjax = true;
        window.mathEngine = 0;
        window.codeHighlightEngine = 1;
        window.enableCodeLineNumber = false;
        window.codeHighlightTheme = 'cnblogs';
        window.darkModeCodeHighlightTheme = 'vs2015';
        window.isDarkCodeHighlightTheme = false;
        window.isDarkModeCodeHighlightThemeDark = true;
        window.isDisableCodeHighlighter = false;
        window.enableCodeThemeTypeFollowSystem = false;
        window.enableMacStyleCodeBlock = false;
    </script>
        <script>
            window.currentPostId = 18196636;
            window.currentPostDateAdded = '2024-05-16 19:42';
        </script>
    <script src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/jquery-3.3.1.min.js.下載"></script>
    <script src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/blog-common.min.js.下載"></script><style>.medium-zoom-overlay {
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  opacity: 0;
  transition: opacity 300ms;
  will-change: opacity;
}

.medium-zoom--opened .medium-zoom-overlay {
  cursor: pointer;
  cursor: zoom-out;
  opacity: 1;
}

.medium-zoom-image {
  cursor: pointer;
  cursor: zoom-in;
  /*
    The `transition` is marked as "!important" for the animation to happen
    even though it's overriden by another inline `transition` style attribute.

    This is problematic with frameworks that generate inline styles on their
    images (e.g. Gatsby).

    See https://github.com/francoischalifour/medium-zoom/issues/110
   */
  transition: transform 300ms cubic-bezier(0.2, 0, 0.2, 1) !important;
}

.medium-zoom-image--hidden {
  visibility: hidden;
}

.medium-zoom-image--opened {
  position: relative;
  cursor: pointer;
  cursor: zoom-out;
  will-change: transform;
}
</style><script id="hljs-script" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/highlight.min.js.下載" type="text/javascript" async=""></script>
    
<script id="mathjax" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/MathJax.js.下載" type="text/javascript" async=""></script><style type="text/css">.MathJax_Preview {color: #888}
#MathJax_Message {position: fixed; left: 1em; bottom: 1.5em; background-color: #E6E6E6; border: 1px solid #959595; margin: 0px; padding: 2px 8px; z-index: 102; color: black; font-size: 80%; width: auto; white-space: nowrap}
#MathJax_MSIE_Frame {position: absolute; top: 0; left: 0; width: 0px; z-index: 101; border: 0px; margin: 0px; padding: 0px}
.MathJax_Error {color: #CC0000; font-style: italic}
</style><meta property="og:image" content="https://gitee.com/OpenDocCN/freelearn-linux-pt2-zh/raw/master/docs/lrn-linux-qk/img/99c8c1fa-9fa9-4e6c-a765-1e30375b7225.png"><script src="chrome-extension://logpjaacgmcbpdkdchjiaagddngobkck/scripts/script-to-inject.js"></script><style type="text/css">.MathJax_Hover_Frame {border-radius: .25em; -webkit-border-radius: .25em; -moz-border-radius: .25em; -khtml-border-radius: .25em; box-shadow: 0px 0px 15px #83A; -webkit-box-shadow: 0px 0px 15px #83A; -moz-box-shadow: 0px 0px 15px #83A; -khtml-box-shadow: 0px 0px 15px #83A; border: 1px solid #A6D ! important; display: inline-block; position: absolute}
.MathJax_Menu_Button .MathJax_Hover_Arrow {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 4px; -webkit-border-radius: 4px; -moz-border-radius: 4px; -khtml-border-radius: 4px; font-family: 'Courier New',Courier; font-size: 9px; color: #F0F0F0}
.MathJax_Menu_Button .MathJax_Hover_Arrow span {display: block; background-color: #AAA; border: 1px solid; border-radius: 3px; line-height: 0; padding: 4px}
.MathJax_Hover_Arrow:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_Hover_Arrow:hover span {background-color: #CCC!important}
</style><style type="text/css">#MathJax_Zoom {position: absolute; background-color: #F0F0F0; overflow: auto; display: block; z-index: 301; padding: .5em; border: 1px solid black; margin: 0; font-weight: normal; font-style: normal; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box; box-shadow: 5px 5px 15px #AAAAAA; -webkit-box-shadow: 5px 5px 15px #AAAAAA; -moz-box-shadow: 5px 5px 15px #AAAAAA; -khtml-box-shadow: 5px 5px 15px #AAAAAA; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_ZoomOverlay {position: absolute; left: 0; top: 0; z-index: 300; display: inline-block; width: 100%; height: 100%; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
#MathJax_ZoomFrame {position: relative; display: inline-block; height: 0; width: 0}
#MathJax_ZoomEventTrap {position: absolute; left: 0; top: 0; z-index: 302; display: inline-block; border: 0; padding: 0; margin: 0; background-color: white; opacity: 0; filter: alpha(opacity=0)}
</style><style type="text/css">#MathJax_About {position: fixed; left: 50%; width: auto; text-align: center; border: 3px outset; padding: 1em 2em; background-color: #DDDDDD; color: black; cursor: default; font-family: message-box; font-size: 120%; font-style: normal; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; border-radius: 15px; -webkit-border-radius: 15px; -moz-border-radius: 15px; -khtml-border-radius: 15px; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
#MathJax_About.MathJax_MousePost {outline: none}
.MathJax_Menu {position: absolute; background-color: white; color: black; width: auto; padding: 2px; border: 1px solid #CCCCCC; margin: 0; cursor: default; font: menu; text-align: left; text-indent: 0; text-transform: none; line-height: normal; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; z-index: 201; box-shadow: 0px 10px 20px #808080; -webkit-box-shadow: 0px 10px 20px #808080; -moz-box-shadow: 0px 10px 20px #808080; -khtml-box-shadow: 0px 10px 20px #808080; filter: progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color='gray', Positive='true')}
.MathJax_MenuItem {padding: 2px 2em; background: transparent}
.MathJax_MenuArrow {position: absolute; right: .5em; padding-top: .25em; color: #666666; font-size: .75em}
.MathJax_MenuActive .MathJax_MenuArrow {color: white}
.MathJax_MenuArrow.RTL {left: .5em; right: auto}
.MathJax_MenuCheck {position: absolute; left: .7em}
.MathJax_MenuCheck.RTL {right: .7em; left: auto}
.MathJax_MenuRadioCheck {position: absolute; left: 1em}
.MathJax_MenuRadioCheck.RTL {right: 1em; left: auto}
.MathJax_MenuLabel {padding: 2px 2em 4px 1.33em; font-style: italic}
.MathJax_MenuRule {border-top: 1px solid #CCCCCC; margin: 4px 1px 0px}
.MathJax_MenuDisabled {color: GrayText}
.MathJax_MenuActive {background-color: Highlight; color: HighlightText}
.MathJax_MenuDisabled:focus, .MathJax_MenuLabel:focus {background-color: #E8E8E8}
.MathJax_ContextMenu:focus {outline: none}
.MathJax_ContextMenu .MathJax_MenuItem:focus {outline: none}
#MathJax_AboutClose {top: .2em; right: .2em}
.MathJax_Menu .MathJax_MenuClose {top: -10px; left: -10px}
.MathJax_MenuClose {position: absolute; cursor: pointer; display: inline-block; border: 2px solid #AAA; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; font-family: 'Courier New',Courier; font-size: 24px; color: #F0F0F0}
.MathJax_MenuClose span {display: block; background-color: #AAA; border: 1.5px solid; border-radius: 18px; -webkit-border-radius: 18px; -moz-border-radius: 18px; -khtml-border-radius: 18px; line-height: 0; padding: 8px 0 6px}
.MathJax_MenuClose:hover {color: white!important; border: 2px solid #CCC!important}
.MathJax_MenuClose:hover span {background-color: #CCC!important}
.MathJax_MenuClose:hover:focus {outline: none}
</style><style type="text/css">.MathJax_Preview .MJXf-math {color: inherit!important}
</style><style type="text/css">.MJX_Assistive_MathML {position: absolute!important; top: 0; left: 0; clip: rect(1px, 1px, 1px, 1px); padding: 1px 0 0 0!important; border: 0!important; height: 1px!important; width: 1px!important; overflow: hidden!important; display: block!important; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none}
.MJX_Assistive_MathML.MJX_Assistive_MathML_Block {width: 100%!important}
</style><style type="text/css">.MJXp-script {font-size: .8em}
.MJXp-right {-webkit-transform-origin: right; -moz-transform-origin: right; -ms-transform-origin: right; -o-transform-origin: right; transform-origin: right}
.MJXp-bold {font-weight: bold}
.MJXp-italic {font-style: italic}
.MJXp-scr {font-family: MathJax_Script,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-frak {font-family: MathJax_Fraktur,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-sf {font-family: MathJax_SansSerif,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-cal {font-family: MathJax_Caligraphic,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-mono {font-family: MathJax_Typewriter,'Times New Roman',Times,STIXGeneral,serif}
.MJXp-largeop {font-size: 150%}
.MJXp-largeop.MJXp-int {vertical-align: -.2em}
.MJXp-math {display: inline-block; line-height: 1.2; text-indent: 0; font-family: 'Times New Roman',Times,STIXGeneral,serif; white-space: nowrap; border-collapse: collapse}
.MJXp-display {display: block; text-align: center; margin: 1em 0}
.MJXp-math span {display: inline-block}
.MJXp-box {display: block!important; text-align: center}
.MJXp-box:after {content: " "}
.MJXp-rule {display: block!important; margin-top: .1em}
.MJXp-char {display: block!important}
.MJXp-mo {margin: 0 .15em}
.MJXp-mfrac {margin: 0 .125em; vertical-align: .25em}
.MJXp-denom {display: inline-table!important; width: 100%}
.MJXp-denom > * {display: table-row!important}
.MJXp-surd {vertical-align: top}
.MJXp-surd > * {display: block!important}
.MJXp-script-box > *  {display: table!important; height: 50%}
.MJXp-script-box > * > * {display: table-cell!important; vertical-align: top}
.MJXp-script-box > *:last-child > * {vertical-align: bottom}
.MJXp-script-box > * > * > * {display: block!important}
.MJXp-mphantom {visibility: hidden}
.MJXp-munderover, .MJXp-munder {display: inline-table!important}
.MJXp-over {display: inline-block!important; text-align: center}
.MJXp-over > * {display: block!important}
.MJXp-munderover > *, .MJXp-munder > * {display: table-row!important}
.MJXp-mtable {vertical-align: .25em; margin: 0 .125em}
.MJXp-mtable > * {display: inline-table!important; vertical-align: middle}
.MJXp-mtr {display: table-row!important}
.MJXp-mtd {display: table-cell!important; text-align: center; padding: .5em 0 0 .5em}
.MJXp-mtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-mlabeledtr {display: table-row!important}
.MJXp-mlabeledtr > .MJXp-mtd:first-child {padding-left: 0}
.MJXp-mlabeledtr:first-child > .MJXp-mtd {padding-top: 0}
.MJXp-merror {background-color: #FFFF88; color: #CC0000; border: 1px solid #CC0000; padding: 1px 3px; font-style: normal; font-size: 90%}
.MJXp-scale0 {-webkit-transform: scaleX(.0); -moz-transform: scaleX(.0); -ms-transform: scaleX(.0); -o-transform: scaleX(.0); transform: scaleX(.0)}
.MJXp-scale1 {-webkit-transform: scaleX(.1); -moz-transform: scaleX(.1); -ms-transform: scaleX(.1); -o-transform: scaleX(.1); transform: scaleX(.1)}
.MJXp-scale2 {-webkit-transform: scaleX(.2); -moz-transform: scaleX(.2); -ms-transform: scaleX(.2); -o-transform: scaleX(.2); transform: scaleX(.2)}
.MJXp-scale3 {-webkit-transform: scaleX(.3); -moz-transform: scaleX(.3); -ms-transform: scaleX(.3); -o-transform: scaleX(.3); transform: scaleX(.3)}
.MJXp-scale4 {-webkit-transform: scaleX(.4); -moz-transform: scaleX(.4); -ms-transform: scaleX(.4); -o-transform: scaleX(.4); transform: scaleX(.4)}
.MJXp-scale5 {-webkit-transform: scaleX(.5); -moz-transform: scaleX(.5); -ms-transform: scaleX(.5); -o-transform: scaleX(.5); transform: scaleX(.5)}
.MJXp-scale6 {-webkit-transform: scaleX(.6); -moz-transform: scaleX(.6); -ms-transform: scaleX(.6); -o-transform: scaleX(.6); transform: scaleX(.6)}
.MJXp-scale7 {-webkit-transform: scaleX(.7); -moz-transform: scaleX(.7); -ms-transform: scaleX(.7); -o-transform: scaleX(.7); transform: scaleX(.7)}
.MJXp-scale8 {-webkit-transform: scaleX(.8); -moz-transform: scaleX(.8); -ms-transform: scaleX(.8); -o-transform: scaleX(.8); transform: scaleX(.8)}
.MJXp-scale9 {-webkit-transform: scaleX(.9); -moz-transform: scaleX(.9); -ms-transform: scaleX(.9); -o-transform: scaleX(.9); transform: scaleX(.9)}
.MathJax_PHTML .noError {vertical-align: ; font-size: 90%; text-align: left; color: black; padding: 1px 3px; border: 1px solid}
</style></head>
<body class="skin-simplememory has-navbar mathjax2 hljs-engine"><div id="MathJax_Message" style="display: none;"></div>
    <a name="top"></a>
    <div id="top_nav" class="navbar forpc">
        <nav id="nav_main" class="navbar-main">
            <ul id="nav_left" class="navbar-list navbar-left">
                <li class="navbar-branding">
                    <a href="https://www.cnblogs.com/" title="开发者的网上家园" role="banner">
                        <img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/logo.svg" alt="博客园Logo">
                    </a>
                </li>
                <li><a href="https://cnblogs.vip/">会员</a></li>
                <li><a href="https://cnblogs.vip/store">周边</a></li>
                    <li><a href="https://cnblogs.vip/donate">捐助</a></li>
                <li>
                    <a href="https://news.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-news&#39;)">新闻</a>
                </li>
                <li>
                    <a href="https://q.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-q&#39;)">博问</a>
                </li>
                <li>
                    <a href="https://ing.cnblogs.com/" onclick="countClicks(&#39;nav&#39;, &#39;skin-navbar-ing&#39;)">闪存</a>
                </li>
                <li><a href="https://www.cnblogs.com/cmt/p/18341478">赞助商</a></li>
            </ul>
            <ul id="nav_right" class="navbar-list navbar-right">
                <li>
                    <form id="zzk_search" class="navbar-search dropdown" action="https://zzk.cnblogs.com/s" method="get" role="search">
                        <input name="w" id="zzk_search_input" placeholder="代码改变世界" type="search" tabindex="3" autocomplete="off">
                        <button id="zzk_search_button" onclick="window.navbarSearchManager.triggerActiveOption()">
                            <img id="search_icon" class="focus-hidden" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/search.svg" alt="搜索">
                            <img class="hidden focus-visible" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/enter.svg" alt="搜索">
                        </button>
                        <ul id="navbar_search_options" class="dropdown-menu quick-search-menu">
                            <li tabindex="0" class="active" onclick="zzkSearch(event, document.getElementById(&#39;zzk_search_input&#39;).value)">
                                <div class="keyword-wrapper">
                                    <img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/search.svg" alt="搜索">
                                    <div class="keyword"></div>
                                </div>
                                <span class="search-area">所有博客</span>
                            </li>
                                    <li tabindex="1" onclick="zzkBlogSearch(event, &#39;apachecn&#39;, document.getElementById(&#39;zzk_search_input&#39;).value)">
                                        <div class="keyword-wrapper">
                                            <img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/search.svg" alt="搜索">
                                            <div class="keyword"></div>
                                        </div>
                                        <span class="search-area">当前博客</span>
                                    </li>
                        </ul>
                    </form>
                </li>
                <li id="navbar_login_status" class="navbar-list">
                    <a class="navbar-user-info navbar-blog" href="https://i.cnblogs.com/EditPosts.aspx?opt=1" alt="写随笔" title="写随笔" style="display: none;">
                        <img id="new_post_icon" class="navbar-icon" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/newpost.svg" alt="写随笔">
                    </a>
                    <a id="navblog-myblog-icon" class="navbar-user-info navbar-blog" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx" alt="我的博客" title="我的博客" style="display: none;">
                        <img id="myblog_icon" class="navbar-icon" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/myblog.svg" alt="我的博客">
                    </a>
                    <a class="navbar-user-info navbar-message navbar-icon-wrapper" href="https://msg.cnblogs.com/" alt="短消息" title="短消息" style="display: none;">
                        <img id="msg_icon" class="navbar-icon" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/message.svg" alt="短消息">
                        <span id="msg_count" style="display: none"></span>
                    </a>
                    <a id="navbar_lite_mode_indicator" data-current-page="blog" style="display: none" href="javascript:void(0)" alt="简洁模式" title="简洁模式启用，您在访问他人博客时会使用简洁款皮肤展示">
                        <img class="navbar-icon" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/lite-mode-on.svg" alt="简洁模式">
                    </a>
                    <div id="user_info" class="navbar-user-info dropdown" style="display: none;">
                        <a class="dropdown-button" href="https://home.cnblogs.com/">
                            <img id="user_icon" class="navbar-avatar" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/avatar-default.svg" alt="用户头像">
                        </a>
                        <div class="dropdown-menu">
                            <a id="navblog-myblog-text" href="https://passport.cnblogs.com/GetBlogApplyStatus.aspx">我的博客</a>
                            <a href="https://home.cnblogs.com/">我的园子</a>
                            <a href="https://account.cnblogs.com/settings/account">账号设置</a>
                            <a href="javascript:void(0)" id="navbar_lite_mode_toggle" title="简洁模式会使用简洁款皮肤显示所有博客">
    简洁模式 <img id="navbar_lite_mode_on" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/lite-mode-check.svg" class="hide" style="display: none;"><span id="navbar_lite_mode_spinner" class="hide">...</span>
</a>
                            <a href="javascript:void(0)" onclick="account.logout();">退出登录</a>
                        </div>
                    </div>
                    <a class="navbar-anonymous" href="https://account.cnblogs.com/signup" style="display: inline;">注册</a>
                    <a class="navbar-anonymous" href="javascript:void(0);" onclick="account.login()" style="display: inline;">登录</a>
                </li>
            </ul>
        </nav>
    </div>

    

    <!--done-->
<div id="home">
<div id="header">
	<div id="blogTitle">
        <a id="lnkBlogLogo" href="https://www.cnblogs.com/apachecn/"><img id="blogLogo" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/logo.gif" alt="返回主页"></a>		
		
<!--done-->
<h1><a id="Header1_HeaderTitle" class="headermaintitle HeaderMainTitle" href="https://www.cnblogs.com/apachecn">龙哥盟</a>
</h1>
<h2>掠夺·扩张·投机·博弈</h2>




		
	</div><!--end: blogTitle 博客的标题和副标题 -->
	<div id="navigator">
		
<ul id="navList">
<li><a id="blog_nav_sitehome" class="menu" href="https://www.cnblogs.com/">
博客园</a>
</li>
<li>
<a id="blog_nav_myhome" class="menu" href="https://www.cnblogs.com/apachecn/">
首页</a>
</li>
<li>

<a id="blog_nav_newpost" class="menu" href="https://i.cnblogs.com/EditPosts.aspx?opt=1">
新随笔</a>
</li>
<li>
<a id="blog_nav_contact" class="menu" href="https://msg.cnblogs.com/send/%E7%BB%9D%E4%B8%8D%E5%8E%9F%E5%88%9B%E7%9A%84%E9%A3%9E%E9%BE%99">
联系</a></li>
<li>
<a id="blog_nav_rss" class="menu" href="javascript:void(0)" data-rss="https://www.cnblogs.com/apachecn/rss/">
订阅</a>
<!--<partial name="./Shared/_XmlLink.cshtml" model="Model" /></li>--></li>
<li>
<a id="blog_nav_admin" class="menu" href="https://i.cnblogs.com/">
管理</a>
</li>
</ul>


		<div class="blogStats">
			<span id="stats_post_count">随笔 - 4272&nbsp; </span>
<span id="stats_article_count">文章 - 0&nbsp; </span>
<span id="stats-comment_count">评论 - 3&nbsp; </span>
<span id="stats-total-view-count">阅读 - 
<span title="总阅读数: 217377">
21万</span></span>

		</div><!--end: blogStats -->
	</div><!--end: navigator 博客导航栏 -->
</div><!--end: header 头部 -->
<div id="main">
	<div id="mainContent">
	<div class="forFlow">
		<div id="post_detail">
    <!--done-->
    <div id="topics">
        <div class="post">
            <h1 class="postTitle">
                <a id="cb_post_title_url" class="postTitle2 vertical-middle" href="https://www.cnblogs.com/apachecn/p/18196636" title="发布于 2024-05-16 19:41">
    <span role="heading" aria-level="2">Linux-快速学习手册-全-</span>
    

</a><button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button>

            </h1>
            <div class="clear"></div>
            <div class="postBody">
                <div id="cnblogs_post_body" class="blogpost-body cnblogs-markdown">
<h1 id="linux-快速学习手册全">Linux 快速学习手册（全）<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<blockquote>
<p>原文：<a href="https://zh.annas-archive.org/md5/d44a95bd11f73f80156880d7ba808e3a" target="_blank" rel="noopener nofollow"><code>zh.annas-archive.org/md5/d44a95bd11f73f80156880d7ba808e3a</code></a></p>
<p>译者：<a href="https://github.com/wizardforcel" target="_blank" rel="noopener nofollow">飞龙</a></p>
<p>协议：<a href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener nofollow">CC BY-NC-SA 4.0</a></p>
</blockquote>
<p>前言</p>
<p>Linux 在 IT 行业中需求量巨大，因为它为全球超过 90%的超级计算机和服务器提供动力。Linux 也是公共云中最受欢迎的操作系统。Linux 是全球顶级公司的基础架构，如亚马逊、谷歌、IBM 和 Paypal。您现在就需要开始学习 Linux！<em>快速学习 Linux，第一版</em>是在两年的时间内编写的，从 2018 年 5 月到 2020 年 5 月。这本书采用了一种现代的学习 Linux 的方法，您一定会欣赏它的独特性和友好的语气。</p>
<h1 id="第一章这本书是为谁准备的">第一章：这本书是为谁准备的<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果您一直想学习 Linux，但仍然害怕这样做，那么这本书就是为您准备的！很多人认为 Linux 是一种只有黑客和极客才知道如何使用的复杂操作系统，因此他们放弃了学习 Linux 的梦想。好吧，让我来给您一个惊喜！Linux 是简单易学的，而这本书就是最好的证明！您可能已经看过各种解释 Linux 的来源，它们都以复杂和枯燥的方式解释 Linux。而这本书恰恰相反；它以一种愉快和友好的方式教会您 Linux，这样您永远不会感到无聊，而且您总是会有动力学习更多。<em>快速学习 Linux</em>不假设任何先前的 Linux 知识，这使它非常适合初学者。然而，中级和高级的 Linux 用户仍然会发现这本书非常有用，因为它涵盖了广泛的主题。</p>
<h1 id="这本书涵盖了什么内容">这本书涵盖了什么内容<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>第一章，<em>您的第一个按键</em>。在这个介绍性的章节中，您将了解 Linux 的历史以及 Linux 在当今世界的影响以及它可能如何塑造未来。您还将学习如何安装 Linux 虚拟机并运行一些简单的命令。</p>
<p>第二章，<em>攀登树</em>。在本章中，您将学习 Linux 文件系统层次结构的组织方式，并探索各种 Linux 命令，这些命令将帮助您浏览 Linux 目录树。</p>
<p>第三章，<em>遇见编辑器</em>。在 Linux 上，您所做的大部分工作都与文件有关！在本章中，您将学习如何使用流行的文本编辑器，如<code>nano</code>和<code>vi</code>来查看和编辑 Linux 文件。您还将学习一些方便的命令，让您可以在自己的终端舒适地查看文件！</p>
<p>第四章，<em>复制、移动和删除文件</em>。在本章中，您将学习如何对文件执行各种操作。您将学习如何复制、移动和删除文件。您还将学习如何重命名和隐藏文件！</p>
<p>第五章，<em>阅读您的手册</em>！让我们诚实一点！您无法记住所有存在的 Linux 命令；没有人可以！这就是为什么在本章中，您将学习如何利用和使用各种 Linux 帮助和文档工具。</p>
<p>第六章，<em>硬链接与软链接</em>。在本章中，您将首先了解文件<code>inode</code>的概念。您还将学习如何创建硬链接和软链接，以及它们之间的区别。</p>
<p>第七章，<em>谁是 Root？</em>是时候终于见到 root 用户了！在本章中，您将了解普通用户的限制，还将意识到 root 用户有多么强大；您还将学习如何在系统上切换不同的用户。</p>
<p>第八章，<em>控制人口</em>。您可以把 Linux 想象成一个强大的大国！在本章中，您将学习如何在 Linux 中引入各种用户和组。您将学习如何修改用户和组属性。您还将学习如何更改文件权限和所有权。</p>
<p>第九章，<em>管道和 I/O 重定向</em>。在这一章中，您将学习如何使用 Linux 管道将一个命令的输出发送到另一个命令的输入，从而实现更复杂的任务。您还将学习如何进行输入和输出重定向。</p>
<p>第十章，<em>分析和操作文件</em>。在这一章中，您将探索一系列 Linux 命令，这些命令将帮助您分析和操作文件。您将学习如何查看文件之间的差异，显示行数，查看文件大小等等！</p>
<p>第十一章，<em>让我们玩寻找和寻找</em>。不知道文件在哪里？别担心！在这一章中，您将学习如何使用 locate 和 find 命令在 Linux 系统上搜索文件。</p>
<p>第十二章，<em>你得到了一个软件包</em>。在这一章中，您将学习如何在 Linux 系统上安装、删除、搜索和更新软件。您将了解 Linux 中使用的软件术语，包括<em>软件包</em>、<em>仓库</em>和<em>软件包管理系统</em>。</p>
<p>第十三章，<em>终结进程</em>。在这一章中，您将学习如何与 Linux 进程交互。您将了解子进程和父进程之间的区别。您还将了解如何在后台运行进程。此外，您还将学习如何终止进程！</p>
<p>第十四章，<em>sudo 的力量</em>。在这一章中，您将学习如何授予用户和组<code>sudo</code>访问权限，以便他们可以执行管理任务。您将学习如何使用<code>visudo</code>命令编辑<code>sudoers</code>文件，并学习添加<code>sudo</code>规则的正确语法。</p>
<p>第十五章，<em>网络出了什么问题？</em>您的网络出了问题！在这一章中，您将学习如何排除网络连接问题。您将学习如何查看您的 IP 地址、DNS、网关和主机配置。此外，您还将学习如何重新启动您的网络接口。</p>
<p>第十六章，<em>Bash 脚本编程很有趣</em>。在这一章中，您将学习如何创建 bash 脚本。您将学习如何使用条件语句为您的 bash 脚本增加智能。此外，您还将学习如何循环和创建 bash 函数。</p>
<p>第十七章，<em>你需要一个定时任务</em>。不想全天候被电脑绑定？<code>cron</code>任务可以帮到你！在这一章中，您将学习如何使用<code>cron</code>任务安排任务。您还将学习如何使用<code>at</code>实用程序安排一次性任务。</p>
<p>第十八章，<em>归档和压缩文件</em>。在这一章中，您将学习如何将文件组合成一个归档文件。您还将学习如何使用各种压缩工具压缩您的归档文件，节省一些磁盘空间。</p>
<p>第十九章，<em>创建您自己的命令</em>。您想定义自己的 Linux 命令吗？在这一章中，您将学习如何使用别名来创建自己的 Linux 命令。您还将学习如何创建临时和永久别名。</p>
<p>第二十章，<em>每个人都需要磁盘空间</em>。在这一章中，您将学习如何分区硬盘。您还将学习如何创建和挂载文件系统。此外，您还将学习如何修复损坏的文件系统。此外，您还将学习如何使用 Linux LVM 创建逻辑卷。</p>
<p>第二十一章，<em>echo“再见，我的朋友”。</em>您的下一步可能是什么？让我给您一些建议，告诉您在阅读本书后该做些什么。</p>
<h1 id="要充分利用本书">要充分利用本书<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>这本书的唯一要求基本上是任何能工作的计算机！</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>本书涵盖的软件/硬件</strong></th>
<th><strong>操作系统要求</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>任何虚拟化软件，如 VirtualBox，VMware Player 或 VMware Fusion</td>
<td>Windows，macOS 或 Linux</td>
</tr>
</tbody>
</table></div>
<p><strong>如果你正在使用本书的数字版本，我们建议你自己输入命令和脚本。这样做将帮助你避免与复制和粘贴命令和脚本相关的任何潜在错误。</strong></p>
<p>我非常相信“熟能生巧”的原则。你练习 Linux 的次数越多，你就会越熟悉它。你可以将 Linux 安装为你的主要操作系统；这样你就可以每天都使用 Linux。如果这对你来说不是一个选择，那为什么不买一个便宜的树莓派来玩玩呢？</p>
<h2 id="下载彩色图像">下载彩色图像<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>我们还提供了一个 PDF 文件，其中包含本书中使用的屏幕截图/图表的彩色图像。您可以在这里下载：<a href="http://www.packtpub.com/sites/default/files/downloads/9781800566002_ColorImages.pdf" target="_blank" rel="noopener nofollow"><code>www.packtpub.com/sites/default/files/downloads/9781800566002_ColorImages.pdf</code></a>。</p>
<h2 id="使用的约定">使用的约定<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>本书中使用了许多文本约定。</p>
<p><code>CodeInText</code>：表示文本中的代码词，数据库表名，文件夹名，文件名，文件扩展名，路径名，虚拟 URL，用户输入和 Twitter 句柄。例如："<code>exit</code>和<code>cd</code>命令是 shell 内置命令的两个例子。"</p>
<p>当我们希望引起你对代码块的特定部分的注意时，相关行或项目将以粗体显示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-section">[default]</span>
<span class="hljs-attr">exten</span> =&gt; s,<span class="hljs-number">1</span>,Dial(Zap/<span class="hljs-number">1</span>|<span class="hljs-number">30</span>)
<span class="hljs-attr">exten</span> =&gt; s,<span class="hljs-number">2</span>,Voicemail(u100)
<span class="hljs-attr">exten</span> =&gt; s,<span class="hljs-number">102</span>,Voicemail(b100)
<span class="hljs-attr">exten</span> =&gt; i,<span class="hljs-number">1</span>,Voicemail(s0)
</code></pre>
<p>任何命令行输入或输出都以以下形式书写：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-shell"><span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">mkdir</span> css</span>
<span class="hljs-meta">$ </span><span class="language-bash"><span class="hljs-built_in">cd</span> css</span>
</code></pre>
<p><strong>粗体</strong>：表示一个新术语，一个重要的词，或者屏幕上看到的词。例如："<strong>文件名</strong>是 inode 数据结构的一部分。"</p>
<p>警告或重要提示会以这种形式出现。</p>
<p>技巧和窍门会以这种形式出现。</p>
<h1 id="联系方式">联系方式<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们非常欢迎读者的反馈。</p>
<p><strong>一般反馈</strong>：如果你对本书的任何方面有疑问，请在你的消息主题中提到书名，并发送邮件至<code>customercare@packtpub.com</code>。</p>
<p><strong>勘误</strong>：尽管我们已经非常注意确保内容的准确性，但错误是难免的。如果你在这本书中发现了错误，我们将不胜感激地接受你的报告。请访问<a href="https://www.packtpub.com/support/errata" target="_blank" rel="noopener nofollow">www.packtpub.com/support/errata</a>，选择你的书，点击勘误提交表格链接，并输入详细信息。</p>
<p><strong>盗版</strong>：如果你在互联网上发现我们作品的任何非法副本，我们将不胜感激地接受你提供的位置地址或网站名称。请通过<code>copyright@packt.com</code>与我们联系，并提供材料链接。</p>
<p><strong>如果你有兴趣成为作者</strong>：如果你在某个专题上有专业知识，并且有兴趣撰写或为一本书做出贡献，请访问<a href="http://authors.packtpub.com/" target="_blank" rel="noopener nofollow">authors.packtpub.com</a>。</p>
<h2 id="评论">评论<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>请留下评论。一旦你阅读并使用了这本书，为什么不在购买它的网站上留下评论呢？潜在的读者可以看到并使用你的客观意见来做出购买决定，我们在 Packt 可以了解你对我们产品的看法，我们的作者可以看到你对他们书籍的反馈。谢谢！</p>
<p>有关 Packt 的更多信息，请访问<a href="http://www.packt.com/" target="_blank" rel="noopener nofollow">packt.com</a>。</p>
<p>你的第一个按键</p>
<p>我想欢迎你来到这本书的第一章。当你阅读这本书时，你会感觉自己在读一个故事，但这不是一般的故事，这是 Linux 的故事。在这一章中，你将了解 Linux 的起源以及 Linux 对当今世界的影响。你还将了解 Linux 如何塑造计算机的未来。最后，你将学会如何在计算机上安装 Linux 虚拟机。所以，不多说了，让我们开始吧。</p>
<h1 id="第二章一点历史">第二章：一点历史<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>Linux 的故事始于 1991 年，当时芬兰赫尔辛基大学的计算机科学学生 Linus Torvalds 开始写一个免费的操作系统作为业余爱好！现在想想，他的业余项目竟然成为了历史上最大的开源项目。哦，如果你还没有意识到，这个免费的操作系统就是 Linux。网上有很多关于开源的定义，其中一些对于没有经验的读者来说有些混乱，所以这里有一个简化的解释：</p>
<p><strong>什么是开源？</strong></p>
<p>开源项目是指其源代码对公众开放查看和编辑的软件项目。</p>
<p>源代码只是用于开发软件的代码（程序）的集合；在 Linux 的上下文中，它指的是构建 Linux 操作系统的编程代码。现在你知道什么是开源，很容易想象什么是封闭源：</p>
<p><strong>什么是封闭源？</strong></p>
<p>封闭源项目是指其源代码不对公众开放查看和编辑的软件项目。</p>
<p>Linux 是开源项目的最著名的例子。另一方面，微软 Windows 是封闭源项目的最著名的例子。</p>
<p>有些人不知道什么是操作系统，但不用担心；我会帮你解释。这里有一个简单的操作系统定义：</p>
<p><strong>什么是操作系统？</strong></p>
<p>操作系统是一种管理计算机资源（如内存和磁盘空间）的软件程序。它还允许计算机的硬件和软件相互通信。操作系统也可能包括其他应用程序：文本编辑器、文件管理器、图形用户界面、软件管理器等。</p>
<p>这里有很多不同的操作系统；以下是一些例子：</p>
<ul>
<li>
<p>Linux</p>
</li>
<li>
<p>Android</p>
</li>
<li>
<p>macOS</p>
</li>
<li>
<p>Microsoft Windows</p>
</li>
<li>
<p>Apple iOS</p>
</li>
<li>
<p>BlackBerry</p>
</li>
</ul>
<p>请记住，这个列表非常简短，无法全面涵盖。有大量的操作系统，甚至很难统计它们的数量。</p>
<p>谈到操作系统时，我们必须提到内核，它是任何操作系统的核心。</p>
<p><strong>什么是内核？</strong></p>
<p>内核只是任何操作系统的核心。它是操作系统的一部分，用于组织对 CPU、内存和磁盘等系统资源的访问。</p>
<p>请注意，在定义中，我说内核是操作系统的一部分。下图可以帮助你形象地理解内核和操作系统之间的区别。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/99c8c1fa-9fa9-4e6c-a765-1e30375b7225.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：操作系统 vs. 内核</p>
<p>与微软 Windows 或 macOS 不同，Linux 有许多不同的风味；这些风味被称为发行版，也被简称为 distros。</p>
<p><strong>什么是 Linux 发行版？</strong></p>
<p>由于 Linux 是开源的，许多人和组织已经修改了 Linux 内核以及 Linux 操作系统的其他组件，以开发和定制适合他们需求的 Linux 版本。</p>
<p>实际上有数百种 Linux 发行版！你可以去<a href="http://www.distrowatch.com/" target="_blank" rel="noopener nofollow">www.distrowatch.com</a>查看庞大的 Linux 发行版列表。</p>
<p><a href="http://www.distrowatch.com/" target="_blank" rel="noopener nofollow">distrowatch.com</a>的好处在于它显示了世界上所有 Linux 发行版的受欢迎程度排名。您甚至会发现一些 Linux 发行版是根据特定目的设计的。例如，Scientific Linux 是许多科学家中受欢迎的 Linux 发行版，因为它预装了许多科学应用程序，这使它成为科学界的首选 Linux。</p>
<h1 id="今天的-linux-和未来">今天的 Linux 和未来<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>1991 年，Linux 只是一个小宝宝。但这个宝宝迅速成长，变得非常受欢迎。如今，Linux 为全球超过 90%的顶级超级计算机提供动力。而且让你惊讶的是，你可能已经使用 Linux 多年而没有注意到。怎么可能？如果你曾经使用过安卓智能手机，那么你就使用过 Linux，因为安卓是一个 Linux 发行版！如果你还不相信我，去<a href="http://www.distrowatch.com/" target="_blank" rel="noopener nofollow">distrowatch.com</a>搜索安卓。</p>
<p>更严肃的问题是，大多数政府服务器都运行 Linux，这就是为什么您会看到很多政府技术工作需要懂得 Linux 的人。此外，亚马逊、eBay、PayPal、沃尔玛等大公司都依赖 Linux 来运行他们的先进和复杂的应用程序。此外，Linux 在云端占据主导地位，超过 75%的云解决方案都在运行 Linux。</p>
<p>Linux 的故事真是鼓舞人心。曾经的爱好现在已经成为互联网的主导力量，而 Linux 的未来看起来更加光明。著名的汽车制造商和汽车制造商如雷克萨斯和丰田现在正在采用 Linux 技术，比如<strong>汽车级 Linux</strong>（<strong>AGL</strong>）。您可以在<a href="http://www.automotivelinux.org/" target="_blank" rel="noopener nofollow">www.automotivelinux.org</a>上找到更多信息。</p>
<p>Linux 还运行在许多嵌入式设备上，并且是流行的树莓派、Beagle Bone 和许多其他微控制器的基础。您甚至可能会惊讶地知道一些洗衣机也在运行 Linux！所以每当你去洗衣服的时候，花点时间，感谢我们生活中有 Linux。</p>
<h1 id="安装-linux-虚拟机">安装 Linux 虚拟机<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有多种安装 Linux 系统的方法。例如，如果您目前正在作为主要操作系统运行 Windows，那么您可能可以在 Windows 旁边双启动 Linux，但这种方法对初学者不友好。安装过程中的任何错误可能会给您带来很多头痛，而且在某些情况下，您甚至可能无法再启动 Windows！我想要帮您避免很多痛苦和烦恼，所以我将向您展示如何将 Linux 安装为虚拟机。</p>
<p>什么是虚拟机？</p>
<p>虚拟机就是在另一台计算机（主机）内运行的计算机。虚拟机共享主机资源，表现得就像独立的物理机一样。</p>
<p>您还可以拥有嵌套虚拟机，这意味着您可以在另一个虚拟机内运行虚拟机。</p>
<p>安装虚拟机的过程很简单，您只需要按照以下步骤进行：</p>
<ol>
<li>
<p>安装 VirtualBox（或 VMware Player）。</p>
</li>
<li>
<p>下载任何 Linux 发行版的 ISO 镜像。</p>
</li>
<li>
<p>打开 VirtualBox 并开始安装过程。</p>
</li>
</ol>
<p>第一步是安装 VirtualBox，这是一个跨平台的虚拟化应用程序，可以让我们创建虚拟机。VirtualBox 是免费的，可以在 macOS、Windows 和 Linux 上运行。快速搜索一下：VirtualBox 下载就可以搞定。如果你感到有点懒，你可以在以下链接下载 VirtualBox：<a href="http://www.virtualbox.org/wiki/Downloads" target="_blank" rel="noopener nofollow">www.virtualbox.org/wiki/Downloads</a>。</p>
<p>安装完 VirtualBox 后，您现在需要下载任何 Linux 发行版的 ISO 镜像。在本书中，您将使用 Ubuntu，这在初学者中可能是最受欢迎的 Linux 发行版。您可以在以下链接下载 Ubuntu：<a href="http://www.ubuntu.com/download/desktop" target="_blank" rel="noopener nofollow">www.ubuntu.com/download/desktop</a>。</p>
<p>我建议您下载最新的 Ubuntu <strong>LTS</strong>（<strong>长期支持</strong>）版本，因为它经过了充分测试，并且有更好的支持。</p>
<p>最后一步，您需要打开 VirtualBox，并使用您从<em>步骤 2</em>下载的 Ubuntu ISO 镜像创建一个 Linux 虚拟机。</p>
<p>打开 VirtualBox 时，您需要从菜单栏中选择“新建”。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/ee3ba116-6f34-41a6-8b17-7602b315c928.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：创建新虚拟机</p>
<p>然后，您需要选择新虚拟机的名称和类型。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/1be7c48a-82b6-46e9-b127-5606082e131b.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：选择名称和类型</p>
<p>之后，点击“继续”，选择要为虚拟机分配多少内存。我强烈建议选择<code>2</code>GB 或更多。例如，在下面的截图中，我选择为我的虚拟机分配<code>4096</code>MB 的内存（RAM），相当于<code>4</code>GB。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/50b7d3ff-f1bd-44ad-b2db-d03f7abf61eb.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：选择内存大小</p>
<p>之后，点击“继续”，确保选择“现在创建虚拟硬盘”，如下截图所示，然后点击“创建”。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/7add8ea6-d469-432d-9bdf-0c9b53e5a92b.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：创建硬盘</p>
<p>之后，选择<strong>VDI</strong>（<strong>VirtualBox 磁盘映像</strong>），如下截图所示，然后点击继续。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/666ae5c5-6fee-4611-8321-e259938acf64.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 6：硬盘文件类型</p>
<p>现在选择“动态分配”，如下截图所示，然后点击“继续”。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b8ebdc9c-3567-47a9-a70d-db4ef233ca6e.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 7：物理硬盘上的存储</p>
<p>现在您可以选择虚拟机的硬盘大小。我强烈建议您选择<code>10</code>GB 或更高。在下面的截图中，我选择了<code>20</code>GB 作为我的虚拟机的硬盘大小。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/3c5bd5c0-f106-46cf-9b4b-84c07f4de223.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 8：硬盘大小</p>
<p>选择硬盘大小后，点击“创建”完成虚拟机的创建。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b3bda4ba-53ba-4eed-b01c-b88d0066be1c.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 9：虚拟机已创建</p>
<p>您可以点击绿色的“启动”按钮来启动您的虚拟机。然后，您需要选择一个启动盘，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/f83622bf-00aa-4c3f-899a-edbe00a956e1.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 10：选择启动盘</p>
<p>选择您已下载的 Ubuntu ISO 镜像，然后点击“启动”以启动 Ubuntu 安装程序，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/c8b65b80-43f4-4ede-9e64-773dbf785b5d.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 11：Ubuntu 安装程序</p>
<p>现在您可以选择安装 Ubuntu。接下来，您将需要选择语言和键盘布局。之后，您应该继续接受默认设置。</p>
<p>最终，您将来到创建新用户的步骤，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b75186d4-fe18-4d23-8612-7010452bf009.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 12：创建新用户</p>
<p>我选择了用户名<code>elliot</code>，因为我是《黑客军团》这部电视剧的忠实粉丝，而且 Elliot 在轻松地黑入 E Corp 时一直在使用 Linux！我强烈建议您选择<code>elliot</code>作为您的用户名，这样您就可以更轻松地跟着本书学习。</p>
<p>然后您可以点击“继续”，系统安装将开始，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/90acf23b-99c8-40d3-b8b4-9b3e5e6400d1.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 13：系统安装</p>
<p>安装过程将需要几分钟。在安装完成时，请耐心等待或自己泡杯咖啡。</p>
<p>安装完成后，您需要重新启动虚拟机，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/c938673a-ea0b-4896-aaea-ef3e199d805e.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 14：安装完成</p>
<p>您可以点击“立即重启”。之后，可能会要求您移除安装介质，您可以通过选择“设备” -+ “光驱” -+ “从虚拟驱动器中移除磁盘”来完成。</p>
<p>最后，您应该看到登录界面，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/7311d52b-7ef1-4685-bd85-edae747c4d22.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 15：Ubuntu 登录</p>
<p>现在您可以输入密码，万岁！您现在已经进入了 Linux 系统。</p>
<p>还有其他方法可以用来尝试 Linux 系统。例如，您可以在<strong>AWS</strong>（<strong>亚马逊网络服务</strong>）上创建一个账户，并在 Amazon EC2 实例上启动一个 Linux 虚拟机。同样，您也可以在 Microsoft Azure 上创建一个 Linux 虚拟机。所以，可以说你很幸运生活在这个时代！过去，要在 Linux 上运行起来是一个痛苦的过程。</p>
<h1 id="终端与-shell">终端与 Shell<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><strong>图形用户界面</strong>（<strong>GUI</strong>）相当容易理解。您可以轻松地四处走动，连接到互联网并打开您的网络浏览器。所有这些都很容易，正如您在下面的截图中所看到的。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/93e299ca-a754-4d58-8c0d-0ccea2cba423.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 16：图形用户界面</p>
<p>您可以使用<strong>Ubuntu 软件</strong>在系统上安装新的软件程序。</p>
<p>您可以使用<strong>Dash</strong>与在 Microsoft Windows 上使用“开始”菜单启动应用程序的方式相同。</p>
<p><strong>LibreOffice Writer</strong>是一个出色的文字处理器，与 Microsoft Word 具有相同的功能，只有一个区别；它是免费的！</p>
<p>现在，您可以成为一个休闲的 Linux 用户，这意味着您可以使用 Linux 来执行日常用户所做的基本任务：浏览 YouTube，发送电子邮件，搜索 Google 等。但是，要成为一个高级用户，您需要熟练使用 Linux 的<strong>命令行界面</strong>。</p>
<p>要访问 Linux 的<strong>命令行界面</strong>，您需要打开终端仿真器，通常简称为<strong>终端</strong>。</p>
<p><strong>什么是终端仿真器？</strong></p>
<p>终端仿真器是一种模拟物理终端（控制台）的程序。终端与 Shell（命令行界面）进行交互。</p>
<p>好了，现在您可能会摸着头皮问自己：“什么是 Shell？”</p>
<p><strong>什么是 Shell？</strong></p>
<p>Shell 是一个命令行解释器，也就是说，它是一个处理和执行命令的程序。</p>
<p>好了，够了，不要再讲理论了。让我们通过一个示例来理解并把所有东西联系在一起。继续打开终端，点击 Dash，然后搜索<code>终端</code>。您也可以使用快捷键<em>Ctrl</em>+<em>Alt</em>+<em>T</em>来打开终端。当终端打开时，您将看到一个新窗口，就像下面的截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/444147ac-e059-4571-b5dc-4f80d4357a76.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 17：终端</p>
<p>它看起来有点像 Microsoft Windows 上的命令提示符。好了，现在在您的终端上输入<code>date</code>，然后按<em>Enter</em>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">date</span> 
Tue Feb 17 16:39:13 CST 2020
</code></pre>
<p>现在让我们讨论发生了什么，<code>date</code>是一个打印当前日期和时间的 Linux 命令，当您按下<em>Enter</em>后，Shell（在幕后工作）然后执行了<code>date</code>命令，并在您的终端上显示了输出。</p>
<p>您不应该混淆<strong>终端</strong>和<strong>Shell</strong>。终端是您在屏幕上看到的窗口，您可以在其中输入命令，而 Shell 负责执行命令。就是这样，没有更多，也没有更少。</p>
<p>您还应该知道，如果您输入任何无意义的内容，您将会收到<strong>命令未找到</strong>的错误，就像下面的例子中所示的那样：</p>
<pre class="highlighter-hljs" highlighted="true" has-selection="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ blabla </span>
<span class="hljs-section">blabla: command not found</span>
</code></pre>
<h1 id="一些简单的命令">一些简单的命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>恭喜您学会了您的第一个 Linux 命令（<code>date</code>）。现在让我们继续学习更多！</p>
<p>通常在显示日期后会显示日历，对吧？要显示当前月份的日历，您可以运行<code>cal</code>命令：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/2c75f247-1580-4633-8913-55f3f22de3b6.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 18：cal 命令</p>
<p>您还可以显示整年的日历，例如，要获取完整的 2022 年日历，您可以运行：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/2f2a0044-ca10-4aed-973b-857717fe5bf4.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 19：2022 年的 cal 命令</p>
<p>您还可以指定一个月份，例如，要显示 1993 年 2 月的日历，您可以运行以下命令：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b0b8c99a-cab9-49b0-b780-86a5874adee2.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 20：1993 年 2 月的 cal 命令</p>
<p>您现在在终端上有很多输出。您可以运行<code>clear</code>命令来清除终端屏幕：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/299b7a1a-5392-4079-93af-eaf9d6c627f2.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 21：清除前</p>
<p>这是在运行<code>clear</code>命令后你的终端会看起来的样子：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/8bcfbb4d-a446-4148-a472-12801c8b5638.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 22：清除后</p>
<p>您可以使用<code>lscpu</code>命令，它是<strong>列出 CPU</strong>的缩写，来显示 CPU 架构信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot©ubuntu-linux:-$</span> <span class="hljs-string">lscpu</span> 
<span class="hljs-attr">Architecture:</span>          <span class="hljs-string">x86_64</span>
<span class="hljs-string">CPU</span> <span class="hljs-string">op-mode(s):</span>        <span class="hljs-number">32</span><span class="hljs-string">-bit,</span> <span class="hljs-number">64</span><span class="hljs-string">-bit</span> 
<span class="hljs-attr">Byte Order:</span>            <span class="hljs-string">Little</span> <span class="hljs-string">Endian</span>
<span class="hljs-string">CPU(s):</span>                <span class="hljs-number">1</span>
<span class="hljs-string">On-line</span> <span class="hljs-string">CPU(s)</span> <span class="hljs-attr">list:</span>   <span class="hljs-number">0</span>
<span class="hljs-string">Thread(s)</span> <span class="hljs-attr">per core:</span>    <span class="hljs-number">1</span> 
<span class="hljs-string">Core(s)</span> <span class="hljs-attr">per socket:</span>    <span class="hljs-number">1</span> 
<span class="hljs-string">Socket(s):</span>             <span class="hljs-number">1</span>
<span class="hljs-string">NUMA</span> <span class="hljs-string">node(s):</span>          <span class="hljs-number">1</span>
<span class="hljs-attr">Vendor ID:</span>             <span class="hljs-string">GenuineIntel</span>
<span class="hljs-attr">CPU family:</span>            <span class="hljs-number">6</span>
<span class="hljs-attr">Model:</span>                 <span class="hljs-number">61</span>
<span class="hljs-attr">Model name:</span>            <span class="hljs-string">Intel(R)</span> <span class="hljs-string">Core(TM)</span> <span class="hljs-string">i5-5300U</span> <span class="hljs-string">CPU©</span> <span class="hljs-attr">2.30GHz Stepping:</span> <span class="hljs-number">4</span>
<span class="hljs-attr">CPU MHz:</span>               <span class="hljs-number">2294.678</span>
<span class="hljs-attr">BogoMIPS:</span>              <span class="hljs-number">4589.35</span>
<span class="hljs-attr">Hypervisor vendor:</span>     <span class="hljs-string">KVM</span> 
<span class="hljs-attr">Virtualization type:</span>   <span class="hljs-string">full</span> 
<span class="hljs-attr">Lid cache:</span>             <span class="hljs-string">32K</span>
<span class="hljs-attr">L1i cache:</span>             <span class="hljs-string">32K</span>
<span class="hljs-attr">L2 cache:</span>              <span class="hljs-string">256K</span>
<span class="hljs-attr">L3 cache:</span>              <span class="hljs-string">3072K</span> 
<span class="hljs-string">NUMA</span> <span class="hljs-string">nodeO</span> <span class="hljs-string">CPU(s):</span>     <span class="hljs-number">0</span>
<span class="hljs-attr">Flags:</span>                 <span class="hljs-string">fpu</span> <span class="hljs-string">vme</span> <span class="hljs-string">de</span> <span class="hljs-string">pse</span> <span class="hljs-string">tsc</span> <span class="hljs-string">msr</span> <span class="hljs-string">pae</span> <span class="hljs-string">mce</span> <span class="hljs-string">cx8</span> <span class="hljs-string">apic</span> <span class="hljs-string">sep</span> <span class="hljs-string">mtrr</span>
</code></pre>
<p>您可以使用<code>uptime</code>命令来检查系统已运行多长时间。<code>uptime</code>命令还会显示：</p>
<ul>
<li>
<p>当前时间。</p>
</li>
<li>
<p>当前已登录的用户数。</p>
</li>
<li>
<p>过去 1、5 和 15 分钟的系统负载平均值。</p>
</li>
</ul>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ uptime</span>
<span class="hljs-section">18:48:04 up 4 days, 4:02, 1 user, load average: 0.98, 2.12, 3.43</span>
</code></pre>
<p>您可能会对<code>uptime</code>命令的输出感到害怕，但不用担心，下表会为您解释输出内容。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><code>18:48:04</code></th>
<th>输出中看到的第一件事是当前时间。</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>已运行 4 天 4 小时 2 分钟</code></td>
<td>这基本上是说系统已经运行了 4 天 4 小时 2 分钟。</td>
</tr>
<tr>
<td><code>1 个用户</code></td>
<td>目前只有一个用户登录。</td>
</tr>
<tr>
<td><code>负载平均值：0.98, 2.12, 3.43</code></td>
<td>过去 1、5 和 15 分钟的系统负载平均值。</td>
</tr>
</tbody>
</table></div>
<p>表 1：uptime 命令输出</p>
<p>您可能以前没有听说过负载平均值。要理解负载平均值，首先必须了解系统负载。</p>
<p><strong>什么是系统负载？</strong></p>
<p>简单来说，系统负载是 CPU 在给定时间内执行的工作量。</p>
<p>因此，计算机上运行的进程（或程序）越多，系统负载就越高，运行的进程越少，系统负载就越低。现在，既然您了解了系统负载是什么，那么理解负载平均值就很容易了。</p>
<p><strong>什么是负载平均值？</strong></p>
<p>负载平均值是在 1、5 和 15 分钟内计算的平均系统负载。</p>
<p>因此，您在<code>uptime</code>命令输出的末尾看到的三个数字分别是 1、5 和 15 分钟的负载平均值。例如，如果您的负载平均值为：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua"><span class="hljs-built_in">load</span> average: <span class="hljs-number">2.00</span>, <span class="hljs-number">4.00</span>, <span class="hljs-number">6.00</span>
</code></pre>
<p>然后这三个数字分别代表以下内容：</p>
<ul>
<li>
<p><code>2.00 --+</code>：过去一分钟的负载平均值。</p>
</li>
<li>
<p><code>4.00 --+</code>：过去五分钟的负载平均值。</p>
</li>
<li>
<p><code>6.00 --+</code>：过去十五分钟的负载平均值。</p>
</li>
</ul>
<p>从负载平均值的定义中，我们可以得出以下关键点：</p>
<ol>
<li>
<p>负载平均值为<code>0.0</code>表示系统处于空闲状态（什么也不做）。</p>
</li>
<li>
<p>如果 1 分钟负载平均值高于<code>5</code>或<code>15</code>分钟的平均值，则这意味着您的系统负载正在增加。</p>
</li>
<li>
<p>如果 1 分钟负载平均值低于<code>5</code>或<code>15</code>分钟的平均值，则这意味着您的系统负载正在减少。</p>
</li>
</ol>
<p>例如，负载平均值为：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua"><span class="hljs-built_in">load</span> average: <span class="hljs-number">1.00</span>, <span class="hljs-number">3.00</span>, <span class="hljs-number">7.00</span>
</code></pre>
<p>显示系统负载随时间减少。另一方面，负载平均值为：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua"><span class="hljs-built_in">load</span> average: <span class="hljs-number">5.00</span>, <span class="hljs-number">3.00</span>, <span class="hljs-number">2.00</span>
</code></pre>
<p>表明系统负载随时间增加。作为实验，首先通过运行<code>uptime</code>命令记录负载平均值，然后打开您的网络浏览器并打开多个选项卡，然后重新运行<code>uptime</code>；您会看到负载平均值已经增加。之后关闭浏览器并再次运行<code>uptime</code>，您会看到负载平均值已经减少。</p>
<p>您可以运行<code>reboot</code>命令来重新启动系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ reboot</span>
</code></pre>
<p>您可以运行<code>pwd</code>命令来打印当前工作目录的名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>当前工作目录是用户在特定时间工作的目录。默认情况下，当您登录到 Linux 系统时，您的当前工作目录设置为您的主目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">/home/your_username
</code></pre>
<p><strong>什么是目录？</strong></p>
<p>在 Linux 中，我们将文件夹称为目录。目录是包含其他文件的文件。</p>
<p>您可以运行<code>ls</code>命令来列出当前工作目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot©ubuntu<span class="hljs-literal">-linux</span>:-<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span>
Desktop Documents Downloads Music Pictures Public Videos
</code></pre>
<p>如果您想更改密码，可以运行<code>passwd</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true" has-selection="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot©ubuntu-linux:-$</span> <span class="hljs-string">passwd</span> 
<span class="hljs-string">Changing</span> <span class="hljs-string">password</span> <span class="hljs-string">for</span> <span class="hljs-string">elliot.</span> 
<span class="hljs-string">(current)</span> <span class="hljs-attr">UNIX password:</span>
<span class="hljs-attr">Enter new UNIX password:</span>
<span class="hljs-attr">Retype new UNIX password:</span>
<span class="hljs-attr">passwd:</span> <span class="hljs-string">password</span> <span class="hljs-string">updated</span> <span class="hljs-string">successfully</span>
</code></pre>
<p>您可以使用<code>hostname</code>命令来显示系统的主机名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ hostname </span>
ubuntu-linux
</code></pre>
<p>您可以使用<code>free</code>命令来显示系统上的空闲和已使用内存量：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ free</span>
 total      used    free   shared   buff/cache  available 
<span class="hljs-section">Mem:    4039732   1838532  574864    71900      1626336    1848444</span>
<span class="hljs-section">Swap:    969960         0  969960</span>
</code></pre>
<p>默认情况下，<code>free</code>命令以千字节为单位显示输出，但只有外星人才能理解这个输出。</p>
<p>通过使用<code>-h</code>选项运行<code>free</code>命令，您可以获得对我们人类有意义的输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ free -h</span>
 total     used     free     shared     buff/cache     available
<span class="hljs-section">Mem:      3.9G     1.8G     516M        67M           1.6G          1.7G</span>
<span class="hljs-section">Swap:     947M       OB     947M </span>
</code></pre>
<p>这样好多了，对吧？<code>-h</code>是<code>--human</code>的缩写，它以人类可读的格式显示输出。</p>
<p>您可能已经注意到，这是我们第一次使用选项运行命令。大多数 Linux 命令都有选项，您可以使用这些选项轻微更改它们的默认行为。</p>
<p>您还应该知道，命令选项要么以单破折号（<code>-</code>）开头，要么以双破折号（<code>--</code>）开头。如果您使用命令选项的缩写名称，则可以使用单破折号。另一方面，如果您使用命令选项的全名，则需要使用双破折号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot©ubuntu-linux:-$ free --human</span>
 total     used     free     shared     buff/cache     available
<span class="hljs-section">Mem:      3.9G     1.8G     516M        67M           1.6G          1.7G</span>
<span class="hljs-section">Swap:     947M       OB     947M </span>
</code></pre>
<p>如您所见，<code>free</code>命令的前两次运行产生了相同的输出。唯一的区别是第一次，我们使用了缩写命令选项名称<code>-h</code>，因此我们使用了单破折号。而第二次，我们使用了完整的命令选项名称<code>--human</code>，因此我们使用了双破折号。</p>
<p>在使用命令选项的缩写名称与完整命令选项名称时，您可以自由选择。</p>
<p>您可以使用<code>df</code>命令来显示系统上可用的磁盘空间量：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-javascript">elliot©ubuntu-<span class="hljs-attr">linux</span>:-$ df
<span class="hljs-title class_">Filesystem</span>     1K-blocks     <span class="hljs-title class_">Used</span>     <span class="hljs-title class_">Available</span>     <span class="hljs-title class_">Use</span>%      <span class="hljs-title class_">Mounted</span> on
udev             <span class="hljs-number">1989608</span>        <span class="hljs-number">0</span>       <span class="hljs-number">1989608</span>       <span class="hljs-number">0</span>%            /dev
tmpfs             <span class="hljs-number">403976</span>     <span class="hljs-number">1564</span>        <span class="hljs-number">402412</span>       <span class="hljs-number">1</span>%            /run
/dev/sda1       <span class="hljs-number">20509264</span>  <span class="hljs-number">6998972</span>      <span class="hljs-number">12445436</span>      <span class="hljs-number">36</span>%           /
tmpfs            <span class="hljs-number">2019864</span>    <span class="hljs-number">53844</span>       <span class="hljs-number">1966020</span>       <span class="hljs-number">3</span>%        <span class="hljs-regexp">/dev/</span>shm
tmpfs               <span class="hljs-number">5120</span>        <span class="hljs-number">4</span>          <span class="hljs-number">5116</span>       <span class="hljs-number">1</span>%       <span class="hljs-regexp">/run/</span>lock
tmpfs            <span class="hljs-number">2019864</span>        <span class="hljs-number">0</span>       <span class="hljs-number">2019864</span>       <span class="hljs-number">0</span>%  <span class="hljs-regexp">/sys/</span>fs/cgroup
/dev/loop0         <span class="hljs-number">91648</span>    <span class="hljs-number">91648</span>             <span class="hljs-number">0</span>     <span class="hljs-number">100</span>% <span class="hljs-regexp">/snap/</span>core/<span class="hljs-number">6130</span>
tmpfs             <span class="hljs-number">403972</span>       <span class="hljs-number">28</span>        <span class="hljs-number">403944</span>       <span class="hljs-number">1</span>%   <span class="hljs-regexp">/run/u</span>ser/<span class="hljs-number">121</span>
tmpfs             <span class="hljs-number">403972</span>       <span class="hljs-number">48</span>        <span class="hljs-number">403924</span>       <span class="hljs-number">1</span>%  <span class="hljs-regexp">/run/u</span>ser/<span class="hljs-number">1000</span>
</code></pre>
<p>同样，您可能希望使用<code>-h</code>选项以显示更好的格式：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-javascript">elliot©ubuntu-<span class="hljs-attr">linux</span>:-$ df -h
<span class="hljs-title class_">Filesystem</span>       <span class="hljs-title class_">Size</span>      <span class="hljs-title class_">Used</span>      <span class="hljs-title class_">Avail</span>     <span class="hljs-title class_">Use</span>%      <span class="hljs-title class_">Mounted</span> on
udev             <span class="hljs-number">1.</span>9G         <span class="hljs-number">0</span>       <span class="hljs-number">1.</span>9G       <span class="hljs-number">0</span>%            /dev
tmpfs            395M      <span class="hljs-number">1.</span>6M       393M       <span class="hljs-number">1</span>%            /run
/dev/sda1         20G      <span class="hljs-number">6.</span>7G        12G      <span class="hljs-number">36</span>%            /
tmpfs            <span class="hljs-number">2.</span>0G       57M       <span class="hljs-number">1.</span>9G       <span class="hljs-number">3</span>%        <span class="hljs-regexp">/dev/</span>shm
tmpfs            <span class="hljs-number">5.</span>0M      <span class="hljs-number">4.</span>0K       <span class="hljs-number">5.</span>0M       <span class="hljs-number">1</span>%       <span class="hljs-regexp">/run/</span>lock
tmpfs            <span class="hljs-number">2.</span>0G         <span class="hljs-number">0</span>       <span class="hljs-number">2.</span>0G       <span class="hljs-number">0</span>%  <span class="hljs-regexp">/sys/</span>fs/cgroup
/dev/loop0        90M       90M          <span class="hljs-number">0</span>     <span class="hljs-number">100</span>% <span class="hljs-regexp">/snap/</span>core/<span class="hljs-number">6130</span>
tmpfs            395M       28K       395M       <span class="hljs-number">1</span>%   <span class="hljs-regexp">/run/u</span>ser/<span class="hljs-number">121</span>
tmpfs            395M       48K       395M       <span class="hljs-number">1</span>%  <span class="hljs-regexp">/run/u</span>ser/<span class="hljs-number">1000</span>
</code></pre>
<p>如果您无法理解输出中的所有内容，不要担心，因为我将在接下来的章节中详细解释一切。本章的整个想法是让您有所了解；我们稍后将深入研究。</p>
<p><code>echo</code>命令是另一个非常有用的命令；它允许您在终端上打印一行文本。例如，如果您想在终端上显示<code>Cats are better than Dogs!</code>这一行，那么您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot©ubuntu<span class="hljs-operator">-</span>linux:<span class="hljs-operator">-</span>$ echo Cats <span class="hljs-keyword">are</span> better than Dogs<span class="hljs-operator">!</span> 
Cats <span class="hljs-keyword">are</span> better than Dogs<span class="hljs-operator">!</span>
</code></pre>
<p>您可能会问自己，“这有什么用？”好吧，我向您保证，当您读完本书时，您会意识到<code>echo</code>命令的巨大好处。</p>
<p>你可以在终端上花费大量时间，输入命令。有时，您可能想要重新运行一个命令，但可能忘记了命令的名称或您使用的选项，或者您只是懒得不想再次输入。无论情况如何，<code>history</code>命令都不会让你失望。</p>
<p>让我们运行<code>history</code>命令，看看我们得到了什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">history</span>
1 <span class="hljs-built_in">date</span>
2 blabla
3 cal
4 cal 2022
5 cal feb 1993
6 clear
7 lscpu
8 <span class="hljs-built_in">uptime</span>
9 reboot
10 <span class="hljs-built_in">pwd</span>
11 <span class="hljs-built_in">ls</span>
12 passwd
13 hostname
14 free
15 free -h
16 free --human
17 <span class="hljs-built_in">df</span>
18 <span class="hljs-built_in">df</span> -h
19 <span class="hljs-built_in">echo</span> Cats are better than Dogs!
20 <span class="hljs-built_in">history</span>
</code></pre>
<p>正如预期的那样，<code>history</code>命令按时间顺序显示了我们迄今为止运行的所有命令。在我的历史列表中，<code>lscpu</code>命令是第<code>7</code>个，所以如果我想重新运行<code>lspcu</code>，我只需要运行<code>!7</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot©ubuntu-linux:-$</span> <span class="hljs-type">!7</span> 
<span class="hljs-string">lscpu</span>
<span class="hljs-attr">Architecture:</span>         <span class="hljs-string">x86_64</span>
<span class="hljs-string">CPU</span> <span class="hljs-string">op-mode(s):</span>       <span class="hljs-number">32</span><span class="hljs-string">-bit,</span> <span class="hljs-number">64</span><span class="hljs-string">-bit</span>
<span class="hljs-attr">Byte Order:</span>           <span class="hljs-string">Little</span> <span class="hljs-string">Endian</span> 
<span class="hljs-string">CPU(s):</span>               <span class="hljs-number">1</span>
<span class="hljs-string">On-line</span> <span class="hljs-string">CPU(s)</span> <span class="hljs-attr">list:</span>  <span class="hljs-number">0</span>
<span class="hljs-string">Thread(s)</span> <span class="hljs-attr">per core:</span>   <span class="hljs-number">1</span>
<span class="hljs-string">Core(s)</span> <span class="hljs-attr">per socket:</span>   <span class="hljs-number">1</span>
<span class="hljs-string">Socket(s):</span>            <span class="hljs-number">1</span>
<span class="hljs-string">NUMA</span> <span class="hljs-string">node(s):</span>         <span class="hljs-number">1</span>
<span class="hljs-attr">Vendor ID:</span>            <span class="hljs-string">GenuineIntel</span>
<span class="hljs-attr">CPU family:</span>           <span class="hljs-number">6</span>
<span class="hljs-attr">Model:</span>                <span class="hljs-number">61</span>
<span class="hljs-attr">Model name:</span>           <span class="hljs-string">Intel(R)</span> <span class="hljs-string">Core(TM)</span> <span class="hljs-string">i5-5300U</span> <span class="hljs-string">CPU</span> <span class="hljs-string">@</span> <span class="hljs-number">2.</span><span class="hljs-string">30GHz</span>
<span class="hljs-attr">Stepping:</span>             <span class="hljs-number">4</span>
<span class="hljs-attr">CPU MHz:</span>              <span class="hljs-number">2294.678</span>
<span class="hljs-attr">BogoMIPS:</span>             <span class="hljs-number">4589.35</span>
<span class="hljs-attr">Hypervisor vendor:</span>    <span class="hljs-string">KVM</span>
<span class="hljs-attr">Virtualization type:</span>  <span class="hljs-string">full</span>
<span class="hljs-attr">Lid cache:</span>            <span class="hljs-string">32K</span>
<span class="hljs-attr">L1i cache:</span>            <span class="hljs-string">32K</span>
<span class="hljs-attr">12 cache:</span>             <span class="hljs-string">256K</span>
<span class="hljs-attr">13 cache:</span>             <span class="hljs-string">3072K</span> 
<span class="hljs-string">NUMA</span> <span class="hljs-string">node0</span> <span class="hljs-string">CPU(s):</span>    <span class="hljs-number">0</span>
<span class="hljs-attr">Flags:</span>                <span class="hljs-string">fpu</span> <span class="hljs-string">vme</span> <span class="hljs-string">de</span> <span class="hljs-string">pse</span> <span class="hljs-string">tsc</span> <span class="hljs-string">msr</span> <span class="hljs-string">pae</span> <span class="hljs-string">mce</span> <span class="hljs-string">cx8</span> <span class="hljs-string">apic</span> <span class="hljs-string">sep</span> <span class="hljs-string">mtrr</span>
</code></pre>
<p><strong>向上和向下箭头键</strong></p>
<p>您可以在命令行历史记录上上下滚动。每次按<em>向上箭头</em>键，您就可以在命令历史记录中向上滚动一行。</p>
<p>您还可以使用<em>向下箭头</em>键来反向滚动。</p>
<p>您可以使用<code>uname</code>命令来显示系统的内核信息。当您运行<code>uname</code>命令而没有任何选项时，它只会打印内核名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">uname</span> 
Linux
</code></pre>
<p>您可以使用<code>-v</code>选项打印当前内核版本信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">uname</span> -v
<span class="hljs-comment">#33-Ubuntu SMP Wed Apr 29 14:32:27 UTC 2020</span>
</code></pre>
<p>您还可以使用<code>-r</code>选项打印当前内核发布信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">uname</span> -r 
5.4.0-29-generic
</code></pre>
<p>您还可以使用<code>-a</code>选项一次打印当前内核的所有信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot©ubuntu-linux:-$ <span class="hljs-built_in">uname</span> -a
Linux ubuntu-linux 5.4.0-29-generic <span class="hljs-comment">#33-Ubuntu SMP</span>
Wed Apr 29 14:32:27 UTC 2020 x86_64 x86_64 x86_64 GNU/Linux
</code></pre>
<p>您还可以运行<code>lsb_release -a</code>命令来显示您当前运行的 Ubuntu 版本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot©ubuntu-linux:-$</span> <span class="hljs-string">lsb_release</span> <span class="hljs-string">-a</span> 
<span class="hljs-literal">No</span> <span class="hljs-string">LSB</span> <span class="hljs-string">modules</span> <span class="hljs-string">are</span> <span class="hljs-string">available.</span>
<span class="hljs-attr">Distributor ID:</span> <span class="hljs-string">Ubuntu</span> 
<span class="hljs-attr">Description:</span> <span class="hljs-string">Ubuntu</span> <span class="hljs-number">20.04</span> <span class="hljs-string">LTS</span> 
<span class="hljs-attr">Release:</span> <span class="hljs-number">20.04</span>
<span class="hljs-attr">Codename:</span> <span class="hljs-string">focal</span>
</code></pre>
<p>最后，您将在本章学习的最后一个命令是<code>exit</code>命令，它终止当前的终端会话：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot©ubuntu<span class="hljs-literal">-linux</span>:-<span class="hljs-variable">$</span> <span class="hljs-keyword">exit</span>
</code></pre>
<p><strong>一个酷炫的事实</strong></p>
<p>您现在可能已经观察到，Linux 命令名称基本上与它们的功能相似。例如，<code>pwd</code>命令字面上代表<strong>打印工作目录</strong>，<code>ls</code>代表<strong>列表</strong>，<code>lscpu</code>代表<strong>列出 CPU</strong>，等等。这个事实使得记住 Linux 命令变得更容易。</p>
<p>恭喜！您已经完成了第一章。现在是您的第一个知识检查练习的时间。</p>
<h1 id="知识检查">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>显示 2023 年的整个日历。</p>
</li>
<li>
<p>以人类可读的格式显示系统的内存信息。</p>
</li>
<li>
<p>显示您的主目录的内容。</p>
</li>
<li>
<p>更改当前用户密码。</p>
</li>
<li>
<p>在您的终端上打印出“Mr. Robot 是一部很棒的电视节目！”</p>
</li>
</ol>
<h2 id="正确还是错误">正确还是错误<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>DATE</code>命令显示当前日期和时间。</p>
</li>
<li>
<p>重新启动您的 Linux 系统，只需运行<code>restart</code>命令。</p>
</li>
<li>
<p>运行<code>free -h</code>和<code>free --human</code>命令之间没有区别。</p>
</li>
<li>
<p>如果您的平均负载值递增，系统负载随时间增加。</p>
</li>
</ol>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua"><span class="hljs-built_in">load</span> average: <span class="hljs-number">2.12</span>, <span class="hljs-number">3.09</span>, <span class="hljs-number">4.03</span>
</code></pre>
<ol>
<li>如果您的平均负载值是递减的，系统负载随时间减少。</li>
</ol>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua"><span class="hljs-built_in">load</span> average: <span class="hljs-number">0.30</span>, <span class="hljs-number">1.09</span>, <span class="hljs-number">2.03</span>
</code></pre>
<p>攀爬树</p>
<p>在这一章中，你将攀爬一个非常特殊的树，那就是 Linux 文件系统。在这次攀爬的旅程中，你将学到：</p>
<ul>
<li>
<p>Linux 文件系统层次结构。</p>
</li>
<li>
<p>根目录是什么？</p>
</li>
<li>
<p>绝对路径与相对路径。</p>
</li>
<li>
<p>如何浏览 Linux 文件系统。</p>
</li>
</ul>
<h1 id="第三章linux-文件系统">第三章：Linux 文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>好了，你已经在树的根部准备好攀爬了。在 Linux 中，就像实际的树一样，文件系统的开始是从根目录开始的。你可以使用<code>cd</code>命令后跟一个斜杠来到达根目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /
</code></pre>
<p><code>cd</code>命令是<strong>Change Directory</strong>的缩写，是 Linux 中最常用的命令之一。没有它，你无法在 Linux 中移动。就像你的四肢（手臂和腿），你能在没有四肢的情况下爬树吗？</p>
<p>斜杠字符代表根目录。现在为了确保你在根目录，你可以运行<code>pwd</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/
</code></pre>
<p>果然，我们在 Linux 文件系统的根目录。每当你迷失方向不知道自己在哪里时，<code>pwd</code>就在这里拯救你。</p>
<p>好了，当我们还在根目录时，让我们看看里面有什么！运行<code>ls</code>命令来查看当前目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>ls
bin etc lib <span class="hljs-built_in">proc</span> tmp var boot 
dev home opt root sbin usr
</code></pre>
<p>为了更好地查看内容，你可以使用<code>ls</code>命令的长列表<code>-l</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:/$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span>
<span class="hljs-string">drwxr-xr-x</span>   <span class="hljs-number">2</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">28</span> <span class="hljs-number">15</span><span class="hljs-string">:36</span> <span class="hljs-string">bin</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">125</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>          <span class="hljs-number">12288</span> <span class="hljs-string">Jan</span>  <span class="hljs-number">1</span> <span class="hljs-number">11</span><span class="hljs-string">:01</span> <span class="hljs-string">etc</span>
<span class="hljs-string">drwxr-xr-x</span>  <span class="hljs-number">21</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">26</span> <span class="hljs-number">23</span><span class="hljs-string">:52</span> <span class="hljs-string">lib</span>
<span class="hljs-string">dr-xr-xr-x</span> <span class="hljs-number">227</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>              <span class="hljs-number">0</span> <span class="hljs-string">Jan</span>  <span class="hljs-number">3</span> <span class="hljs-number">02</span><span class="hljs-string">:33</span> <span class="hljs-string">proc</span>
<span class="hljs-string">drwxrwxrwt</span>  <span class="hljs-number">15</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span>  <span class="hljs-number">3</span> <span class="hljs-number">02</span><span class="hljs-string">:35</span> <span class="hljs-string">tmp</span>
<span class="hljs-string">drwxr-xr-x</span>  <span class="hljs-number">14</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Jul</span> <span class="hljs-number">24</span> <span class="hljs-number">21</span><span class="hljs-string">:14</span> <span class="hljs-string">var</span>
<span class="hljs-string">drwxr-xr-x</span>   <span class="hljs-number">3</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">29</span> <span class="hljs-number">07</span><span class="hljs-string">:17</span> <span class="hljs-string">boot</span>
<span class="hljs-string">drwxr-xr-x</span>  <span class="hljs-number">18</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4000 </span><span class="hljs-string">Jan</span>  <span class="hljs-number">3</span> <span class="hljs-number">02</span><span class="hljs-string">:33</span> <span class="hljs-string">dev</span>
<span class="hljs-string">drwxr-xr-x</span>   <span class="hljs-number">3</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">26</span> <span class="hljs-number">23</span><span class="hljs-string">:47</span> <span class="hljs-string">home</span>
<span class="hljs-string">drwxr-xr-x</span>   <span class="hljs-number">3</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">27</span> <span class="hljs-number">15</span><span class="hljs-string">:07</span> <span class="hljs-string">opt</span>
<span class="hljs-string">drwx------</span>   <span class="hljs-number">4</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Dec</span> <span class="hljs-number">29</span> <span class="hljs-number">09</span><span class="hljs-string">:39</span> <span class="hljs-string">root</span>
<span class="hljs-string">drwxr-xr-x</span>   <span class="hljs-number">2</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>          <span class="hljs-number">12288</span> <span class="hljs-string">Dec</span> <span class="hljs-number">28</span> <span class="hljs-number">15</span><span class="hljs-string">:36</span> <span class="hljs-string">sbin</span>
<span class="hljs-string">drwxr-xr-x</span>  <span class="hljs-number">10</span> <span class="hljs-string">root</span> <span class="hljs-string">root</span>           <span class="hljs-number">4096 </span><span class="hljs-string">Jul</span> <span class="hljs-number">24</span> <span class="hljs-number">21</span><span class="hljs-string">:03</span> <span class="hljs-string">usr</span>
</code></pre>
<p>这个输出给了你很多有价值的信息，我们将在接下来的章节中详细讨论。但现在，我们关注输出的第一列的第一个字母。看一下输出的第一列：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">drwxr-xr-x 
drwxr-xr-x 
drwxr-xr-x 
drwxr-xr-x
.
.
.
.
</code></pre>
<p>你会看到第一个字母是<code>d</code>，这意味着文件是一个目录。第一个字母揭示了文件类型。输出的最后一列显示了文件名。</p>
<p><strong>其他文件！</strong></p>
<p>你的根目录下会有更多的文件。我只选择了最重要和最常见的文件，这些文件应该存在于每个 Linux 发行版中。所以当你看到比这本书中列出的文件更多时，不要惊慌。</p>
<p>现在每个目录都有特殊的用途，就像你在下表中看到的那样：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>/</th>
<th>这是你的文件系统的根，一切都从这里开始。</th>
</tr>
</thead>
<tbody>
<tr>
<td>/etc</td>
<td>这个目录包含系统配置文件。</td>
</tr>
<tr>
<td>/home</td>
<td>这是所有用户（除了 root 用户）的默认主目录。</td>
</tr>
<tr>
<td>/root</td>
<td>这是 root 用户的主目录。</td>
</tr>
<tr>
<td>/dev</td>
<td>这是你的设备，比如硬盘、USB 驱动器和光驱所在的地方。</td>
</tr>
<tr>
<td>/opt</td>
<td>这是你可以安装额外第三方软件的地方。</td>
</tr>
<tr>
<td>/bin</td>
<td>这是你的系统上必要的二进制文件（程序）所在的地方。</td>
</tr>
<tr>
<td>/sbin</td>
<td>这是系统管理员通常使用的系统二进制文件（程序）存储的地方。</td>
</tr>
<tr>
<td>/tmp</td>
<td>这是临时文件存储的地方；它们通常在系统重启后被删除，所以不要在这里存储重要文件！</td>
</tr>
<tr>
<td>/var</td>
<td>这个目录包含可能会改变大小的文件，比如邮件储存和日志文件。</td>
</tr>
<tr>
<td>/boot</td>
<td>所有系统启动所需的文件都存储在这里。</td>
</tr>
<tr>
<td>/lib</td>
<td>这个目录包含了/bin 和/sbin 目录中必要二进制文件所需的库。库基本上是一组可以被程序使用的预编译函数。</td>
</tr>
<tr>
<td>/proc</td>
<td>运行进程的信息存储在这里。</td>
</tr>
<tr>
<td>/usr</td>
<td>这个目录包含了用户之间共享的文件和实用程序。</td>
</tr>
</tbody>
</table></div>
<p>表 2：解释 Linux 目录</p>
<p>你也可以运行<code>man hier</code>命令来阅读更多关于 Linux 文件系统层次结构的信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>man hier
</code></pre>
<p>好了，现在让我们在 Linux 目录树上进一步攀爬。看一下<em>图 1</em>，你就会明白为什么我们选择了一棵树来描述 Linux 文件系统的结构。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/79a50d42-f14e-4fe6-a412-62b50953310c.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：Linux 目录树</p>
<p>前面的图只显示了很少的文件，绝不代表整个目录树，因为 Linux 文件系统实际上包含成千上万的文件。因此，您可以将前面的图像视为实际 Linux 目录树的子树。</p>
<h1 id="浏览目录树">浏览目录树<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>好吧，让我们再爬一点。例如，让我们进入<code>/home</code>目录，看看系统上有多少用户。您只需运行<code>cd /home</code>命令即可：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /home 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/home<span class="hljs-variable">$
</span></code></pre>
<p>注意您的命令提示符如何更改，因为它现在显示您在主目录。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/53676501-79e3-4dbd-97d3-a5d42af9fc78.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：您现在在/home</p>
<p>现在让我们运行<code>ls</code>来查看<code>/home</code>目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/home$ <span class="hljs-built_in">ls</span> 
angela elliot
</code></pre>
<p>这是我系统上的两个用户（除了 root 用户）。<code>/root</code>是 root 用户的主目录。您可能只有一个用户在<code>/home</code>；您将在本书后面学习如何向系统添加其他用户。</p>
<p><strong>谁是 root 用户？</strong></p>
<p>root 用户是允许在系统上执行任何操作的超级用户。root 用户可以安装软件，添加用户，管理磁盘分区等。root 用户的主目录是<code>/root</code>，不要与<code>/</code>（文件系统的根）混淆。</p>
<p>如果您想要证明您当前在<code>/home</code>目录，可以运行<code>pwd</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/home$ <span class="hljs-built_in">pwd</span>
/home
</code></pre>
<p>确实！我们在<code>/home</code>目录。现在让我们进入用户<code>elliot</code>的主目录。现在，信不信由你，有两种方法可以导航到<code>elliot</code>的主目录。您可以简单地运行<code>cd elliot</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/home$ <span class="hljs-built_in">cd</span> elliot 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>或者您可以运行<code>cd /home/elliot</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/home$ <span class="hljs-built_in">cd</span> /home/elliot 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/7254d293-d5d7-4f55-aa19-27333469d3d1.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：现在您在/home/elliot</p>
<p>请注意，这两个命令都将我们带到了<code>elliot</code>的主目录。但是，运行<code>cd elliot</code>比运行<code>cd /home/elliot</code>要容易得多，当然。</p>
<p>嗯，想想吧，我们最初在<code>/home</code>目录，这就是为什么我们能够运行<code>cd elliot</code>进入<code>/home/elliot</code>的原因。</p>
<p>但是，在其他情况下，我们将被迫使用完整路径（绝对路径）<code>/home/elliot</code>来到达我们的目的地。为了演示，让我们首先切换到<code>/etc</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /etc 
elliot@ubuntu-linux:/etc$ <span class="hljs-built_in">pwd</span>
/etc
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/54cd2e8c-6b0e-42cb-b217-160e38baf5a4.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：现在您在/etc</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/5392da2b-ffd7-48bb-82ce-cebea60f31c5.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：您想要进入/home/elliot</p>
<p><em>图 4</em>和<em>5</em>可以帮助您可视化。您现在在<code>/etc</code>，想要进入<code>/home/elliot</code>。为了进入<code>elliot</code>的主目录，我们不能再使用短路径（相对路径）运行<code>cd elliot</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:/etc$ cd elliot
<span class="hljs-attribute">bash</span>: <span class="hljs-attribute">cd</span>: <span class="hljs-attribute">elliot</span>: No such file <span class="hljs-keyword">or</span> directory
</code></pre>
<p>如您所见，Shell 生气了并返回了一个错误<code>bash: cd: elliot: No such file or directory</code>。在这种情况下，我们必须使用完整路径（绝对路径）<code>/home/elliot</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/etc$ <span class="hljs-built_in">cd</span> /home/elliot 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>如果您现在还没有注意到，我们一直在使用斜杠(<code>/</code>)作为目录分隔符。</p>
<p><strong>目录分隔符</strong></p>
<p>在 Linux 中，斜杠(<code>/</code>)是目录分隔符，有时也称为路径分隔符。在 Windows 中，情况正好相反，因为反斜杠(<code>\</code>)被用作目录分隔符。但是，要小心，因为前导斜杠是我们文件系统的根。例如，在<code>/home/elliot/Desktop</code>中，只有第二个和第三个斜杠是目录分隔符，但第一个斜杠代表文件系统的根。</p>
<p>意识到绝对路径和相对路径之间的区别是至关重要的。</p>
<p><strong>绝对路径与相对路径</strong></p>
<p>文件的绝对路径只是该文件的完整路径，并且始终以前导斜杠开头。例如，<code>/opt/- google/chrome</code>是绝对路径的一个例子。</p>
<p>另一方面，文件的相对路径从不以根目录开头，始终相对于当前工作目录。例如，如果您当前在<code>/var</code>，那么<code>log/boot.log</code>就是有效的相对路径。</p>
<p>作为一个经验法则，如果你想区分相对路径和绝对路径，看一下路径是否以根目录（斜杠）开头；如果是的话，你可以得出结论这是绝对路径，否则，这是相对路径。</p>
<p>下面的图表显示了相对路径<code>Desktop/hello.txt</code>，只有当你的当前工作目录是<code>/home/elliot</code>时才有效。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/fb656147-eb70-42d1-b62e-030c994f0873.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 6：这是一个相对路径</p>
<p>下面的图片显示了绝对路径<code>/home/elliot/Desktop</code>，无论你当前的工作目录是什么，它都会一直有效。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/64478dee-c47a-46c2-b446-6f439ad8fda7.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 7：这是一个绝对路径</p>
<p>现在让我们进入 Elliot 的<code>Desktop</code>目录看看他在那里有什么。我们将使用绝对路径：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/$ <span class="hljs-built_in">cd</span> /home/elliot/Desktop 
elliot@ubuntu-linux:~/Desktop$ <span class="hljs-built_in">pwd</span>
/home/elliot/Desktop
</code></pre>
<p>我们接着运行<code>pwd</code>来确认我们确实在想要的目录中。现在让我们运行<code>ls</code>来查看 Elliot 的桌面上的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~/Desktop<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> 
hello.txt
</code></pre>
<p>注意<code>hello.txt</code>文件在 Elliot 的桌面上，所以我们实际上可以在桌面上看到它。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/f8f7032f-daed-4827-a8f0-7cc625997a36.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 8：Elliot 的桌面</p>
<p>如你在上面的图片中所见，Elliot 的桌面上有一个名为<code>hello.txt</code>的文件。你可以使用<code>cat</code>命令来查看文本文件的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>Desktop$ cat hello.txt 
Hello Friend<span class="hljs-operator">!</span>
<span class="hljs-keyword">Are</span> you <span class="hljs-keyword">from</span> fsociety?
</code></pre>
<p>如果你在桌面上打开<code>hello.txt</code>文件，你会看到相同的内容，当然，就像你在下面的截图中看到的那样。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/e97ae210-c57e-4df2-8c73-c1305666bf74.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 9：hello.txt 的内容</p>
<h1 id="父目录和当前目录">父目录和当前目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在文件系统的每个目录下都有两个特殊的目录：</p>
<ol>
<li>
<p>当前工作目录用一个点(<code>.</code>)表示</p>
</li>
<li>
<p>父目录用两个点(<code>..</code>)表示</p>
</li>
</ol>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/525d4989-07bd-4e5a-96aa-8831c012a775.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 10：可视化父目录和当前目录</p>
<p>通过几个例子很容易理解这两个目录。举个例子，让我们首先切换到<code>/home/elliot</code>，这样它就成为我们的当前工作目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~/Desktop$ <span class="hljs-built_in">cd</span> /home/elliot 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>现在运行<code>cd .</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd . 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/elliot
</code></pre>
<p>正如你所期望的，什么都没有发生！我们仍然在<code>/home/elliot</code>，这是因为一个点(<code>.</code>)代表当前工作目录。就好像你告诉某人，“去你所在的地方！”</p>
<p>现在运行<code>cd ..</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> .. 
elliot@ubuntu-linux:/home$ <span class="hljs-built_in">pwd</span>
/home
</code></pre>
<p>我们回到了上一个目录！换句话说，我们切换到了<code>/home/elliot</code>的父目录，也就是<code>/home</code>。</p>
<p>让我们再运行一个<code>cd ..</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/home<span class="hljs-variable">$ </span>cd .. 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>pwd
/
</code></pre>
<p>我们确实一直在回去，现在我们在我们的目录树的根目录。好吧，让我们再次运行<code>cd ..</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>cd .. 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>pwd
/
</code></pre>
<p>嗯，我们还在同一个目录！我们的路径没有改变，这是因为我们已经在我们的目录树的根目录了，所以我们无法再回去了。因此，根目录(<code>/</code>)是唯一一个<strong>父目录=当前目录</strong>的目录，你可以通过查看<em>图 10</em>来进行可视化。</p>
<p>你也可以插入目录分隔符<code>cd ../..</code>一次性回到两个目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/elliot
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd ../.. 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-variable">$ </span>pwd
/
</code></pre>
<p>你也可以运行<code>cd ../../..</code>来回到三个目录，依此类推。</p>
<h1 id="快速移动">快速移动<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在我将向你展示一些很酷的技巧，这些技巧将使你在浏览 Linux 目录树时更快更高效。</p>
<h2 id="回到家">回到家！<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>让我们切换到<code>/var/log</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ cd /<span class="hljs-keyword">var</span>/log 
elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/var/</span>log$ pwd
/<span class="hljs-keyword">var</span>/log
</code></pre>
<p>你现在可以运行<code>cd ~</code>命令来进入你的家目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/var/log$ <span class="hljs-built_in">cd</span> ~ 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>哇！让我们再做一次，但这次，我们切换到用户<code>angela</code>。如果你不知道，这个字符叫做波浪号，应该位于键盘上数字<em>1</em>键的旁边：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>whoami 
elliot
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su angela 
<span class="hljs-symbol">Password:</span>
angela<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/home/elliot<span class="hljs-variable">$ </span>whoami 
angela
</code></pre>
<p>注意这里我使用了两个新命令。<code>whoami</code>命令打印当前登录用户的名称。我还使用了切换用户<code>su</code>命令来切换到用户<code>angela</code>。你可以使用<code>su</code>命令来切换到系统上的任何用户；你只需要运行<code>su</code>，然后跟上用户名。</p>
<p>现在，作为用户<code>angela</code>，我将导航到<code>/var/log</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">angela<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/home/</span>elliot$ cd /<span class="hljs-keyword">var</span>/log 
angela<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/var/</span>log$ pwd
/<span class="hljs-keyword">var</span>/log
</code></pre>
<p>然后我运行<code>cd ~</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">angela@ubuntu-linux:/var/log$ <span class="hljs-built_in">cd</span> ~ 
angela@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/angela
</code></pre>
<p>哇！我在 Angela 的主目录。无论您当前的工作目录是什么，运行<code>cd ~</code>命令都会直接将您带回到您的主目录。</p>
<h2 id="带我回去">带我回去！<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>现在，如果<code>angela</code>想尽快返回到她以前的工作目录怎么办？</p>
<p>运行<code>cd -</code>命令是将<code>angela</code>快速返回到她以前的工作目录的最快方法：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">angela<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/angela
angela<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd -
<span class="hljs-regexp">/var/log</span>
</code></pre>
<p>酷！<code>angela</code>回到了<code>/var/log</code>。所以每当您想返回到以前的工作目录时，只需运行<code>cd -</code>命令。</p>
<h1 id="隐藏文件">隐藏文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 文件系统的每个目录下都存在当前目录<code> .</code>和父目录<code> ..</code>。但是当我们运行<code>ls</code>命令时为什么看不到它们呢？</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~/Desktop<span class="hljs-variable">$</span> <span class="hljs-built_in">pwd</span>
/home/elliot/Desktop 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~/Desktop<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> 
hello.txt
elliot@ubuntu<span class="hljs-literal">-linux</span>:~/Desktop<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> <span class="hljs-literal">-l</span> 
total <span class="hljs-number">4</span>
<span class="hljs-literal">-rw-r--r--</span> <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">37</span> Jan <span class="hljs-number">19</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span> hello.txt
</code></pre>
<p>如您所见，我甚至尝试运行<code>ls -l</code>，仍然看不到当前目录或父目录。</p>
<p>您需要使用<code>ls</code>命令的<code>-a</code>选项如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~/Desktop<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> <span class="hljs-literal">-a</span>
. .. hello.txt
</code></pre>
<p>万岁！现在您可以看到所有文件了。<code>-a</code>选项显示所有文件，包括隐藏文件，当然您也可以使用完整的选项名称<code>--all</code>，它将做同样的事情：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>Desktop$ ls <span class="hljs-comment">--all</span>
. .. hello.txt
</code></pre>
<p>原来，任何以<code> .</code>（点）开头的文件名都是隐藏的。</p>
<p>隐藏的文件名以<code> .</code>开头</p>
<p>任何以点开头的文件名都是隐藏的。这就是为什么当前目录和父目录是隐藏的。</p>
<p>为了进一步演示，进入您的用户主目录并运行<code>ls</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">angela<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls 
Music
</code></pre>
<p>现在运行<code>ls -a</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">angela<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -a
. .. .bash_logout .bashrc Music .profile
</code></pre>
<p>您现在可以看到主目录中的隐藏文件！请注意，所有隐藏的文件名都以点开头。</p>
<h1 id="传递命令参数">传递命令参数<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>到目前为止，我们只在当前工作目录上运行了<code>ls</code>命令。但是，您可以列出任何目录的内容，而无需更改到该目录。例如，如果您当前的工作目录是<code>/home/elliot</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>您可以通过运行<code>ls -a /home/angela</code>命令列出<code>/home/angela</code>中的所有文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -a /home/angela
. .. .bash_history .bash_logout .bashrc Music .profile 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/elliot 
elliot<span class="hljs-variable">@ubuntu</span>
</code></pre>
<p>我能够在<code>/home/elliot</code>的同时列出<code>/home/angela</code>的内容。这是可能的，因为<code>ls</code>命令接受任何文件作为参数。</p>
<p><strong>什么是参数？</strong></p>
<p>参数，也称为命令行参数，只是作为输入提供给命令的任何文件名或数据。<img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/1605fa32-1bc3-4a70-a403-d093fab29d97.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 11：Linux 命令结构</p>
<p>您可以在前面的图像中看到 Linux 命令的一般结构。</p>
<p>在 Linux 术语中，当谈论命令选项和参数时，我们使用动词<strong>传递</strong>。为了使用正确的 Linux 术语，例如，在前面的图像中，我们说：“我们将<code>/home/angela</code>目录作为<code>ls</code>命令的参数传递。”</p>
<p>您会经常发现 Linux 用户非常热衷于使用正确的术语。此外，使用正确的术语可以帮助您通过工作面试并获得梦想的工作！</p>
<p>请注意在前面的图中，我们使用了复数名词<em>选项</em>和<em>参数</em>。这是因为一些命令可以接受多个选项和参数。</p>
<p>例如，我们可以通过运行<code>ls -a -l /home/angela</code>命令来列出<code>/home/angela</code>中的所有文件的长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-a</span> <span class="hljs-string">-l</span> <span class="hljs-string">/home/angela</span> 
<span class="hljs-string">total</span> <span class="hljs-number">28</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">9</span>  <span class="hljs-string">root</span>    <span class="hljs-string">root</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">17</span> <span class="hljs-number">04</span><span class="hljs-string">:37</span> <span class="hljs-string">..</span>
<span class="hljs-string">-rw-------</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>   <span class="hljs-number">90</span> <span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.bash_history</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">220</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bash_logout</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">3771 </span><span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bashrc</span>
<span class="hljs-string">drwxrwxr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">19</span> <span class="hljs-number">19</span><span class="hljs-string">:42</span> <span class="hljs-string">Music</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">807</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.profile</span>
</code></pre>
<p>所以现在您可以看到<code>/home/angela</code>中所有文件的长列表，包括隐藏文件，还要注意这里选项的顺序无关紧要，所以如果您运行<code>ls -l -a /home/angela</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span> <span class="hljs-string">-a</span> <span class="hljs-string">/home/angela</span> 
<span class="hljs-string">total</span> <span class="hljs-number">28</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">9</span>   <span class="hljs-string">root</span>   <span class="hljs-string">root</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">17</span> <span class="hljs-number">04</span><span class="hljs-string">:37</span> <span class="hljs-string">..</span>
<span class="hljs-string">-rw-------</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>   <span class="hljs-number">90</span> <span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.bash_history</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">220</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bash_logout</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">3771 </span><span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bashrc</span>
<span class="hljs-string">drwxrwxr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">19</span> <span class="hljs-number">19</span><span class="hljs-string">:42</span> <span class="hljs-string">Music</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">807</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.profile</span>
</code></pre>
<p>您将得到相同的结果。这是传递两个命令选项的示例，那么传递两个参数呢？好吧，您可以通过将<code>/home/elliot</code>作为第二个参数，同时对<code>/home/angela</code>和<code>/home/elliot</code>中的所有文件进行长列表，而无需更改到它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span> <span class="hljs-string">-a</span> <span class="hljs-string">/home/angela</span> <span class="hljs-string">/home/elliot</span>
<span class="hljs-string">/home/angela:</span>

<span class="hljs-string">total</span> <span class="hljs-number">28</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">9</span> <span class="hljs-string">root</span>   <span class="hljs-string">root</span>   <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">17</span> <span class="hljs-number">04</span><span class="hljs-string">:37</span> <span class="hljs-string">..</span>
<span class="hljs-string">-rw-------</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>   <span class="hljs-number">90</span> <span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.bash_history</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">220</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bash_logout</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">3771 </span><span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.bashrc</span>
<span class="hljs-string">drwxrwxr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">19</span> <span class="hljs-number">19</span><span class="hljs-string">:42</span>  <span class="hljs-string">Music</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">angela</span> <span class="hljs-string">angela</span>  <span class="hljs-number">807</span> <span class="hljs-string">Apr</span>  <span class="hljs-number">4</span>  <span class="hljs-number">2018</span> <span class="hljs-string">.profile</span>

<span class="hljs-string">/home/elliot:</span>
<span class="hljs-string">total</span> <span class="hljs-number">28</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">16</span><span class="hljs-string">:26</span> <span class="hljs-string">.</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">9</span> <span class="hljs-string">root</span>   <span class="hljs-string">root</span>   <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">17</span> <span class="hljs-number">04</span><span class="hljs-string">:37</span> <span class="hljs-string">..</span>
<span class="hljs-string">-rw-------</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>   <span class="hljs-number">90</span> <span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">13</span><span class="hljs-string">:43</span> <span class="hljs-string">.bash_history</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>  <span class="hljs-number">220</span> <span class="hljs-string">Dec</span> <span class="hljs-number">26</span> <span class="hljs-number">23</span><span class="hljs-string">:47</span> <span class="hljs-string">.bash_logout</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">3771 </span><span class="hljs-string">Dec</span> <span class="hljs-number">26</span> <span class="hljs-number">23</span><span class="hljs-string">:47</span> <span class="hljs-string">.bashrc</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">19</span> <span class="hljs-number">14</span><span class="hljs-string">:20</span>  <span class="hljs-string">Desktop</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>  <span class="hljs-number">807</span> <span class="hljs-string">Apr</span> <span class="hljs-number">4</span>   <span class="hljs-number">2018</span> <span class="hljs-string">.profile</span>
</code></pre>
<p>所以现在，您可以同时看到<code>/home/elliot</code>和<code>/home/angela</code>目录的内容。</p>
<h1 id="touch-命令">touch 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们再次对<code>/home/elliot</code>中的所有文件进行长列表，讨论一些非常重要的事情：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>a <span class="hljs-operator">-</span>l <span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>elliot 
total <span class="hljs-number">28</span>
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">20</span> <span class="hljs-number">16</span>:<span class="hljs-number">26</span> .
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">9</span> root   root   <span class="hljs-number">4096</span> Jan <span class="hljs-number">17</span> <span class="hljs-number">04</span>:<span class="hljs-number">37</span> ..
<span class="hljs-operator">-</span>rw<span class="hljs-comment">------- 1 elliot elliot   90 Jan 20 13:43 .bash_history</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot  220 Dec 26 23:47 .bash_logout</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot 3771 Dec 26 23:47 .bashrc</span>
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">2</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">19</span> <span class="hljs-number">14</span>:<span class="hljs-number">20</span>  Desktop
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot  807 Apr  4  2018 .profile</span>
</code></pre>
<p>关注输出的最后两列：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><code>Jan 20 16:26</code></th>
<th><code>.</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>Jan 17 04:37</code></td>
<td><code>..</code></td>
</tr>
<tr>
<td><code>Jan 20 13:43</code></td>
<td><code>.bash_history</code></td>
</tr>
<tr>
<td><code>Dec 26 23:47</code></td>
<td><code>.bash_logout</code></td>
</tr>
<tr>
<td><code>Dec 26 23:47</code></td>
<td><code>.bashrc</code></td>
</tr>
<tr>
<td><code>Jan 19 14:20</code></td>
<td><code>Desktop</code></td>
</tr>
<tr>
<td><code>Apr 4 2018</code></td>
<td><code>.profile</code></td>
</tr>
</tbody>
</table></div>
<p><code>Table 3</code>：<code>ls -a -l /home/elliot</code> 的最后两列</p>
<p>你已经知道输出的最后一列（<code>Table 3</code> 的第二列）显示文件名，但是前一列（<code>Table 3</code> 的第一列）显示的所有这些日期是什么呢？</p>
<p><code>Table 3</code> 的第一列中的日期表示每个文件的最后修改时间，即文件被修改（编辑）的最后时间。</p>
<p>你可以使用 <code>touch</code> 命令更改文件的修改时间。</p>
<p>为了演示，让我们首先获取 <code>elliot</code> 的 <code>Desktop</code> 目录的修改时间，你可以通过运行 <code>ls -l -d /home/elliot/Desktop</code> 命令来实现：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> -l -d /home/elliot/Desktop
drwxr-xr-x 2 elliot elliot 4096 Jan 19 14:20 /home/elliot/Desktop
</code></pre>
<p>请注意我们使用了 <code>-d</code> 选项，因此它对目录 <code>/home/elliot/Desktop</code> 进行了长列表，而不是列出目录的内容。</p>
<p>最后修改时间显示为：<code>Jan 19 14:20</code>。</p>
<p>现在如果你运行 <code>touch /home/elliot/Desktop</code> 命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">touch</span> /home/elliot/Desktop 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> -l -d /home/elliot/Desktop
drwxr-xr-x 2 elliot elliot 4096 Jan 20 19:42 /home/elliot/Desktop 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">date</span>
Sun Jan 20 19:42:08 CST 2020
</code></pre>
<p>你会看到目录 <code>/home/elliot/Desktop</code> 的最后修改时间现在已经更改为 <code>Jan 20 19:42</code>，这反映了当前时间。</p>
<p>当然，你会在你的系统上得到不同的结果，因为你不会和我同时运行命令。</p>
<p>好的，很好，现在我们明白了 <code>touch</code> 命令可以用来更新文件的修改时间。它还能做其他事情吗？嗯，让我们看看。</p>
<p>如果我们尝试更新一个不存在的文件的修改时间会发生什么？只有尝试才能知道。请注意，用户 <code>elliot</code> 的主目录中只有一个可见（非隐藏）文件，那就是 <code>Desktop</code> 目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/elliot
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l 
total <span class="hljs-number">4</span>
drwxr-xr-x <span class="hljs-number">2</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">20</span> <span class="hljs-number">19</span><span class="hljs-symbol">:</span><span class="hljs-number">42</span> Desktop
</code></pre>
<p>看看当用户 <code>elliot</code> 运行 <code>touch blabla</code> 命令时会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch blabla 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l
total <span class="hljs-number">4</span>
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Jan <span class="hljs-number">20</span> <span class="hljs-number">20</span><span class="hljs-symbol">:</span><span class="hljs-number">00</span> blabla
drwxr-xr-x <span class="hljs-number">2</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">20</span> <span class="hljs-number">19</span><span class="hljs-symbol">:</span><span class="hljs-number">42</span> Desktop
</code></pre>
<p>它创建了一个名为 <code>blabla</code> 的空文件。</p>
<p>你可以使用 <code>touch</code> 命令做两件事：</p>
<ol>
<li>
<p>你可以更新现有文件的最后修改和访问时间。</p>
</li>
<li>
<p>你可以创建新的空文件。</p>
</li>
</ol>
<p><code>touch</code> 命令只能创建常规文件；它不能创建目录。另外，请注意它更新修改和访问时间，那么有什么区别呢？</p>
<ul>
<li>
<p>修改时间 &gt; 文件最后一次被更改或修改的时间。</p>
</li>
<li>
<p>访问时间 &gt; 文件最后一次被访问（读取）的时间。</p>
</li>
</ul>
<p>默认情况下，<code>touch</code> 命令会同时更改文件的修改和访问时间。我在 <code>elliot</code> 的主目录中创建了三个文件：<code>file1</code>、<code>file2</code> 和 <code>file3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span> 
<span class="hljs-string">total</span> <span class="hljs-number">8</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">6</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:13</span> <span class="hljs-string">Desktop</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:18</span> <span class="hljs-string">dir1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>    <span class="hljs-number">0</span> <span class="hljs-string">Feb</span> <span class="hljs-number">29</span>  <span class="hljs-number">2004 </span><span class="hljs-string">file1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>    <span class="hljs-number">0</span> <span class="hljs-string">Apr</span> <span class="hljs-number">11</span>  <span class="hljs-number">2010 </span><span class="hljs-string">file2</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>    <span class="hljs-number">0</span> <span class="hljs-string">Oct</span>  <span class="hljs-number">3</span>  <span class="hljs-number">1998 </span><span class="hljs-string">file3</span>
</code></pre>
<p>现在只更改 <code>file1</code> 的修改时间。我们向 <code>touch</code> 命令传递 <code>-m</code> 选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch -m file1 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l
total <span class="hljs-number">8</span>
drwxr-xr-x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-symbol">:</span><span class="hljs-number">13</span> Desktop
drwxr-xr-x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-symbol">:</span><span class="hljs-number">18</span> dir1
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span>08 file1
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Apr <span class="hljs-number">11</span>  <span class="hljs-number">2010</span> file2
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Oct  <span class="hljs-number">3</span>  <span class="hljs-number">1998</span> file3 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>正如你所看到的，<code>file1</code> 的修改时间现在已经改变。我答应过只更改修改时间，对吧？如果你向 <code>ls</code> 命令传递 <code>-u</code> 选项和 <code>-l</code> 选项，你将得到最后访问时间而不是修改时间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span> 
<span class="hljs-string">total</span> <span class="hljs-number">8</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">6</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:13</span> <span class="hljs-string">Desktop</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:18</span> <span class="hljs-string">dir1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">23</span><span class="hljs-string">:08</span> <span class="hljs-string">file1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Apr</span> <span class="hljs-number">11</span>  <span class="hljs-number">2010 </span><span class="hljs-string">file2</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Oct</span> <span class="hljs-number">3</span>   <span class="hljs-number">1998 </span><span class="hljs-string">file3</span>
<span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span> <span class="hljs-string">-u</span> 
<span class="hljs-string">total</span> <span class="hljs-number">8</span> 
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">6</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:13</span> <span class="hljs-string">Desktop</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">3</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">25</span> <span class="hljs-number">22</span><span class="hljs-string">:18</span> <span class="hljs-string">dir1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Feb</span> <span class="hljs-number">29</span> <span class="hljs-number">2004  </span><span class="hljs-string">file1</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Apr</span> <span class="hljs-number">11</span> <span class="hljs-number">2010  </span><span class="hljs-string">file2</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">0</span>    <span class="hljs-string">Oct</span> <span class="hljs-number">3</span>  <span class="hljs-number">1998  </span><span class="hljs-string">file3</span>
</code></pre>
<p>正如你所看到的，<code>file1</code> 的最后修改时间已经改变为 <code>Jan 25 23:08</code>，但访问时间保持不变：<code>Feb 29 2004</code>。这一次，让我们只改变 <code>file2</code> 的访问时间。为此，我们向 <code>touch</code> 命令传递 <code>-a</code> 选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ touch <span class="hljs-operator">-</span>a file2 
elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l
total <span class="hljs-number">8</span>
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> dir1
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot    0 Jan 25 23:08 file1</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot    0 Apr 11  2010 file2</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot    0 Oct  3  1998 file3 </span>
elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l <span class="hljs-operator">-</span>u
total <span class="hljs-number">8</span>
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> dir1
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot   0  Feb 29  2004 file1</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot   0  Jan 25 23:20 file2</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot   0  Oct  3  1998 file3 </span>
elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$
</code></pre>
<p>正如你所看到的，<code>file2</code> 的修改时间保持不变，但访问时间已更改为当前时间。现在要同时更改 <code>file3</code> 的修改和访问时间，你可以运行不带选项的 <code>touch</code> 命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l file3
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">0</span> Oct <span class="hljs-number">3</span> <span class="hljs-number">1998</span> file3 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch file3 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l file3
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">0</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">27</span> file3 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l -u file3
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">0</span> Jan <span class="hljs-number">25</span> <span class="hljs-number">23</span><span class="hljs-symbol">:</span><span class="hljs-number">27</span> file3
</code></pre>
<p>太棒了！你还可以向 <code>ls</code> 命令传递 <code>-t</code> 选项，按修改时间排序列出文件，最新的排在前面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -l -t 
total <span class="hljs-number">8</span>
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">27</span> file3
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">08</span> file1
drwxr-xr-x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> <span class="hljs-keyword">dir1
</span>drwxr-xr-x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Apr <span class="hljs-number">11</span>  <span class="hljs-number">2010</span> file2
</code></pre>
<p>你可以添加 <code>-u</code> 选项以按访问时间排序：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -l -t -u 
total <span class="hljs-number">8</span>
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">27</span> file3
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">20</span> file2
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">20</span> file1
drwxr-xr-x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> <span class="hljs-keyword">dir1
</span>drwxr-xr-x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
</code></pre>
<p>你还可以传递 <code>-r</code> 选项来反向排序：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -l -t -r 
total <span class="hljs-number">8</span>
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Apr <span class="hljs-number">11</span>  <span class="hljs-number">2010</span> file2
drwxr-xr-x <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
drwxr-xr-x <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">18</span> <span class="hljs-keyword">dir1
</span>-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">08</span> file1
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">27</span> file3
</code></pre>
<h1 id="创建目录">创建目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 中创建目录，我们使用 <code>mkdir</code> 命令，它是 <strong>make directory</strong> 的缩写。</p>
<p>在 <code>elliot</code> 的桌面上，通过运行 <code>mkdir games</code> 命令创建一个名为 <code>games</code> 的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>Desktop$ mkdir games 
elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>Desktop$ ls <span class="hljs-operator">-</span>l 
total <span class="hljs-number">8</span>
drwxr<span class="hljs-operator">-</span>xr<span class="hljs-operator">-</span>x <span class="hljs-number">2</span> elliot elliot <span class="hljs-number">4096</span> Jan <span class="hljs-number">20</span> <span class="hljs-number">20</span>:<span class="hljs-number">20</span> games
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">--r-- 1 elliot elliot 37 Jan 19 14:20 hello.txt </span>
elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>Desktop$
</code></pre>
<p>请注意，我的当前工作目录是 <code>/home/elliot/Destkop</code>；这就是为什么我能够使用相对路径的原因。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/53b62972-d736-4a08-87ed-b880f540c414.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 12：桌面上创建的 <code>games</code> 目录</p>
<p>您还可以同时创建多个目录。例如，您可以通过运行<code>mkdir Music Movies Books</code>命令在桌面上创建三个目录-<code>Music</code>，<code>Movies</code>和<code>Books</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~/Desktop$</span> <span class="hljs-string">mkdir</span> <span class="hljs-string">Music</span> <span class="hljs-string">Movies</span> <span class="hljs-string">Books</span> 
<span class="hljs-string">elliot@ubuntu-linux:~/Desktop$</span> <span class="hljs-string">ls</span> <span class="hljs-string">-l</span>
<span class="hljs-string">total</span> <span class="hljs-number">20</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">21</span> <span class="hljs-number">01</span><span class="hljs-string">:54</span> <span class="hljs-string">Books</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">20</span> <span class="hljs-number">20</span><span class="hljs-string">:20</span> <span class="hljs-string">games</span>
<span class="hljs-string">-rw-r--r--</span> <span class="hljs-number">1</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span>   <span class="hljs-number">37</span> <span class="hljs-string">Jan</span> <span class="hljs-number">19</span> <span class="hljs-number">14</span><span class="hljs-string">:20</span> <span class="hljs-string">hello.txt</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">21</span> <span class="hljs-number">01</span><span class="hljs-string">:54</span> <span class="hljs-string">Movies</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-string">elliot</span> <span class="hljs-string">elliot</span> <span class="hljs-number">4096 </span><span class="hljs-string">Jan</span> <span class="hljs-number">21</span> <span class="hljs-number">01</span><span class="hljs-string">:54</span> <span class="hljs-string">Music</span>
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/ce2df5e4-c1ec-4ecd-afb5-0789d584b925.jpg" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 13：在桌面上创建的目录</p>
<p>您还可以使用<code>-p</code>选项创建整个目录路径。例如，您可以通过运行<code>mkdir -p dir1/dir2/dir3</code>命令创建路径<code>/home/elliot/dir1/dir2/dir3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> -p dir1/dir2/dir3 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> 
blabla Desktop dir1 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> dir1 
elliot@ubuntu-linux:~/dir1$ <span class="hljs-built_in">ls</span> 
dir2
elliot@ubuntu-linux:~/dir1$ <span class="hljs-built_in">cd</span> dir2 
elliot@ubuntu-linux:~/dir1/dir2$ <span class="hljs-built_in">ls</span> 
dir3
elliot@ubuntu-linux:~/dir1/dir2$ <span class="hljs-built_in">cd</span> dir3 
elliot@ubuntu-linux:~/dir1/dir2/dir3$ <span class="hljs-built_in">pwd</span>
/home/elliot/dir1/dir2/dir3 
elliot@ubuntu-linux:~/dir1/dir2/dir3$
</code></pre>
<p>它在<code>/home/elliot</code>目录中创建了<code>dir1</code>，然后在<code>dir1</code>中创建了<code>dir2</code>，最后在<code>dir2</code>中创建了<code>dir3</code>。</p>
<p>您可以使用递归的<code>-R</code>选项对<code>/home/elliot/dir1</code>进行递归列表，并查看<code>/home/elliot/dir1</code>下的所有文件，而无需更改每个目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -R <span class="hljs-keyword">dir1 </span>
<span class="hljs-keyword">dir1:
</span><span class="hljs-keyword">dir2
</span>
<span class="hljs-keyword">dir1/dir2:
</span><span class="hljs-keyword">dir3
</span>
<span class="hljs-keyword">dir1/dir2/dir3: </span>
elliot@ubuntu-linux:~$
</code></pre>
<p>正如你所看到的，它列出了<code>/home/elliot/dir1</code>下的所有文件。它甚至显示了层次结构。</p>
<p>您还可以通过将它们包含在一对大括号中，并且每个子目录之间用逗号分隔，来创建具有多个子目录的新目录，就像以下示例中一样：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~/dir1/dir2/dir3$ <span class="hljs-built_in">mkdir</span> -p dir4/{dir5,dir6,dir7} 
elliot@ubuntu-linux:~/dir1/dir2/dir3$ <span class="hljs-built_in">ls</span> -R dir4
dir4:
dir5 dir6 dir7 

dir4/dir5: 

dir4/dir6:

dir4/dir7:
</code></pre>
<p>正如您所看到的，我们创建了<code>dir4</code>，并在其中创建了三个目录-<code>dir5</code>，<code>dir6</code>和<code>dir7</code>。</p>
<h1 id="组合命令选项">组合命令选项<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您已经学会了许多可以与<code>ls</code>命令一起使用的不同选项。<code>表 4</code>总结了到目前为止我们使用过的所有选项。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>ls 选项</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-l</code></td>
<td>文件的长格式和详细列表。</td>
</tr>
<tr>
<td><code>-a</code></td>
<td>列出隐藏文件。</td>
</tr>
<tr>
<td><code>-d</code></td>
<td>仅列出目录本身，而不是它们的内容。</td>
</tr>
<tr>
<td><code>-t</code></td>
<td>按修改时间对文件进行排序。</td>
</tr>
<tr>
<td><code>-u</code></td>
<td>与<code>-l</code>一起使用时，显示访问时间而不是修改时间。与<code>-lt</code>一起使用时，将按访问时间排序并显示访问时间。</td>
</tr>
<tr>
<td><code>-r</code></td>
<td>将列表顺序反转。</td>
</tr>
<tr>
<td><code>-R</code></td>
<td>递归列出子目录。</td>
</tr>
</tbody>
</table></div>
<p>表 4：常用 ls 命令选项</p>
<p>您经常会希望同时使用两个或更多的命令选项。例如，<code>ls -a -l</code>通常用于对目录中的所有文件进行长列表。</p>
<p>此外，<code>ls -l -a -t -r</code>是一个非常受欢迎的组合，因为有时您可能希望按修改时间排序文件的列表（从最旧到最新）。因此，组合命令选项更有效，因此运行<code>ls -latr</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -latr 
total <span class="hljs-number">120</span>
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot       <span class="hljs-number">0</span>    Apr <span class="hljs-number">11</span>  <span class="hljs-number">2010</span> file2
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot     <span class="hljs-number">807</span>    Dec <span class="hljs-number">26</span> <span class="hljs-number">23</span>:<span class="hljs-number">47</span> .profile
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">3771</span>    Dec <span class="hljs-number">26</span> <span class="hljs-number">23</span>:<span class="hljs-number">47</span> .<span class="hljs-keyword">bashrc
</span>drwxr-xr-x  <span class="hljs-number">9</span> root   root      <span class="hljs-number">4096</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">17</span> <span class="hljs-number">04</span>:<span class="hljs-number">37</span> ..
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot     <span class="hljs-number">220</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">20</span> <span class="hljs-number">17</span>:<span class="hljs-number">23</span> .<span class="hljs-keyword">bash_logout
</span>drwxr-xr-x  <span class="hljs-number">6</span> elliot elliot    <span class="hljs-number">4096</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot       <span class="hljs-number">0</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">08</span> file1
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot       <span class="hljs-number">0</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">27</span> file3
drwxr-xr-x  <span class="hljs-number">3</span> elliot elliot    <span class="hljs-number">4096</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">52</span> <span class="hljs-keyword">dir1
</span>-rw-------  <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">3152</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">26</span> <span class="hljs-number">00</span>:<span class="hljs-number">01</span> .<span class="hljs-keyword">bash_history
</span>drwxr-xr-x <span class="hljs-number">17</span> elliot elliot    <span class="hljs-number">4096</span>    <span class="hljs-keyword">Jan </span><span class="hljs-number">30</span> <span class="hljs-number">23</span>:<span class="hljs-number">32</span> .
</code></pre>
<p>将产生与运行<code>ls -l -a -t -r</code>命令相同的结果：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ ls -l -a -t -r 
total <span class="hljs-number">120</span>
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> Apr <span class="hljs-number">11</span>  <span class="hljs-number">2010</span> file2
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot  <span class="hljs-number">807</span> Dec <span class="hljs-number">26</span> <span class="hljs-number">23</span>:<span class="hljs-number">47</span> .profile
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">3771</span> Dec <span class="hljs-number">26</span> <span class="hljs-number">23</span>:<span class="hljs-number">47</span> .<span class="hljs-keyword">bashrc
</span>drwxr-xr-x  <span class="hljs-number">9</span> root   root   <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">17</span> <span class="hljs-number">04</span>:<span class="hljs-number">37</span> ..
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot  <span class="hljs-number">220</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">20</span> <span class="hljs-number">17</span>:<span class="hljs-number">23</span> .<span class="hljs-keyword">bash_logout
</span>drwxr-xr-x  <span class="hljs-number">6</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span> Desktop
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">08</span> file1
-rw-r--r--  <span class="hljs-number">1</span> elliot elliot    <span class="hljs-number">0</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">27</span> file3
drwxr-xr-x  <span class="hljs-number">3</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">25</span> <span class="hljs-number">23</span>:<span class="hljs-number">52</span> <span class="hljs-keyword">dir1
</span>-rw-------  <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">3152</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">26</span> <span class="hljs-number">00</span>:<span class="hljs-number">01</span> .<span class="hljs-keyword">bash_history
</span>drwxr-xr-x <span class="hljs-number">17</span> elliot elliot <span class="hljs-number">4096</span> <span class="hljs-keyword">Jan </span><span class="hljs-number">30</span> <span class="hljs-number">23</span>:<span class="hljs-number">32</span> .
</code></pre>
<p>在本章结束之前，我想向您展示一个非常酷的技巧。首先，让我们创建一个名为<code>averylongdirectoryname</code>的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mkdir averylongdirectoryname 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -ld averylongdirectoryname
drwxr-xr-x <span class="hljs-number">2</span> elliot elliot <span class="hljs-number">4096</span> Mar <span class="hljs-number">2</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">57</span> averylongdirectoryname
</code></pre>
<p><strong>制表完成</strong>是 Linux 命令行中最有用的功能之一。您可以使用此功能让 shell 自动完成（建议）命令名称和文件路径。为了演示，输入（不要运行）以下文本到您的终端：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd ave
</code></pre>
<p>现在按下键盘上的<em>Tab</em>键，shell 将自动为您完成目录名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd averylongdirectoryname/
</code></pre>
<p>相当酷！好的，这就是本章的结束，现在是时候进行可爱的知识检查了。</p>
<h1 id="知识检查-1">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开终端并尝试解决以下任务：</p>
<ol>
<li>
<p>对<code>/var/log</code>中的所有文件进行长列表。</p>
</li>
<li>
<p>显示文件<code>/etc/hostname</code>的内容。</p>
</li>
<li>
<p>在<code>/home/elliot</code>中创建三个文件-<code>file1</code>，<code>file2</code>和<code>file3</code>。</p>
</li>
<li>
<p>列出<code>elliot</code>的主目录中的所有文件（包括隐藏文件）。</p>
</li>
<li>
<p>在<code>/home/elliot</code>中创建一个名为<code>fsociety</code>的目录。</p>
</li>
</ol>
<h2 id="真或假">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>/home/root</code>是 root 用户的主目录。</p>
</li>
<li>
<p><code>dir1/dir2/dir3</code>是绝对路径的一个例子。</p>
</li>
<li>
<p><code>/home/elliot/Desktop</code>是绝对路径的一个例子。</p>
</li>
<li>
<p><code>touch -m file1</code>将更新<code>file1</code>的访问时间。</p>
</li>
<li>
<p><code>mkdir dir1 dir2 dir3</code>将创建三个目录-<code>dir1</code>，<code>dir2</code>和<code>dir3</code>。</p>
</li>
</ol>
<p>见编辑器</p>
<p>首先，让我告诉您一些可能会让您感到惊讶的事情。Linux 实现了所谓的“一切皆文件”的哲学。这意味着在您的 Linux 系统上，一切都由文件表示。例如，您的硬盘由一个文件表示。运行的程序（进程）由一个文件表示。甚至您的外围设备，如键盘、鼠标和打印机，都由文件表示。</p>
<p>说到这一点，“一切皆文件”的哲学的一个直接结果是，Linux 管理员花费大量时间编辑和查看文件。因此，您经常会看到 Linux 管理员非常擅长使用文本编辑器。本章就是专门讲这个的。我希望您能够非常熟练地使用 Linux 中的各种文本编辑器。</p>
<p>有很多，我是说很多文本编辑器可以使用。但是，在本章中，我将介绍最受欢迎的 Linux 编辑器，这些编辑器可以完成工作。</p>
<h1 id="第四章图形编辑器---gedit-和-kate">第四章：图形编辑器 - gedit 和 kate<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们首先从那些最基本和简单的编辑器开始。这些是图形编辑器！如果您使用任何 Linux 发行版的<strong>GNOME</strong>版本，那么默认情况下会安装文本编辑器<code>gedit</code>。另一方面，如果您使用 Linux 的<strong>KDE</strong>版本，那么默认情况下会安装文本编辑器<code>kate</code>。</p>
<p><strong>桌面环境</strong></p>
<p>GNOME 和 KDE 是桌面环境的两个例子。每个桌面环境都实现了不同的图形用户界面，这是说您的桌面看起来会有所不同的一种花哨的方式！</p>
<p>无论如何，在图形编辑器上真的没有太多可以讨论的。它们非常直观和易于使用。例如，如果您想要使用<code>gedit</code>查看文本文件，那么您可以运行<code>gedit</code>命令，后面跟上任何文件名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>gedit /<span class="hljs-built_in">proc</span>/cpuinfo
</code></pre>
<p>这将打开<code>gedit</code>图形编辑器，并显示您的 CPU 信息。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/d37da084-50a9-4032-b1e9-a886707e6a80.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：使用 gedit 打开/proc/cpuinfo</p>
<p>如果您没有<code>gedit</code>而是有<code>kate</code>，那么您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>kate /<span class="hljs-built_in">proc</span>/cpuinfo
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/cc6c07d1-6c84-44da-b26f-986f3b6839c2.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：使用 kate 打开/proc/cpuinfo</p>
<p>您还可以使用图形编辑器在系统上创建新文件。例如，如果您想在<code>/home/elliot</code>中创建一个名为<code>cats.txt</code>的文件，那么您可以运行<code>gedit /home/elliot/cats.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>gedit /home/elliot/cats.txt
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/40a3c327-7211-46ab-b713-7cfcf87bc12b.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：使用 gedit 创建 cats.txt</p>
<p>现在插入一行“I love cats!”然后保存并关闭文件。文件<code>cats.txt</code>现在存在于我的主目录中，我可以使用<code>cat</code>命令查看它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pwd
/home/elliot
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l cats.txt
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">13</span> Feb <span class="hljs-number">2</span> <span class="hljs-number">14</span><span class="hljs-symbol">:</span><span class="hljs-number">54</span> cats.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat cats.txt
I love cats!
</code></pre>
<p>同样，您可以使用任何其他图形文本编辑器在系统上创建文件。</p>
<p>好了！关于图形文本编辑器的讨论就到此为止。让我们继续探索非图形文本编辑器的严肃世界。</p>
<h1 id="nano-编辑器">nano 编辑器<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>nano</code>编辑器是一个非常流行且易于使用的命令行编辑器。您可以通过运行<code>nano</code>命令来打开<code>nano</code>编辑器：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>nano
</code></pre>
<p>这将打开您的<code>nano</code>编辑器，您应该会看到以下截图中的屏幕：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b9b1e0e2-b634-4d2d-8d74-a6df75c96d78.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：在 nano 内部</p>
<p>现在添加以下截图中显示的六行：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/6167db42-a28c-44c4-afcf-6c032c0e9694.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：添加这六行</p>
<p>看一下<code>nano</code>编辑器屏幕底部；您会看到很多快捷键：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/0345a1b9-485d-4917-a0a7-64666bf49078.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 6：nano 快捷键</p>
<p>我在下表中列出了所有有用的 nano 快捷键：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>nano 快捷方式</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>Ctrl</em>+<em>O</em></td>
<td>保存当前文件（写出）。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>K</em></td>
<td>剪切当前行并将其存储在缓冲区中。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>U</em></td>
<td>粘贴存储在缓冲区中的行。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>W</em></td>
<td>在文件中搜索字符串（单词）。</td>
</tr>
<tr>
<td><em>Ctrl</em>+**</td>
<td>用另一个字符串替换文件中的字符串（单词）。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>R</em></td>
<td>读取另一个文件。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>G</em></td>
<td>查看如何使用 nano 的帮助信息。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>V</em></td>
<td>转到下一页。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>Y</em></td>
<td>转到上一页。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>X</em></td>
<td>退出 nano 编辑器。</td>
</tr>
</tbody>
</table></div>
<p>表 5：nano 快捷键</p>
<p>请注意，按下<em>Ctrl</em>+<em>O</em>快捷键是通过按下<em>Ctrl</em>，然后按字母<em>O</em>触发的。您不必按下<em>+</em>键或大写字母<em>O</em>。</p>
<p>现在让我们使用快捷键<em>Ctrl</em>+<em>O</em>保存文件；它会要求您输入文件名，您可以输入<code>facts.txt</code>。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/48bb5470-d558-429b-b1ef-8514afb5ac00.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 7：保存文件</p>
<p>然后按<em>Enter</em>确认。现在让我们退出<code>nano</code>编辑器（使用<em>Ctrl</em>+<em>X</em>快捷键）来验证文件<code>facts.txt</code>是否已创建：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l facts.txt
-rw-r--r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">98</span> Apr <span class="hljs-number">30</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span><span class="hljs-number">17</span> facts.txt
</code></pre>
<p>现在让我们再次打开<code>facts.txt</code>来修复我们添加的错误事实！要用<code>nano</code>编辑器打开文件<code>facts.txt</code>，您可以运行<code>nano facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>nano facts.txt
</code></pre>
<p>文件<code>facts.txt</code>中的第一行说“苹果是蓝色的。”我们肯定需要纠正这个错误的事实，所以让我们使用快捷键<em>Ctrl</em>+**将单词<code>blue</code>替换为<code>red</code>。</p>
<p>当您按下<em>Ctrl</em>+**时，它会要求您输入要替换的单词；您可以输入<code>blue</code>，如下面的截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/f1f7099a-5a54-4f3a-aef0-2ca1e043e558.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 8：要替换的单词</p>
<p>按<em>Enter</em>，然后它会要求您输入替换的单词。您可以输入<code>red</code>，如下面的截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/0a1da2ab-e958-469b-ab96-965e7cc4d551.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 9：替换单词</p>
<p>然后按<em>Enter</em>，它将遍历单词<code>blue</code>的每个实例，并询问您是否要替换它。幸运的是，我们只有一个<code>blue</code>的出现。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/ebbefa8c-324b-45d1-af78-539a5a0aab9b.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 10：用红色替换蓝色</p>
<p>按<em>Y</em>，嘭！单词<code>red</code>替换了<code>blue</code>。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/9ee45d73-7f0e-4c74-9238-21cf16f8f38a.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 11：红色替换蓝色</p>
<p>这里还有一个词需要改变。我们都同意地球不是平的，对吧？希望我们都同意！现在让我们像之前一样精确地用单词<code>round</code>替换<code>flat</code>，结果应该像下面的截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/6a4e95ea-5677-4bce-8374-b43102783ab5.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 12：用圆形替换平的</p>
<p>现在让我们保存并退出文件。因此我们使用<em>Ctrl</em>+<em>O</em>快捷键保存，然后使用<em>Ctrl</em>+<em>X</em>退出。</p>
<p><code>nano</code>编辑器非常简单易用。熟能生巧，所以您使用得越多，它对您来说就会变得越容易。您可以练习<code>表 5</code>中的所有快捷键。</p>
<h1 id="vi-编辑器">vi 编辑器<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>nano</code>编辑器通常是初学者的首选编辑器。它是一个很棒的编辑器，但我们只能说它不是最高效的编辑器。<code>vi</code>编辑器是一个更高级的 Linux 编辑器，具有大量功能，并且是高级 Linux 用户中最受欢迎的编辑器。</p>
<p>让我们用<code>vi</code>编辑器打开<code>facts.txt</code>文件；为此，您运行<code>vi facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>vi facts.txt
</code></pre>
<p>这将打开<code>vi</code>编辑器，如下面的截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/7294c42b-a5b4-4086-bed9-adbf69da2e48.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 13：在 vi 中打开 facts.txt 文件</p>
<p>与<code>nano</code>编辑器不同，<code>vi</code>编辑器以两种不同的模式工作：</p>
<ol>
<li>
<p><code>插入</code>模式</p>
</li>
<li>
<p><code>命令</code>模式</p>
</li>
</ol>
<p><code>插入</code>模式使您能够在文件中插入文本。另一方面，<code>命令</code>模式允许您执行复制、粘贴和删除文本等操作。<code>命令</code>模式还允许您搜索和替换文本以及许多其他操作。</p>
<h2 id="插入模式">插入模式<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>默认情况下，您首次打开<code>vi</code>编辑器时会进入<code>命令</code>模式，而在<code>命令</code>模式下无法插入文本。要插入文本，您需要切换到<code>插入</code>模式。有几种方法可以切换到<code>插入</code>模式；<code>表 6</code>列出了所有方法。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>键</strong></th>
<th><strong>功能</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>i</code></td>
<td>在当前光标位置之前插入文本。</td>
</tr>
<tr>
<td><code>I</code></td>
<td>在当前行的开头插入文本。</td>
</tr>
<tr>
<td><code>a</code></td>
<td>在当前光标位置之后添加文本。</td>
</tr>
<tr>
<td><code>A</code></td>
<td>在当前行的末尾添加文本。</td>
</tr>
<tr>
<td>o</td>
<td>在当前行下方创建一个新行。</td>
</tr>
<tr>
<td>O</td>
<td>在当前行上方创建一个新行。</td>
</tr>
</tbody>
</table></div>
<p>表 6：vi 插入模式</p>
<p>您可以使用箭头键在<code>vi</code>编辑器中导航，就像在<code>nano</code>编辑器中一样。现在导航到文件<code>facts.txt</code>的最后一行，然后按字母<code>o</code>切换到<code>insert</code>模式。现在您可以添加一行“Linux is cool!”</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/4afe6d76-edfc-4fc1-9231-a4834c36d9ed.png" alt="" loading="lazy"></p>
<p>图 14：在 vi 中添加一行</p>
<p>在<code>insert</code>模式下，您可以添加任意多的文本。要切换回<code>command</code>模式，您需要按下<em>Esc</em>键。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/0542f500-99c6-4570-b5a1-e191424aa661.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 15：在插入模式和命令模式之间切换</p>
<p>上述屏幕截图说明了如何在<code>command</code>模式和<code>insert</code>模式之间来回切换。</p>
<h2 id="命令模式">命令模式<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>除了添加文本之外，您想做的任何事情都可以从<code>command</code>模式中实现。您可以在<code>vi</code>编辑器中使用大量命令。您可能会认为我在开玩笑，但是有很多关于<code>vi</code>编辑器的书籍和课程。但是，“表 7”将让您熟悉<code>vi</code>编辑器，并列出了您可以使用的最流行的命令。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>vi 命令</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>yy</td>
<td>复制（yank）当前行。</td>
</tr>
<tr>
<td>3yy</td>
<td>复制（yank）三行（从当前行开始）。</td>
</tr>
<tr>
<td>yw</td>
<td>复制（yank）光标位置开始的一个单词。</td>
</tr>
<tr>
<td>2yw</td>
<td>复制（yank）光标位置开始的两个单词。</td>
</tr>
<tr>
<td>p</td>
<td>在当前光标位置之后粘贴。</td>
</tr>
<tr>
<td>P</td>
<td>在当前光标位置之前粘贴。</td>
</tr>
<tr>
<td>dd</td>
<td>剪切（删除）当前行。</td>
</tr>
<tr>
<td>4dd</td>
<td>剪切（删除）四行（从当前行开始）。</td>
</tr>
<tr>
<td>dw</td>
<td>剪切（删除）光标位置开始的一个单词。</td>
</tr>
<tr>
<td>x</td>
<td>删除光标位置的字符。</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一次更改。</td>
</tr>
<tr>
<td>U</td>
<td>撤销对该行的所有更改。</td>
</tr>
<tr>
<td>/red</td>
<td>在文件中搜索单词<code>red</code>。</td>
</tr>
<tr>
<td>:%s/bad/good</td>
<td>用<code>good</code>替换<code>bad</code>。</td>
</tr>
<tr>
<td>设置行号</td>
<td>显示行号。</td>
</tr>
<tr>
<td>:set nonumber</td>
<td>隐藏行号。</td>
</tr>
<tr>
<td>:7</td>
<td>转到第 7 行。</td>
</tr>
<tr>
<td>G</td>
<td>跳转到文件末尾。</td>
</tr>
<tr>
<td>gg</td>
<td>跳转到文件开头。</td>
</tr>
</tbody>
</table></div>
<p>表 7：vi 命令</p>
<p>正如您所看到的，“表 7”有很多命令，所以我不会逐一介绍所有的命令；这留给您作为练习。但是，我将讨论一些命令，以帮助您开始使用<code>vi</code>编辑器。</p>
<p>让我们首先显示行号，因为这将使我们的生活更加轻松！要做到这一点，您可以运行<code>:set</code> number 命令，如下面的屏幕截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/69d9a7ee-ea10-4a4c-b8e1-3b06d013cc33.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 16：显示行号</p>
<p>现在让我们复制第 4 行。您需要确保光标在第 4 行上；您可以通过运行<code>:4</code>命令来实现这一点，如下面的屏幕截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/aacc68b4-97a6-4ff0-b832-abfa34dfb557.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 17：转到第 4 行</p>
<p>现在按下序列<code>yy</code>，它会复制整行。让我们在文件末尾粘贴三次。因此，导航到最后一行，然后按* p *三次，它会将复制的行粘贴三次，如下面的屏幕截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/407eff49-cf61-4f82-a73f-ccc8df800a97.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 18：在 vi 中复制和粘贴</p>
<p>好了！让我们将单词<code>cool</code>替换为<code>awesome</code>，因为我们都知道 Linux 不仅仅是酷；它是令人敬畏的！要做到这一点，您可以运行<code>:%s/cool/awesome</code>命令，如下面的屏幕截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/9bd62bc6-483e-495b-99ec-7693d3c6c39d.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 19：用 awesome 替换 cool</p>
<p>让我们也将单词<code>Roses</code>替换为<code>Cherries</code>，因为我们都知道并不是所有的玫瑰都是红色的。要做到这一点，运行<code>:%s/Roses/Cherries</code>命令，如下面的屏幕截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b92a6c73-a27c-4037-8d8b-caeeeca9ae83.png" alt="" loading="lazy"></p>
<p>图 20：用 Cherries 替换 Roses</p>
<p>它甚至会告诉您发生了多少次替换。</p>
<p><strong>酷提示</strong></p>
<p>您应该知道<code>:%s/old/new</code>只会替换所有行中单词<code>old</code>的第一次出现。要替换所有行中单词<code>old</code>的所有出现，应使用全局选项<code>:%s/old/new/g</code></p>
<p>要理解并理解上面的提示，向您的<code>facts.txt</code>文件添加行“蓝蓝蓝蓝”，并尝试使用<code>:%s/blue/purple</code>命令将单词<code>blue</code>替换为<code>purple</code>。您会看到它只会替换第一个<code>blue</code>的出现。要使其替换所有<code>blue</code>的出现，您必须使用全局选项</p>
<p><code>:%s/blue/purple/g</code>。</p>
<h2 id="保存并退出-vi">保存并退出 vi<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>最终，当您完成在<code>vi</code>中查看或编辑文件时，您会想要退出<code>vi</code>编辑器。您可以使用多种方法退出<code>vi</code>编辑器，<code>表 8</code>列出了所有方法。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>vi 命令</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:w</code></td>
<td>保存文件但不退出<code>vi</code>。</td>
</tr>
<tr>
<td><code>:wq</code></td>
<td>保存文件并退出<code>vi</code>。</td>
</tr>
<tr>
<td><code>ZZ</code></td>
<td>保存文件并退出<code>vi</code>（与<code>:wq</code>相同，只是更快！）。</td>
</tr>
<tr>
<td><code>:x</code></td>
<td>保存文件并退出<code>vi</code>（与<code>:wq</code>或<code>ZZ</code>相同）。</td>
</tr>
<tr>
<td><code>:q</code></td>
<td>不保存退出<code>vi</code>。</td>
</tr>
<tr>
<td><code>:q!</code></td>
<td>强制退出<code>vi</code>而不保存。</td>
</tr>
</tbody>
</table></div>
<p>表 8：保存和退出 vi</p>
<p>所以让我们保存文件并退出<code>vi</code>编辑器。当然，您可以使用以下任何命令：</p>
<ol>
<li>
<p><code>:wq</code></p>
</li>
<li>
<p><code>:x</code></p>
</li>
<li>
<p><code>ZZ</code></p>
</li>
</ol>
<p>它们都实现了相同的结果，即保存并退出<code>vi</code>。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/4e4023a5-29b5-4fb4-b352-7265fabbd287.png" alt="" loading="lazy"></p>
<p>图 21：保存并退出 vi</p>
<p>如果您成功退出了<code>vi</code>编辑器，我要祝贺您，因为您是精英中的一员。互联网上有数百个关于一些人打开<code>vi</code>编辑器后从未能退出的模因和漫画！</p>
<h1 id="文件查看命令">文件查看命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在某些情况下，您可能只想查看文件而不编辑它。虽然您仍然可以使用文本编辑器如<code>nano</code>或<code>vi</code>来查看文件，但在 Linux 中有更快的查看文件的方法。</p>
<h2 id="cat-命令">cat 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>cat</code>命令是 Linux 中最受欢迎和经常使用的命令之一。<code>cat</code>（<strong>concatenate</strong>的缩写）命令将文件连接并打印到标准输出（终端）。</p>
<p>要查看我们创建的<code>facts.txt</code>文件，可以运行<code>cat facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
</code></pre>
<p>现在，您可以在终端舒适地查看<code>facts.txt</code>文件的内容，而无需打开任何文本编辑器。</p>
<p><code>cat</code>命令不仅可以查看文件，还可以连接（放在一起）文件。为了演示，使用您喜欢的文本编辑器创建以下三个文件：</p>
<ol>
<li>
<p><code>file1.txt</code>（插入行“第一个文件”）</p>
</li>
<li>
<p><code>file2.txt</code>（插入行“第二个文件”）</p>
</li>
<li>
<p><code>file3.txt</code>（插入行“第三个文件”）</p>
</li>
</ol>
<p>现在让我们使用<code>cat</code>命令查看这三个文件的每一个：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat file1.txt 
First File
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat file2.txt 
Second File
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat file3.txt 
Third File
</code></pre>
<p>现在让我们通过运行<code>cat file1.txt file2.txt</code>命令来连接<code>file1.txt</code>和<code>file2.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ cat file1.txt file2.txt 
<span class="hljs-keyword">First</span> File
<span class="hljs-keyword">Second</span> File
</code></pre>
<p>我们还可以连接所有三个文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ cat file1.txt file2.txt file3.txt 
<span class="hljs-keyword">First</span> File
<span class="hljs-keyword">Second</span> File 
Third File
</code></pre>
<p>请记住，顺序很重要；例如，运行<code>cat file2.txt file1.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ cat file2.txt file1.txt 
<span class="hljs-keyword">Second</span> File
<span class="hljs-keyword">First</span> File
</code></pre>
<p>这将在<code>file1.txt</code>之前输出<code>file2.txt</code>的文本。</p>
<h2 id="tac-命令">tac 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>tac</code>命令是<code>cat</code>命令的孪生兄弟。它基本上是反向编写的<code>cat</code>，它做的事情与<code>cat</code>命令相同，但是以相反的方式！</p>
<p>例如，如果您想以相反的顺序查看<code>facts.txt</code>文件，可以运行<code>tac facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ tac facts.txt 
Cherries are red.
Cherries are red.
Cherries are red.
Linux is awesome!
Earth is round.
Sky is high.
Cherries are red.
Bananas are yellow.
Grapes are green.
Apples are red.
</code></pre>
<p><code>tac</code>命令也可以像<code>cat</code>命令一样连接文件。</p>
<h2 id="more-命令">more 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>使用<code>cat</code>命令查看文件是一个不错的选择，当文件很小，且没有很多行文本需要显示时。如果要查看一个大文件，最好使用<code>more</code>命令。<code>more</code>命令一次显示文件的一页内容；它基本上是一个分页程序。</p>
<p>让我们用<code>more</code>命令查看文件<code>/etc/services</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ more /etc/services 
<span class="hljs-comment"># Network services, Internet style</span>
<span class="hljs-comment"># Note that it is presently the policy of IANA to assign a single well-known </span>
<span class="hljs-comment"># port number for both TCP and UDP; hence, officially ports have two entries </span>
<span class="hljs-comment"># even if the protocol doesn't support UDP operations.</span>

tcpmux 1/tcp <span class="hljs-comment"># TCP port service multiplexer </span>
systat 11/tcp <span class="hljs-built_in">users</span>
netstat 15/tcp ftp 21/tcp
fsp 21/udp fspd
ssh 22/tcp <span class="hljs-comment"># SSH Remote Login Protocol </span>
telnet 23/tcp
smtp 25/tcp mail 
whois 43/tcp nicname
tacacs 49/tcp <span class="hljs-comment"># Login Host Protocol (TACACS) </span>
tacacs 49/udp
--More--(7%)
</code></pre>
<p>它会显示<code>/etc/services</code>文件的第一页，并在底部显示一个百分比值，显示你已经浏览了文件的进度。你可以使用以下键在<code>more</code>中导航：</p>
<ul>
<li>
<p><em>Enter</em> &gt; 向下滚动一行。</p>
</li>
<li>
<p>空格键 &gt; 前往下一页。</p>
</li>
<li>
<p><em>b</em> &gt; 返回上一页。</p>
</li>
<li>
<p><em>q</em> &gt; 退出。</p>
</li>
</ul>
<p><code>/etc/services</code>文件存储了许多可以在 Linux 上运行的服务（应用程序）的信息。</p>
<h2 id="less-命令">less 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>less</code>命令是<code>more</code>命令的改进版本。是的，你读对了；less 比 more 更好！事实上，著名的成语<em>less is more</em>源于<code>less</code>比<code>more</code>提供更多的想法。</p>
<p><code>less</code>命令是另一个分页程序，就像<code>more</code>一样；它允许你一次查看一个页面的文本文件。<code>less</code>的优点是你可以使用上/下箭头键在文件中导航。此外，<code>less</code>比<code>more</code>更快。</p>
<p>你可以通过运行以下命令使用<code>less</code>查看<code>/etc/services</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>less /etc/services
</code></pre>
<p>你也可以在<code>less</code>中使用<code>more</code>导航键。</p>
<h2 id="正面还是反面">正面还是反面？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>正如其名称所示，<code>head</code>命令显示文件的前几行。默认情况下，它显示文件的前十行。例如，我们知道<code>facts.txt</code>中有十行，因此运行<code>head facts.txt</code>命令将显示所有文件内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ head facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
</code></pre>
<p>你也可以传递<code>-n</code>选项来指定你希望查看的行数。例如，要显示<code>facts.txt</code>的前三行，你可以运行<code>head -n 3 facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ head <span class="hljs-operator">-</span>n <span class="hljs-number">3</span> facts.txt 
Apples <span class="hljs-keyword">are</span> red.
Grapes <span class="hljs-keyword">are</span> green.
Bananas <span class="hljs-keyword">are</span> yellow.
</code></pre>
<p>另一方面，<code>tail</code>命令显示文件的最后几行。默认情况下，它显示最后十行。你也可以使用<code>-n</code>选项来指定你希望查看的行数。例如，要显示<code>facts.txt</code>中的最后两行，你可以运行<code>tail -n 2 facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ tail <span class="hljs-operator">-</span>n <span class="hljs-number">2</span> facts.txt 
Cherries <span class="hljs-keyword">are</span> red.
Cherries <span class="hljs-keyword">are</span> red.
</code></pre>
<p>你知道现在是几点吗？是时候进行一些知识检查了。</p>
<h1 id="知识检查-2">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>只查看文件<code>facts.txt</code>的前两行。</p>
</li>
<li>
<p>只查看文件<code>facts.txt</code>的最后一行。</p>
</li>
<li>
<p>以相反的顺序显示文件<code>facts.txt</code>的内容。</p>
</li>
<li>
<p>使用<code>vi</code>编辑器打开文件<code>facts.txt</code>。</p>
</li>
<li>
<p>退出<code>vi</code>编辑器，认为自己是精英之一。</p>
</li>
</ol>
<p>复制、移动和删除文件</p>
<p>如果您以前拥有过计算机，那么您就知道能够在文件之间复制和移动文件是多么重要。这就是为什么我专门写了一整章来讨论这个问题：复制、移动和删除文件。</p>
<h1 id="第五章复制一个文件">第五章：复制一个文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有时您需要复制单个文件。幸运的是，在命令行上这是一个简单的操作。我在我的主目录中有一个名为<code>cats.txt</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat cats.txt 
I love cars!
I love cats!
I love penguins!
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>我可以使用<code>cp</code>命令复制名为<code>cats.txt</code>的文件并命名为<code>copycats.txt</code>，方法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cp cats.txt copycats.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat copycats.txt
I love cars!
I love cats!
I love penguins!
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>如您所见，复制的文件<code>copycats.txt</code>与原始文件<code>cats.txt</code>具有相同的内容。</p>
<p>我也可以将文件<code>cats.txt</code>复制到另一个目录。例如，我可以通过运行<code>cp cats.txt /tmp</code>命令将文件<code>cats.txt</code>复制到<code>/tmp</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cp cats.txt /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$ </span>ls
cats.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$
</span></code></pre>
<p>请注意，复制的文件与原始文件具有相同的名称。我也可以在<strong><code>/tmp</code></strong>中用不同的名称再复制一份：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cp cats.txt /tmp/cats2.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$ </span>ls 
cats2.txt  cats.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$
</span></code></pre>
<h1 id="复制多个文件">复制多个文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可能还想一次复制多个文件。为了演示，让我们首先在 Elliot 的主目录中创建三个文件<code>apple.txt</code>、<code>banana.txt</code>和<code>carrot.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch apple.txt banana.txt carrot.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt carrot.txt copycats.txt dir1 
banana.txt cats.txt Desktop
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>要将三个新创建的文件复制到<code>/tmp</code>，您可以运行<code>cp apple.txt ba- nana.txt carrot.txt /tmp</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cp apple.txt banana.txt carrot.txt /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt cats2.txt cats.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$
</span></code></pre>
<p>小菜一碟！一般来说，<code>cp</code>命令遵循以下语法：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">cp <span class="hljs-built_in">source_file</span>(s) destination
</code></pre>
<h1 id="复制一个目录">复制一个目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可能还想复制整个目录；这也很容易实现。为了演示，在您的主目录中创建一个名为<code>cities</code>的目录，并在<code>cities</code>中创建三个文件<code>paris</code>、<code>tokyo</code>和<code>london</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> cities
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> cities/
elliot@ubuntu-linux:~/cities$ <span class="hljs-built_in">touch</span> paris tokyo london
elliot@ubuntu-linux:~/cities$ <span class="hljs-built_in">ls</span>
london paris tokyo
</code></pre>
<p>现在，如果您想将<code>cities</code>目录复制到<code>/tmp</code>，您必须向<code>cp</code>命令传递递归的<code>-r</code>选项，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~/cities$ <span class="hljs-built_in">cd</span> ..
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cp</span> -r cities /tmp
</code></pre>
<p>如果您省略了<code>-r</code>选项，将会收到错误消息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cp</span> cities /tmp
<span class="hljs-built_in">cp</span>: -r not specified; omitting directory <span class="hljs-string">'cities'</span>
</code></pre>
<p>您可以通过列出<code>/tmp</code>中的文件来验证<code>cities</code>目录是否已复制到<code>/tmp</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /tmp
elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">ls</span>
apple.txt banana.txt carrot.txt cats2.txt cats.txt cities
elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">ls</span> cities
london paris tokyo
</code></pre>
<h1 id="复制多个目录">复制多个目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以像复制多个文件一样复制多个目录；唯一的区别是您必须向<code>cp</code>命令传递递归的<code>-r</code>选项。</p>
<p>为了演示，在 Elliot 的主目录中创建三个目录<code>d1</code>、<code>d2</code>和<code>d3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">mkdir</span> d1 d2 d3
</code></pre>
<p>现在，您可以通过运行<code>cp -r d1 d2 d3 /tmp</code>命令将所有三个目录复制到<code>/tmp</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cp</span> -r d1 d2 d3 /tmp
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /tmp
elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">ls</span>
apple.txt banana.txt carrot.txt cats2.txt cats.txt cities d1 d2 d3
</code></pre>
<h1 id="移动一个文件">移动一个文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有时，您可能希望将文件（或目录）移动到不同的位置，而不是复制并浪费磁盘空间。</p>
<p>为此，您可以使用<code>mv</code>命令。例如，您可以通过运行<code>mv copycats.txt /tmp</code>命令，将文件<code>copycats.txt</code>从 Elliot 的主目录移动到<code>/tmp</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv copycats.txt /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt   carrot.txt cities d2  Desktop  Downloads
banana.txt  cats.txt   d1     d3  dir1     Pictures
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /tmp
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/tmp<span class="hljs-variable">$ </span>ls
apple.txt  carrot.txt cats.txt copycats.txt d2
banana.txt cats2.txt  cities   d1           d3
</code></pre>
<p>请注意，<code>copycats.txt</code>现在已经从 Elliot 的主目录中消失，因为它已经迁移到<code>/tmp</code>中。</p>
<h1 id="移动多个文件">移动多个文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您也可以像复制多个文件一样移动多个文件。例如，您可以将三个文件<code>apple.txt</code>、<code>banana.txt</code>和<code>carrot.txt</code>从<code>/tmp</code>移动到<code>/home/elliot/d1</code>，方法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">mv</span> apple.txt banana.txt carrot.txt /home/elliot/d1
elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">ls</span>
cats2.txt cats.txt cities copycats.txt d1 d2 d3
elliot@ubuntu-linux:/tmp$ <span class="hljs-built_in">cd</span> /home/elliot/d1
elliot@ubuntu-linux:~/d1$ <span class="hljs-built_in">ls</span>
apple.txt banana.txt carrot.txt
elliot@ubuntu-linux:~/d1$
</code></pre>
<p>如您所见，三个文件<code>apple.txt</code>、<code>banana.txt</code>和<code>carrot.txt</code>不再位于<code>/tmp</code>中，因为它们都移动到了<code>/home/elliot/d1</code>。一般来说，<code>mv</code>命令遵循以下语法：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">mv <span class="hljs-built_in">source_file</span>(s) destination
</code></pre>
<h1 id="移动一个目录">移动一个目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以使用<code>mv</code>命令移动目录。例如，如果要移动目录<code>d3</code>并将其放入<code>d2</code>中，则可以运行<code>mv d3 d2</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">mv</span> d3 d2
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> d2
elliot@ubuntu<span class="hljs-literal">-linux</span>:~/d2<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> 
d3
elliot@ubuntu<span class="hljs-literal">-linux</span>:~/d2<span class="hljs-variable">$</span>
</code></pre>
<p>请注意，移动目录不需要使用递归的<code>-r</code>选项。</p>
<h1 id="移动多个目录">移动多个目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以一次移动多个目录。为了演示，在 Elliot 的主目录中创建一个名为<code>big</code>的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">mkdir</span> big
</code></pre>
<p>现在您可以将三个目录<code>d1</code>、<code>d2</code>和<code>cities</code>移动到<code>big</code>目录中，方法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv d1 d2 cities big
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls big
cities d1 d2
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<h1 id="重命名文件">重命名文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以使用<code>mv</code>命令重命名文件。例如，如果要将文件<code>cats.txt</code>重命名为<code>dogs.txt</code>，可以运行<code>mv cats.txt dogs.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv cats.txt dogs.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat dogs.txt
I love cars!
I love cats!
I love penguins!
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>如果要将目录<code>big</code>重命名为<code>small</code>，可以运行<code>mv big small</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv big small
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls small 
cities d1 d2
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>总之，这就是<code>mv</code>命令的工作原理：</p>
<ol>
<li>
<p>如果目标目录存在，<code>mv</code>命令将移动源文件到目标目录。</p>
</li>
<li>
<p>如果目标目录不存在，<code>mv</code>命令将重命名源文件。</p>
</li>
</ol>
<p>请记住，您一次只能重命名一个文件（或一个目录）。</p>
<h1 id="隐藏文件-1">隐藏文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以通过将文件重命名为以点开头的名称来隐藏任何文件。</p>
<p>让我们试试吧；您可以通过将文件重命名为<code>.dogs.txt</code>来隐藏文件<code>dogs.txt</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt dogs.txt Desktop dir1 small
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv dogs.txt .dogs.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt Desktop dir1 small
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>正如您所看到的，文件<code>dogs.txt</code>现在被隐藏了，因为它被重命名为<code>.dogs.txt</code>。您可以通过重命名它并删除文件名前面的点来取消隐藏<code>.dogs.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv .dogs.txt dogs.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt dogs.txt Desktop dir1 small
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>是的，先生！您也可以以相同的方式隐藏和取消隐藏目录。我会留下这个让你作为练习。</p>
<h1 id="删除文件">删除文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用<code>rm</code>命令来删除文件。例如，如果要删除文件<code>dogs.txt</code>，可以运行<code>rm dogs.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt dogs.txt Desktop dir1 small
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm dogs.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
apple.txt banana.txt carrot.txt Desktop dir1 small
</code></pre>
<p>您也可以一次删除多个文件。例如，您可以通过运行<code>rm apple.txt banana.txt carrot.txt</code>命令来删除三个文件<code>apple.txt</code>，<code>banana.txt</code>和<code>carrot.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm apple.txt banana.txt carrot.txt
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
Desktop dir1 small 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<h1 id="删除目录">删除目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以通过传递递归的<code>-r</code>选项来删除目录的<code>rm</code>命令。为了演示，让我们首先在 Elliot 的主目录中创建一个名为<code>garbage</code>的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mkdir garbage
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
Desktop dir1 garbage small
</code></pre>
<p>现在让我们尝试删除<code>garbage</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm garbage
<span class="hljs-symbol">rm:</span> cannot remove <span class="hljs-string">'garbage'</span>: Is a directory
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>糟糕！我出错了，因为我没有传递递归的<code>-r</code>选项。这次我会传递递归选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm -r garbage
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
Desktop dir1 small
</code></pre>
<p>太棒了！我们摆脱了<code>garbage</code>目录。</p>
<p>你也可以使用<code>rmdir</code>命令来删除只有空目录。为了演示，让我们创建一个名为<code>garbage2</code>的新目录，并在其中创建一个名为<code>old</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> garbage2
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> garbage2
elliot@ubuntu-linux:~/garbage2$ <span class="hljs-built_in">touch</span> old
</code></pre>
<p>现在让我们回到 Elliot 的主目录，并尝试使用<code>rmdir</code>命令删除<code>garbage2</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~/garbage2<span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> ..
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rmdir</span> garbage2
<span class="hljs-built_in">rmdir</span>: failed to remove <span class="hljs-string">'garbage2'</span>: Directory not empty
</code></pre>
<p>正如您所看到的，它不允许您删除非空目录。因此，让我们删除<code>garbage2</code>中的文件<code>old</code>，然后重新尝试删除<code>garbage2</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm garbage2/old
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rmdir garbage2
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls
Desktop dir1 small 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>哇！<code>garbage2</code>目录永远消失了。这里要记住的一件事是，<code>rm -r</code>命令将删除任何目录（空目录和非空目录）。另一方面，<code>rmdir</code>命令只会删除空目录。</p>
<p>在本章的最后一个示例中，让我们创建一个名为<code>garbage3</code>的目录，然后在其中创建两个文件<code>a1.txt</code>和<code>a2.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> garbage3
elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> garbage3/
elliot@ubuntu-linux:~/garbage3$ <span class="hljs-built_in">touch</span> a1.txt a2.txt
elliot@ubuntu-linux:~/garbage3$ <span class="hljs-built_in">ls</span>
a1.txt a2.txt
</code></pre>
<p>现在让我们回到 Elliot 的主目录，尝试删除<code>garbage3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~/garbage3<span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> ..
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rmdir</span> garbage3
<span class="hljs-built_in">rmdir</span>: failed to remove <span class="hljs-string">'garbage3'</span>: Directory not empty
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rm</span> <span class="hljs-literal">-r</span> garbage3
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span>
Desktop dir1 Downloads Pictures small
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span>
</code></pre>
<p>正如您所看到的，<code>rmdir</code>命令未能删除非空目录<code>garbage3</code>，而<code>rm -r</code>命令成功删除了它。</p>
<p>没有什么比一个好的知识检查练习更能让信息牢固地留在你的脑海中了。</p>
<h1 id="知识检查-3">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>在您的主目录中创建三个文件<code>hacker1</code>，<code>hacker2</code>和<code>hacker3</code>。</p>
</li>
<li>
<p>在您的主目录中创建三个目录<code>Linux</code>，<code>Windows</code>和<code>Mac</code>。</p>
</li>
<li>
<p>在您在任务 2 中创建的<code>Linux</code>目录中创建一个名为<code>cool</code>的文件。</p>
</li>
<li>
<p>在您在任务 2 中创建的<code>Windows</code>目录中创建一个名为<code>boring</code>的文件。</p>
</li>
<li>
<p>在您在任务 2 中创建的<code>Mac</code>目录中创建一个名为<code>expensive</code>的文件。</p>
</li>
<li>
<p>将两个文件<code>hacker1</code>和<code>hacker2</code>复制到<code>/tmp</code>目录。</p>
</li>
<li>
<p>将两个目录<code>Windows</code>和<code>Mac</code>复制到<code>/tmp</code>目录。</p>
</li>
<li>
<p>将文件<code>hacker3</code>移动到<code>/tmp</code>目录。</p>
</li>
<li>
<p>将目录<code>Linux</code>移动到<code>/tmp</code>目录。</p>
</li>
<li>
<p>从您的主目录中的<code>Mac</code>目录中删除文件<code>expensive</code>。</p>
</li>
<li>
<p>从您的主目录中删除目录<code>Mac</code>。</p>
</li>
<li>
<p>从您的主目录中删除目录<code>Windows</code>。</p>
</li>
<li>
<p>从您的主目录中删除文件<code>hacker2</code>。</p>
</li>
<li>
<p>将文件<code>hacker1</code>重命名为<code>hacker01</code>。</p>
</li>
</ol>
<h2 id="真或假-1">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>cp</code>命令可以复制目录，而不使用递归选项<code>-r</code>。</p>
</li>
<li>
<p>在移动目录时，您必须使用递归选项<code>-r</code>。</p>
</li>
<li>
<p>您可以使用<code>mv</code>命令来重命名文件或目录。</p>
</li>
<li>
<p>您可以使用<code>rmdir</code>命令删除非空目录。</p>
</li>
<li>
<p>您可以使用<code>rm -r</code>命令删除非空目录。</p>
</li>
</ol>
<p>阅读你的手册！</p>
<p>你现在可能会对自己说：“Linux 太难了！有很多命令，甚至有更多的命令选项！我不可能掌握所有这些命令并记住它们。”如果这是你的想法，相信我，你是聪明的。记住所有存在的 Linux 命令是不可能的，即使是最有经验的 Linux 管理员也永远不可能记住所有命令，甚至连 Linus Torvalds 本人也不可能！</p>
<p>那么等等？如果是这样，那么解决方案是什么呢？答案就在美丽的 Linux 文档世界中。Linux 有非常完善的文档，以至于很难在其中迷失。Linux 中有各种工具，不仅可以帮助你记住命令，还可以帮助你理解如何使用它们。</p>
<p>在我的职业生涯中遇到了许多 Linux 专业人士，我注意到最熟练的 Linux 管理员不是那些记住了所有命令的人，而是那些知道如何充分利用 Linux 文档的人。女士们先生们，我强烈建议你系好安全带，仔细阅读本章。我向你保证，你心中的恐惧很快就会消失！</p>
<h1 id="第六章linux-命令的四个类别">第六章：Linux 命令的四个类别<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>所有 Linux 命令必须属于以下四个类别中的一个：</p>
<ol>
<li>
<p><strong>可执行程序</strong>：通常是用 C 编程语言编写的。<code>cp</code>命令就是一个可执行命令的例子。</p>
</li>
<li>
<p><strong>别名</strong>：基本上是命令（或一组命令）的另一个名称。</p>
</li>
<li>
<p><strong>shell 内置命令</strong>：shell 也支持内部命令。<code>exit</code>和<code>cd</code>命令就是 shell 内置命令的两个例子。</p>
</li>
<li>
<p><strong>shell 函数</strong>：这些函数帮助我们完成特定任务，在编写 shell 脚本时至关重要。稍后我们会更详细地介绍这个，现在只需要知道它们存在即可。</p>
</li>
</ol>
<h1 id="确定命令的类型">确定命令的类型<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>type</code>命令来确定命令的类型（类别）。例如，如果你想知道<code>pwd</code>命令的类型，只需运行<code>type pwd</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">type</span> <span class="hljs-built_in">pwd</span> 
<span class="hljs-built_in">pwd</span> is a shell <span class="hljs-built_in">builtin</span>
</code></pre>
<p>所以现在你知道<code>pwd</code>命令是一个 shell 内置命令。现在让我们弄清楚<code>ls</code>命令的类型：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">type</span> <span class="hljs-built_in">ls</span>
<span class="hljs-built_in">ls</span> is aliased to `<span class="hljs-built_in">ls</span> --color=auto<span class="hljs-string">'
</span></code></pre>
<p>你可以看到，<code>ls</code>命令被别名为<code>ls --color=auto</code>。现在你知道为什么每次运行<code>ls</code>命令时都会看到彩色的输出了。让我们看看<code>date</code>命令的类型：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">type</span> <span class="hljs-built_in">date</span> 
<span class="hljs-built_in">date</span> is /bin/date
</code></pre>
<p>任何位于<code>/bin</code>或<code>/sbin</code>中的命令都是可执行程序。因此，我们可以得出<code>date</code>命令是一个可执行程序，因为它位于<code>/bin</code>中。</p>
<p>最后，让我们确定<code>type</code>命令本身的类型：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-haskell"><span class="hljs-title">elliot</span>@ubuntu-linux:~$ <span class="hljs-class"><span class="hljs-keyword">type</span> <span class="hljs-keyword">type</span> </span>
<span class="hljs-class"><span class="hljs-keyword">type</span> is a shell builtin</span>
</code></pre>
<p>原来<code>type</code>命令是一个 shell 内置命令。</p>
<h1 id="查找命令的位置">查找命令的位置<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>每次运行一个可执行命令时，系统中都会有一个文件被执行。你可以使用<code>which</code>命令来确定可执行命令的位置。例如，如果你想知道<code>rm</code>命令的位置，可以运行<code>which rm</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">rm</span>
/bin/rm
</code></pre>
<p>所以现在你知道<code>rm</code>位于<code>/bin</code>目录中。让我们看看<code>reboot</code>命令的位置：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">which</span> reboot
/sbin/reboot
</code></pre>
<p>你可以看到，<code>reboot</code>命令位于<code>/sbin</code>目录中。</p>
<h1 id="这个命令是做什么的">这个命令是做什么的？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>whatis</code>命令来获取一个命令的简要描述。例如，如果你想知道<code>free</code>命令的目的，可以运行<code>whatis free</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ whatis <span class="hljs-keyword">free</span>
<span class="hljs-keyword">free</span> (<span class="hljs-number">1</span>)             <span class="hljs-operator">-</span> Display amount <span class="hljs-keyword">of</span> <span class="hljs-keyword">free</span> <span class="hljs-keyword">and</span> used memory <span class="hljs-keyword">in</span> the <span class="hljs-keyword">system</span>
</code></pre>
<p>你可以看到，<code>free</code>命令，正如我们已经知道的那样，显示系统中的空闲和已使用内存量。酷！现在让我们看看<code>df</code>命令的作用：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ whatis <span class="hljs-built_in">df</span>
<span class="hljs-built_in">df</span> (1)               - report file system disk space usage
</code></pre>
<p>最后，让我们看看<code>which</code>命令的作用：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ whatis <span class="hljs-built_in">which</span> 
<span class="hljs-built_in">which</span> (1)            - locate a <span class="hljs-built_in">command</span>
</code></pre>
<p>正如我们已经知道的那样，<code>which</code>显示了一个命令的位置。</p>
<h1 id="man-页面">man 页面<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>whatis</code>命令给出了一个命令的简要描述；然而，它并不教你如何使用一个命令。为此，你可以使用<code>man</code>页面。</p>
<p><code>man</code>页面是一个<strong>手册</strong>页面，其中有适当的文档，可帮助您了解如何使用命令。就像您购买新手机时，会得到一本手册，告诉您如何使用手机以及如何在手机上更新软件等。</p>
<p>一般来说，如果要阅读命令的<code>man</code>页面，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell"><span class="hljs-built_in">man</span> command_name
</code></pre>
<p>例如，如果要查看<code>touch</code>命令的<code>man</code>页面，可以运行<code>man touch</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man touch
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/f8c6a647-777e-4f3b-88db-a75530e8e132.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：touch man 页面</p>
<p>正如您在前面的屏幕截图中看到的，<code>touch</code> man 页面显示了如何使用该命令，并列出并解释了所有命令选项。</p>
<p><code>表 9</code>向您展示了在浏览<code>man</code>页面时如何移动。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>man 键</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>空格</td>
<td>向前滚动一页。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>F</em></td>
<td>向前滚动一页（与空格相同）。</td>
</tr>
<tr>
<td><em>Ctrl</em>+<em>B</em></td>
<td>向后滚动一页。</td>
</tr>
<tr>
<td><code>/word</code></td>
<td>将在<code>man</code>页面中搜索单词（模式）。例如，<code>/access</code>将在<code>man</code>页面中搜索单词<code>access</code></td>
</tr>
<tr>
<td><em>q</em></td>
<td>将退出<code>man</code>页面。</td>
</tr>
<tr>
<td><em>n</em></td>
<td>在搜索单词后，您可以使用<em>n</em>来查找<code>man</code>页面中单词的下一个出现。</td>
</tr>
<tr>
<td><em>N</em></td>
<td>在搜索单词后，您可以使用<em>N</em>来查找<code>man</code>页面中单词的上一个出现。</td>
</tr>
</tbody>
</table></div>
<p>我无法再次强调<code>man</code>页面的重要性。相信我，在最黑暗的时刻，它们可以成为您最好的朋友！</p>
<p>您还应该知道<code>man</code>本身有一个 man 页面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">man</span> <span class="hljs-built_in">man</span>
</code></pre>
<p>它描述了如何使用<code>man</code>页面。</p>
<h1 id="shell-内置命令的帮助">shell 内置命令的帮助<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果您足够玩转<code>man</code>页面，您可能会注意到许多 shell 内置命令没有<code>man</code>页面。例如，<code>cd</code>或<code>exit</code>命令没有<code>man</code>页面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">type</span> <span class="hljs-built_in">cd</span> 
<span class="hljs-built_in">cd</span> is a shell builtin 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">man</span> <span class="hljs-built_in">cd</span> 
No manual entry <span class="hljs-keyword">for</span> <span class="hljs-built_in">cd</span> 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">type</span> <span class="hljs-keyword">exit</span> 
<span class="hljs-keyword">exit</span> is a shell builtin 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">man</span> <span class="hljs-keyword">exit</span> 
No manual entry <span class="hljs-keyword">for</span> <span class="hljs-keyword">exit</span>
</code></pre>
<p>这是因为 shell 内置命令没有<code>man</code>页面，但不要慌！您仍然可以使用<code>help</code>命令找到如何使用 shell 内置命令的帮助。例如，要获取有关如何使用<code>exit</code>命令的帮助，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vbnet">elliot@ubuntu-linux:~$ help <span class="hljs-keyword">exit</span> 
<span class="hljs-symbol">exit:</span> <span class="hljs-keyword">exit</span> [n]
 <span class="hljs-keyword">Exit</span> the shell.

 Exits the shell <span class="hljs-keyword">with</span> a status <span class="hljs-keyword">of</span> N. <span class="hljs-keyword">If</span> N <span class="hljs-built_in">is</span> omitted, the <span class="hljs-keyword">exit</span> status 
 <span class="hljs-built_in">is</span> that <span class="hljs-keyword">of</span> the last command executed.
</code></pre>
<p>类似地，要获取有关如何使用<code>cd</code>命令的帮助，您可以运行<code>help cd</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vbnet">elliot@ubuntu-linux:~$ help cd 
<span class="hljs-symbol">cd:</span> cd [-L|-P] [dir]
 Change the shell working directory.

 Change the current directory <span class="hljs-keyword">to</span> DIR. The <span class="hljs-keyword">default</span> DIR <span class="hljs-built_in">is</span> the value <span class="hljs-keyword">of</span> 
 the HOME shell variable.

 The variable CDPATH defines the search path <span class="hljs-keyword">for</span> the directory containing DIR. 
 Alternative directory names <span class="hljs-keyword">in</span> CDPATH are separated <span class="hljs-keyword">by</span> a colon (:). 
 A null directory name <span class="hljs-built_in">is</span> the same <span class="hljs-keyword">as</span> the current directory. 
 <span class="hljs-keyword">If</span> DIR begins <span class="hljs-keyword">with</span> a slash (/), <span class="hljs-keyword">then</span> CDPATH <span class="hljs-built_in">is</span> <span class="hljs-built_in">not</span> used.

 <span class="hljs-keyword">If</span> the directory <span class="hljs-built_in">is</span> <span class="hljs-built_in">not</span> found, <span class="hljs-built_in">and</span> the shell <span class="hljs-keyword">option</span> `cdable_vars<span class="hljs-comment">' is set, </span>
 the word <span class="hljs-built_in">is</span> assumed <span class="hljs-keyword">to</span> be a variable name. <span class="hljs-keyword">If</span> that variable has a value, 
 its value <span class="hljs-built_in">is</span> used <span class="hljs-keyword">for</span> DIR.

 Options:
 -L force symbolic links <span class="hljs-keyword">to</span> be followed
 -P use the physical directory <span class="hljs-keyword">structure</span> without following symbolic links
 The <span class="hljs-keyword">default</span> <span class="hljs-built_in">is</span> <span class="hljs-keyword">to</span> follow symbolic links, <span class="hljs-keyword">as</span> <span class="hljs-keyword">if</span> `-L<span class="hljs-comment">' were specified. </span>

 <span class="hljs-keyword">Exit</span> Status:
 Returns <span class="hljs-number">0</span> <span class="hljs-keyword">if</span> the directory <span class="hljs-built_in">is</span> changed; non-zero otherwise.
</code></pre>
<h1 id="信息页面">信息页面<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>GNU 项目推出了<code>info</code>页面，作为<code>man</code>页面的替代文档。GNU 项目曾声称<code>man</code>页面已过时，需要替换，因此他们推出了<code>info</code>页面。</p>
<p>您可以通过运行以下命令查看任何命令的<code>info</code>页面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">info command_name
</code></pre>
<p>例如，要查看<code>ls</code>命令的<code>info</code>页面，可以运行<code>info ls</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vbnet">elliot@ubuntu-linux:~$ info ls

<span class="hljs-symbol">Next:</span> dir invocation, Up: Directory listing

<span class="hljs-number">10.1</span> ‘ls<span class="hljs-comment">': List directory contents</span>
==================================

The ‘ls<span class="hljs-comment">' program lists information about files (of any type, including directories). Options and file arguments can be intermixed arbitrarily, as usual.</span>

<span class="hljs-keyword">For</span> non-<span class="hljs-keyword">option</span> command-line arguments that are directories, <span class="hljs-keyword">by</span> <span class="hljs-keyword">default</span> ‘ls<span class="hljs-comment">' lists the contents of directories, not recursively, and omitting files with names beginning with ‘.'. For other non-option arguments, by default ‘ls' lists just the file name. If no non-option argument is specified, ‘ls' operates on the current directory, acting as if it had been invoked with a single argument of ‘.'.</span>

<span class="hljs-keyword">By</span> <span class="hljs-keyword">default</span>, the output <span class="hljs-built_in">is</span> sorted alphabetically, according <span class="hljs-keyword">to</span> the locale settings <span class="hljs-keyword">in</span> effect.(<span class="hljs-number">1</span>) <span class="hljs-keyword">If</span> standard output <span class="hljs-built_in">is</span> a terminal, the output <span class="hljs-built_in">is</span> <span class="hljs-keyword">in</span> columns (sorted vertically) <span class="hljs-built_in">and</span> control characters are output <span class="hljs-keyword">as</span> question marks; otherwise, the output <span class="hljs-built_in">is</span> listed one per line <span class="hljs-built_in">and</span> control characters are output <span class="hljs-keyword">as</span>-<span class="hljs-built_in">is</span>.

Because ‘ls<span class="hljs-comment">' is such a fundamental program, it has accumulated many options over the years. They are described in the subsections below; within each section, options are listed alphabetically (ignoring case). The division of options into the subsections is not absolute, since some options affect more than one aspect of ‘ls''s operation.</span>
</code></pre>
<p><code>info</code>页面有时提供比<code>man</code>页面更详细的信息。但是，<code>man</code>页面仍然是 Linux 上帮助文档的最受欢迎的去处。</p>
<h1 id="非常有帮助的-apropos-命令">非常有帮助的 apropos 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>apropos</code>命令是最有帮助但却被低估的 Linux 命令之一。让我们看一下<code>apropos</code>命令的简要描述：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">elliot<span class="hljs-meta">@ubuntu</span>-linux:~$ whatis apropos
<span class="hljs-title function_">apropos</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>          - search the manual page names and descriptions
</code></pre>
<p>哇！<code>apropos</code>命令帮助您搜索正确的命令以实现特定任务。例如，假设您想重命名文件，但不确定要使用哪个 Linux 命令；在这种情况下，您可以运行<code>apropos rename</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ apropos rename
file-rename (<span class="hljs-number">1</span>p)     - renames <span class="hljs-keyword">multiple </span>files
<span class="hljs-symbol">File:</span>:Rename (<span class="hljs-number">3</span>pm)   - Perl <span class="hljs-keyword">extension </span>for renaming <span class="hljs-keyword">multiple </span>files 
gvfs-rename (<span class="hljs-number">1</span>)      - (unknown <span class="hljs-keyword">subject)
</span>mmove (<span class="hljs-number">1</span>)            - <span class="hljs-keyword">move </span><span class="hljs-keyword">or </span>rename an MSDOS file <span class="hljs-keyword">or </span><span class="hljs-keyword">subdirectory </span>
mren (<span class="hljs-number">1</span>)             - rename an existing MSDOS file
mv (<span class="hljs-number">1</span>)               - <span class="hljs-keyword">move </span>(rename) files 
prename (<span class="hljs-number">1</span>p)         - renames <span class="hljs-keyword">multiple </span>files 
rename (<span class="hljs-number">1</span>)           - renames <span class="hljs-keyword">multiple </span>files
rename.ul (<span class="hljs-number">1</span>)        - rename files
</code></pre>
<p>轰隆！它列出了所有具有<code>rename</code>一词显示在其 man 页面描述中的命令。我打赌您可以在输出中找到<code>mv</code>命令。</p>
<p>假设您想查看日历，但不确定要使用哪个命令；在这种情况下，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">elliot<span class="hljs-meta">@ubuntu</span>-linux:~$ apropos calendar
<span class="hljs-title function_">cal</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>              - displays a calendar and the date of Easter
<span class="hljs-title function_">calendar</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>         - reminder service
<span class="hljs-title function_">ncal</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>             - displays a calendar and the date of Easter
</code></pre>
<p>您可以看到它在输出中显示了<code>cal</code>命令。</p>
<p>对于最后一个例子，假设您想显示 CPU 信息，但不知道要使用哪个命令；在这种情况下，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ apropos cpu 
<span class="hljs-function"><span class="hljs-title">chcpu</span> <span class="hljs-params">(<span class="hljs-number">8</span>)</span>            - <span class="hljs-title">configure</span> CPU<span class="hljs-title">s</span>
<span class="hljs-title">cpuid</span> <span class="hljs-params">(<span class="hljs-number">4</span>)</span>            - <span class="hljs-title">x86</span> CPUID <span class="hljs-title">access</span> <span class="hljs-title">device</span>
<span class="hljs-title">cpuset</span> <span class="hljs-params">(<span class="hljs-number">7</span>)</span>           - <span class="hljs-title">confine</span> <span class="hljs-title">processes</span> <span class="hljs-title">to</span> <span class="hljs-title">processor</span> <span class="hljs-title">and</span> <span class="hljs-title">memory</span> <span class="hljs-title">node</span> <span class="hljs-title">subsets</span> 
<span class="hljs-title">lscpu</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>            - <span class="hljs-title">display</span> <span class="hljs-title">information</span> <span class="hljs-title">about</span> <span class="hljs-title">the</span> CPU <span class="hljs-title">architecture</span>
<span class="hljs-title">msr</span> <span class="hljs-params">(<span class="hljs-number">4</span>)</span>              - <span class="hljs-title">x86</span> CPU MSR <span class="hljs-title">access</span> <span class="hljs-title">device</span>
<span class="hljs-title">sched</span> <span class="hljs-params">(<span class="hljs-number">7</span>)</span>            - <span class="hljs-title">overview</span> <span class="hljs-title">of</span> CPU <span class="hljs-title">scheduling</span>
<span class="hljs-title">taskset</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>          - <span class="hljs-title">set</span> <span class="hljs-title">or</span> <span class="hljs-title">retrieve</span> <span class="hljs-title">a</span> <span class="hljs-title">process's</span> CPU <span class="hljs-title">affinity</span>
</span></code></pre>
<p>就是这样！您可以看到它列出了我们之前使用过的<code>lscpu</code>命令。每当您忘记一个命令或不确定要使用哪个命令时，<code>apropos</code>命令就在这里拯救您。您只需向<code>apropos</code>命令提供一个关键词（最好是动词），以突出您想要完成的任务：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">apropos keyword
</code></pre>
<p><strong>酷技巧</strong></p>
<p><code>man -k</code>命令将显示与<code>apropos</code>命令相同的结果。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ man -k cpu 
<span class="hljs-function"><span class="hljs-title">chcpu</span> <span class="hljs-params">(<span class="hljs-number">8</span>)</span>            - <span class="hljs-title">configure</span> CPU<span class="hljs-title">s</span>
<span class="hljs-title">cpuid</span> <span class="hljs-params">(<span class="hljs-number">4</span>)</span>            - <span class="hljs-title">x86</span> CPUID <span class="hljs-title">access</span> <span class="hljs-title">device</span>
<span class="hljs-title">cpuset</span> <span class="hljs-params">(<span class="hljs-number">7</span>)</span>           - <span class="hljs-title">confine</span> <span class="hljs-title">processes</span> <span class="hljs-title">to</span> <span class="hljs-title">processor</span> <span class="hljs-title">and</span> <span class="hljs-title">memory</span> <span class="hljs-title">node</span> <span class="hljs-title">subsets</span> 
<span class="hljs-title">lscpu</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>            - <span class="hljs-title">display</span> <span class="hljs-title">information</span> <span class="hljs-title">about</span> <span class="hljs-title">the</span> CPU <span class="hljs-title">architecture</span>
<span class="hljs-title">msr</span> <span class="hljs-params">(<span class="hljs-number">4</span>)</span>              - <span class="hljs-title">x86</span> CPU MSR <span class="hljs-title">access</span> <span class="hljs-title">device</span>
<span class="hljs-title">sched</span> <span class="hljs-params">(<span class="hljs-number">7</span>)</span>            - <span class="hljs-title">overview</span> <span class="hljs-title">of</span> CPU <span class="hljs-title">scheduling</span>
<span class="hljs-title">taskset</span> <span class="hljs-params">(<span class="hljs-number">1</span>)</span>          - <span class="hljs-title">set</span> <span class="hljs-title">or</span> <span class="hljs-title">retrieve</span> <span class="hljs-title">a</span> <span class="hljs-title">process's</span> CPU <span class="hljs-title">affinity</span>
</span></code></pre>
<h1 id="usrsharedoc目录"><code>/usr/share/doc</code>目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>/usr/share/doc</code>目录是在 Linux 中寻求帮助的另一个绝佳地方。这个目录有非常详尽的文档；它不仅仅向你展示如何使用一个命令；有时甚至会显示开发该命令的作者的姓名和联系信息。此外，它还可能包括一个<code>TODO</code>文件，其中包含一个未完成的任务/功能列表；贡献者通常会查看<code>TODO</code>文件来帮助修复错误和开发新功能。</p>
<p>为了演示，让我们去<code>nano</code>文档目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /usr/share/doc/nano 
elliot@ubuntu-linux:/usr/share/doc/nano$ <span class="hljs-built_in">pwd</span>
/usr/share/doc/nano
</code></pre>
<p>现在列出目录的内容，看看里面有什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/usr/</span>share/doc/nano$ ls
<span class="hljs-variable constant_">AUTHORS</span>               copyright faq.<span class="hljs-property">html</span>        nano.<span class="hljs-property">html</span>   <span class="hljs-variable constant_">README</span>    <span class="hljs-variable constant_">TODO</span> 
changelog.<span class="hljs-property">Debian</span>.<span class="hljs-property">gz</span>   examples  <span class="hljs-variable constant_">IMPROVEMENTS</span>.<span class="hljs-property">gz</span> <span class="hljs-variable constant_">NEWS</span>.<span class="hljs-property">gz</span>     <span class="hljs-variable constant_">THANKS</span>.<span class="hljs-property">gz</span>
</code></pre>
<p>太棒了！你可以查看<code>AUTHORS</code>文件，看看谁贡献了<code>nano</code>编辑器程序的开发团队。你还可以查看<code>TODO</code>文件，如果你渴望知道是否还有什么事情要做！你还可以查看<code>README</code>文件，了解<code>nano</code>编辑器的一般描述。甚至还有一个包含常见问题的<code>faq.html</code>链接。</p>
<p>正如你在本章中看到的，Linux 有各种有用的工具可供你使用；所以确保你充分利用它们！</p>
<h1 id="知识检测">知识检测<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>你需要知道<code>echo</code>命令是一个 shell 内置命令还是可执行程序，你会运行哪个命令？</p>
</li>
<li>
<p>显示<code>uptime</code>命令可执行文件的位置。</p>
</li>
<li>
<p>显示<code>mkdir</code>命令的简要描述。</p>
</li>
<li>
<p>你忘记了如何使用<code>mv</code>命令，你打算怎么办？</p>
</li>
<li>
<p>你忘记了用来显示日历的命令，你打算怎么办？</p>
</li>
<li>
<p><code>history</code>命令是一个 shell 内置命令，因此它没有 man 页面。你想要清除你的历史记录，但不知道该怎么做。你打算怎么办？</p>
</li>
</ol>
<h2 id="真或假-2">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>whereis</code>命令用于定位命令。</p>
</li>
<li>
<p>你可以互换使用<code>man -p</code>和<code>apropos</code>。</p>
</li>
<li>
<p>你可以使用<code>whatis</code>命令来获取一个命令的简要描述。</p>
</li>
<li>
<p>你可以使用<code>type</code>命令来确定一个命令是别名、shell 内置命令还是可执行程序。</p>
</li>
</ol>
<p>硬链接与软链接</p>
<p>在本章中，我们进一步了解 Linux 文件，并讨论硬链接和软链接之间的区别。如果您以前在 Windows（或 macOS）中创建过快捷方式，您将很快掌握软链接的概念。但在讨论硬链接和软链接之前，您首先必须了解 inode 的概念。</p>
<h1 id="第七章文件-inode">第七章：文件 inode<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>当您去杂货店时，您会发现每种产品都有一组属性，例如：</p>
<ul>
<li>
<p>产品类型：巧克力</p>
</li>
<li>
<p>产品价格：$2.50</p>
</li>
<li>
<p>产品供应商：Kit Kat</p>
</li>
<li>
<p>剩余金额：199</p>
</li>
</ul>
<p>这些属性可以通过扫描产品的条形码在杂货店的任何产品上显示。当然，每个条形码都是唯一的。嗯，您可以将这个类比应用到 Linux。Linux 上的每个文件都有一组属性，例如：</p>
<ul>
<li>
<p>文件类型</p>
</li>
<li>
<p>文件大小</p>
</li>
<li>
<p>文件所有者</p>
</li>
<li>
<p>文件权限</p>
</li>
<li>
<p>硬链接数量</p>
</li>
<li>
<p>文件时间戳</p>
</li>
</ul>
<p>这些属性存储在称为 inode（索引节点）的数据结构中，每个 inode 由一个编号（inode 编号）标识。因此，您可以将 inode 编号视为杂货店中的条形码。Linux 上的每个文件都有一个 inode 编号，每个 inode 编号指向一个文件数据结构，即 inode。以下是 inode 的正式定义：</p>
<p><strong>什么是 inode？</strong></p>
<p>inode 只是一个存储文件信息（属性）的文件数据结构，并且每个 inode 都由一个编号（inode 编号）唯一标识。</p>
<h1 id="显示文件-inode-编号">显示文件 inode 编号<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有两个命令可以用来查看文件的 inode 编号：</p>
<ol>
<li>
<p><code>ls -i</code>文件</p>
</li>
<li>
<p><code>stat</code>文件</p>
</li>
</ol>
<p>例如，要查看<code>facts.txt</code>的 inode 编号，您可以运行<code>ls -i facts.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -i facts.txt 
<span class="hljs-number">924555</span> facts.txt
</code></pre>
<p>它将为您输出 inode 编号。您还可以使用<code>stat</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">stat</span> <span class="hljs-string">facts.txt</span> 
<span class="hljs-attr">File:</span> <span class="hljs-string">facts.txt</span>
<span class="hljs-attr">Size: 173 Blocks: 8 IO Block:</span> <span class="hljs-number">4096 </span><span class="hljs-string">regular</span> <span class="hljs-string">file</span>
<span class="hljs-attr">Device: 801h/2049d Inode: 924555 Links:</span> <span class="hljs-number">1</span>
<span class="hljs-attr">Access:</span> <span class="hljs-string">(0644/-rw-r--r--)</span> <span class="hljs-attr">Uid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">tom)</span> <span class="hljs-attr">Gid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">tom)</span> 
<span class="hljs-attr">Access:</span> <span class="hljs-number">2019-05-08 13:41:16.544000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Modify:</span> <span class="hljs-number">2019-05-08 12:50:44.112000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Change:</span> <span class="hljs-number">2019-05-08 12:50:44.112000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Birth:</span> <span class="hljs-bullet">-</span>
</code></pre>
<p><code>stat</code>命令不仅列出文件的 inode 编号；它还列出所有文件属性，正如您从命令输出中看到的那样。</p>
<h1 id="创建软链接">创建软链接<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在，既然您了解了文件 inode 是什么，您可以轻松理解硬链接和软链接的概念。让我们从软链接开始：</p>
<p><strong>什么是软链接？</strong></p>
<p>软链接（也称为符号链接）只是指向另一个文件的文件。</p>
<p>一图胜过千言万语，因此以下图表将帮助您可视化软链接。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/cd68ca82-ecf6-448a-bc85-a2a2781e55c1.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：软链接可视化</p>
<p>要创建软链接，我们使用<code>ln</code>命令和<code>-s</code>选项，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">ln</span> -s original_file soft_link
</code></pre>
<p>因此，要创建名为<code>soft.txt</code>的软链接到<code>facts.txt</code>文件，您可以运行<code>ln -s facts.txt soft.txt</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln -s facts.txt soft.txt
</code></pre>
<p>现在让我们对刚刚创建的软链接文件<code>soft.txt</code>进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l soft.txt
lrwxrwxrwx <span class="hljs-number">1</span> tom tom <span class="hljs-number">9</span> May <span class="hljs-number">8</span> <span class="hljs-number">21</span><span class="hljs-symbol">:</span><span class="hljs-number">48</span> soft.txt -&gt; facts.txt
</code></pre>
<p>您会注意到两件事。首先，输出的第一列中的字母<code>l</code>，表示文件是一个链接（软链接），其次您可以看到右箭头<code>soft.txt → facts.txt</code>，这基本上告诉我们<code>soft.txt</code>是一个指向文件<code>facts.txt</code>的软链接。</p>
<p>现在让我们检查文件<code>soft.txt</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat soft.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
</code></pre>
<p>当然，它包含与原始文件<code>facts.txt</code>相同的数据。实际上，如果您编辑软链接，它实际上也会编辑原始文件。</p>
<p>为了演示，用任何文本编辑器打开文件<code>soft.txt</code>，并在文件的最末尾添加一行“草是绿色的。”，然后保存并退出，这样<code>soft.txt</code>的内容将如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat soft.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
</code></pre>
<p>现在让我们检查原始文件<code>facts.txt</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
</code></pre>
<p>正如您所看到的，新行“草是绿色的。”也在那里。这是因为每次您编辑软链接时，它实际上也会编辑指向的原始文件。</p>
<p>现在，如果您删除软链接，原始文件不会受到任何影响，它仍然完好无损：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ rm soft.txt 
elliot@ubuntu-linux:~$ cat facts.txt
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
</code></pre>
<p>现在让我们再次创建软链接<code>soft.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln -s facts.txt soft.txt
</code></pre>
<p>如果您删除原始文件<code>facts.txt</code>，软链接<code>soft.txt</code>将变得无用！但在删除<code>facts.txt</code>文件之前，让我们在<code>/tmp</code>中制作一个副本，因为以后我们会需要它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cp</span> facts.txt /tmp
</code></pre>
<p>现在让我们从<code>elliot</code>的主目录中删除文件<code>facts.txt</code>，看看软链接会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rm</span> facts.txt 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">cat</span> soft.txt 
<span class="hljs-built_in">cat</span>: soft.txt: No such file or directory
</code></pre>
<p>如您所见，软链接<code>soft.txt</code>变得无用，因为它现在指向无处。请记住，文件<code>soft.txt</code>仍然存在，如下截图所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/e811db2d-563a-4f9d-aaab-28ab68e72bd2.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：soft.txt 变得无用！</p>
<p>以下图表向您展示了原始文件<code>facts.txt</code>被删除后，软链接<code>soft.txt</code>指向无处。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/4ca73beb-0143-44b9-be29-5c5d02bccfe7.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：soft.txt 指向无处</p>
<p>现在，如果我们将<code>facts.txt</code>移回<code>elliot</code>的主目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mv</span> /tmp/facts.txt /home/elliot
</code></pre>
<p>软链接<code>soft.txt</code>将再次有用！您可以说我们复活了软链接！</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat soft.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
</code></pre>
<p>让我们比较软链接<code>soft.txt</code>和原始文件<code>facts.txt</code>的 inode 号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -i soft.txt facts.txt 
<span class="hljs-number">925155</span> facts.txt <span class="hljs-number">924556</span> soft.txt
</code></pre>
<p>如您所见，两个文件的 inode 号是不同的。最后，让我们对软链接<code>soft.txt</code>运行<code>stat</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">stat</span> <span class="hljs-string">soft.txt</span> 
<span class="hljs-attr">File:</span> <span class="hljs-string">soft.txt</span> <span class="hljs-string">-&gt;</span> <span class="hljs-string">facts.txt</span>
<span class="hljs-attr">Size: 9 Blocks: 0 IO Block:</span> <span class="hljs-number">4096 </span><span class="hljs-string">symbolic</span> <span class="hljs-string">link</span>
<span class="hljs-attr">Device: 801h/2049d Inode: 924556 Links:</span> <span class="hljs-number">1</span>
<span class="hljs-attr">Access:</span> <span class="hljs-string">(0777/lrwxrwxrwx)</span> <span class="hljs-attr">Uid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">tom)</span> <span class="hljs-attr">Gid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">tom)</span> 
<span class="hljs-attr">Access:</span> <span class="hljs-number">2019-05-08 22:04:58.636000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Modify:</span> <span class="hljs-number">2019-05-08 22:02:18.356000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Change:</span> <span class="hljs-number">2019-05-08 22:02:18.356000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Birth:</span> <span class="hljs-bullet">-</span>
</code></pre>
<p>如您所见，它将文件列为符号链接，这是软链接的另一个名称。</p>
<p>因此，正如您迄今所见，软链接具有以下属性：</p>
<ul>
<li>
<p>软链接的 inode 与原始文件不同。</p>
</li>
<li>
<p>一旦原始文件被删除，软链接就变得无用。</p>
</li>
<li>
<p>对软链接的任何更改实际上都是对原始文件的更改。</p>
</li>
<li>
<p>您可以创建对目录的软链接。</p>
</li>
</ul>
<p>您可以创建对目录的软链接，就像您可以创建对文件的软链接一样。为了演示，让我们首先在<code>elliot</code>的主目录中创建一个名为<code>sports</code>的目录。并在<code>sports</code>中创建三个文件-<code>swimming</code>，<code>soccer</code>和<code>hockey</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> sports
elliot@ubuntu-linux:~$ <span class="hljs-built_in">touch</span> sports/swimming sports/soccer sports/hockey 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> sports
hockey soccer swimming
</code></pre>
<p>现在让我们创建名为<code>softdir1</code>的软链接到<code>sports</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln -s sports softdir1
</code></pre>
<p>现在如果您切换到<code>softdir1</code>，实际上是切换到<code>sports</code>，因此您将看到相同的目录内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">cd</span> softdir1 
elliot@ubuntu<span class="hljs-literal">-linux</span>:~/softdir1<span class="hljs-variable">$</span> <span class="hljs-built_in">ls</span> 
hockey soccer swimming
</code></pre>
<p>当然，对目录也是一样的；也就是说，如果您删除原始目录，软链接将变得无用！</p>
<h1 id="创建硬链接">创建硬链接<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>当涉及到硬链接时，情况有些不同。这是因为硬链接是原始文件的副本。以下是硬链接的定义：</p>
<p><strong>什么是硬链接？</strong></p>
<p>硬链接只是现有文件的附加名称。它具有与原始文件相同的 inode，因此与原始文件无法区分。</p>
<p>您可以将其视为昵称。当有人用您的昵称称呼您时，他们仍然在指代您。</p>
<p>硬链接具有以下属性：</p>
<ul>
<li>
<p>硬链接具有与原始文件相同的 inode（共享）。</p>
</li>
<li>
<p>如果原始文件被删除，硬链接仍然保持完整。</p>
</li>
<li>
<p>对硬链接的任何更改都会反映在原始文件中。</p>
</li>
<li>
<p>您无法创建对目录的硬链接。</p>
</li>
</ul>
<p>以下图表可帮助您可视化硬链接：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/ec54b906-da01-41fc-87c8-c2571ebb9a2d.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：硬链接可视化</p>
<p>我们使用相同的<code>ln</code>命令来创建硬链接，但这次我们省略了<code>-s</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">ln</span> original_file hard_link
</code></pre>
<p>因此，要创建名为<code>hard.txt</code>的硬链接到文件<code>facts.txt</code>，您只需运行命令<code>ln facts.txt hard.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln facts.txt hard.txt
</code></pre>
<p>现在让我们对硬链接<code>hard.txt</code>和原始文件<code>facts.txt</code>进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l hard.txt
-rw-rw-r-- <span class="hljs-number">2</span> tom tom <span class="hljs-number">210</span> May <span class="hljs-number">9</span> <span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">07</span> hard.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l facts.txt
-rw-rw-r-- <span class="hljs-number">2</span> tom tom <span class="hljs-number">210</span> May <span class="hljs-number">9</span> <span class="hljs-number">00</span><span class="hljs-symbol">:</span><span class="hljs-number">07</span> facts.txt
</code></pre>
<p>它们是相同的！硬链接也与原始文件一样具有相同的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat hard.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
</code></pre>
<p>现在使用您选择的文本编辑器向硬链接<code>hard.txt</code>的末尾添加一行“游泳是一项运动。”：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat hard.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>现在就像软链接的情况一样，原始文件的内容也发生了变化：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>现在让我们检查两个文件的 inode 号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~ <span class="hljs-built_in">ls</span> -i hard.txt facts.txt 
925155 facts.txt 925155 hard.txt
</code></pre>
<p>请注意，两个文件具有相同的 inode 号。现在让我们对两个文件运行<code>stat</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">stat</span> <span class="hljs-string">hard.txt</span> <span class="hljs-string">facts.txt</span> 
<span class="hljs-attr">File:</span> <span class="hljs-string">hard.txt</span>
<span class="hljs-attr">Size: 210 Blocks: 8 IO Block:</span> <span class="hljs-number">4096 </span><span class="hljs-string">regular</span> <span class="hljs-string">file</span>
<span class="hljs-attr">Device: 801h/2049d Inode: 925155 Links:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">Access:</span> <span class="hljs-string">(0664/-rw-rw-r--)</span> <span class="hljs-attr">Uid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span> <span class="hljs-attr">Gid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span> 
<span class="hljs-attr">Access:</span> <span class="hljs-number">2019-05-09 00:07:36.884000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Modify:</span> <span class="hljs-number">2019-05-09 00:07:25.708000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Change:</span> <span class="hljs-number">2019-05-09 00:07:25.720000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Birth:</span> <span class="hljs-bullet">-</span>
<span class="hljs-attr">File:</span> <span class="hljs-string">facts.txt</span>
<span class="hljs-attr">Size: 210 Blocks: 8 IO Block:</span> <span class="hljs-number">4096 </span><span class="hljs-string">regular</span> <span class="hljs-string">file</span>
<span class="hljs-attr">Device: 801h/2049d Inode: 925155 Links:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">Access:</span> <span class="hljs-string">(0664/-rw-rw-r--)</span> <span class="hljs-attr">Uid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span> <span class="hljs-attr">Gid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span>
<span class="hljs-attr">Access:</span> <span class="hljs-number">2019-05-09 00:07:36.884000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Modify:</span> <span class="hljs-number">2019-05-09 00:07:25.708000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Change:</span> <span class="hljs-number">2019-05-09 00:07:25.720000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Birth:</span> <span class="hljs-bullet">-</span>
</code></pre>
<p><code>stat</code>命令的输出对两个文件都是相同的。而且，这里的<code>链接数：2</code>表示有两个硬链接指向该文件。嗯！我们只创建了一个硬链接指向文件<code>facts.txt</code>，那么为什么会列出两个硬链接呢？原来，原始文件是指向自身的硬链接，所以任何文件至少有一个硬链接（指向自身）。</p>
<p>现在与软链接的情况不同，如果你删除原始文件<code>facts.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm facts.txt
</code></pre>
<p>硬链接保持不变：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat hard.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>下图显示了为什么硬链接保持不变。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/5072e80d-4954-4b5b-8441-aabf89fc7768.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：hard.txt 保持不变</p>
<p>现在注意，在删除文件<code>facts.txt</code>后，文件<code>hard.txt</code>的硬链接计数将减少到一个：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">elliot@ubuntu-linux:~$</span> <span class="hljs-string">stat</span> <span class="hljs-string">hard.txt</span> 
<span class="hljs-attr">File:</span> <span class="hljs-string">hard.txt</span>
<span class="hljs-attr">Size: 210 Blocks: 8 IO Block:</span> <span class="hljs-number">4096 </span><span class="hljs-string">regular</span> <span class="hljs-string">file</span>
<span class="hljs-attr">Device: 801h/2049d Inode: 925155 Links:</span> <span class="hljs-number">1</span>
<span class="hljs-attr">Access:</span> <span class="hljs-string">(0664/-rw-rw-r--)</span> <span class="hljs-attr">Uid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span> <span class="hljs-attr">Gid:</span> <span class="hljs-string">(</span> <span class="hljs-number">1000</span><span class="hljs-string">/</span> <span class="hljs-string">elliot)</span> 
<span class="hljs-attr">Access:</span> <span class="hljs-number">2019-05-09 00:17:21.176000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Modify:</span> <span class="hljs-number">2019-05-09 00:07:25.708000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Change:</span> <span class="hljs-number">2019-05-09 00:17:18.696000000</span> <span class="hljs-number">-0600</span>
<span class="hljs-attr">Birth:</span> <span class="hljs-bullet">-</span>
</code></pre>
<p>你不能创建一个指向目录的硬链接。如果你不相信我，那就试着创建一个名为<code>variables</code>的硬链接指向<code>/var</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">ln</span> /var variables
<span class="hljs-built_in">ln</span>: /var: hard <span class="hljs-built_in">link</span> not allowed <span class="hljs-keyword">for</span> directory
</code></pre>
<p>我告诉过你，目录不允许有硬链接！你为什么怀疑我？</p>
<p><strong>令人震惊的事实</strong></p>
<p>没有办法区分原始文件和硬链接。例如，如果给你两个文件，其中一个恰好是另一个文件的硬链接，那么没有办法知道哪个文件是原始文件！这就像鸡和蛋的困境；没有人知道哪个先出现！</p>
<h1 id="知识检测-1">知识检测<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>显示<code>/var/log</code>目录的 inode 编号。</p>
</li>
<li>
<p>显示<code>/boot</code>目录的硬链接数。</p>
</li>
<li>
<p>在你的主目录中创建一个名为<code>coins</code>的新目录。</p>
</li>
<li>
<p>创建一个指向<code>coins</code>的软链接，名为<code>currency</code>。</p>
</li>
<li>
<p>在<code>coins</code>目录中，创建两个文件——<code>silver</code>和<code>gold</code>。</p>
</li>
<li>
<p>在<code>currency</code>目录中创建一个新文件<code>bronze</code>。</p>
</li>
<li>
<p>列出<code>coins</code>和<code>currency</code>两个目录的内容。</p>
</li>
<li>
<p>在你的主目录中创建一个包含“咖啡很棒”的新文件<code>beverages</code>，并创建一个名为<code>drinks</code>的硬链接指向<code>beverages</code>。</p>
</li>
<li>
<p>在<code>drinks</code>文件中添加一行“柠檬很清爽”，然后删除<code>beverages</code>文件。</p>
</li>
<li>
<p>显示你的<code>drinks</code>文件的内容。</p>
</li>
</ol>
<h2 id="真或假-3">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><strong>文件名</strong>是 inode 数据结构的一部分。</p>
</li>
<li>
<p><strong>文件大小</strong>是 inode 数据结构的一部分。</p>
</li>
<li>
<p>你可以创建指向目录的软链接。</p>
</li>
<li>
<p>你可以创建指向目录的硬链接。</p>
</li>
<li>
<p>目录的最小硬链接数为<code>2</code>。</p>
</li>
<li>
<p>软链接与原始文件具有相同的 inode 编号。</p>
</li>
<li>
<p>硬链接与原始文件具有相同的 inode 编号。</p>
</li>
</ol>
<p>谁是 root？</p>
<p>到目前为止，用户<code>elliot</code>已经能够在系统上做了很多事情。但是，有很多事情用户<code>elliot</code>无法做！为了演示，让我们尝试在<code>/var</code>目录中创建一个名为<code>happy</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">touch</span> /var/happy
<span class="hljs-built_in">touch</span>: cannot <span class="hljs-built_in">touch</span> <span class="hljs-string">'/var/happy'</span>: Permission denied
</code></pre>
<p>哎呀！我们得到了<code>Permission denied</code>错误。</p>
<p>现在让我们尝试在<code>/etc</code>中创建名为<code>games</code>的新目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/$ <span class="hljs-built_in">mkdir</span> /etc/games
<span class="hljs-built_in">mkdir</span>: cannot create directory ‘/etc/games<span class="hljs-string">': Permission denied
</span></code></pre>
<p>再次！我们得到了相同的错误，<code>Permission denied</code>！</p>
<p>这里发生了什么？嗯，用户<code>elliot</code>没有权限在系统上做任何他想做的事情！那么谁？谁有权限在系统上做任何事情？是 root 用户。</p>
<p><strong>谁是 root？</strong></p>
<p><code>root</code>是具有在系统上执行任何操作权限的 Linux 用户。<code>root</code>也被称为超级用户。</p>
<h1 id="第八章访问-root-用户">第八章：访问 root 用户<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以运行<code>sudo -i</code>命令首次访问系统上的<code>root</code>用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>sudo -i
[sudo] password <span class="hljs-keyword">for</span> <span class="hljs-symbol">elliot:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment">#</span>
</code></pre>
<p>您将被提示输入密码，然后突然之间，您拥有了超级权限！</p>
<p>注意命令提示符的变化，而不是美元符号（<code>$</code>），它现在显示<code>#</code>来欢迎 root 用户。</p>
<p>让我们运行<code>whoami</code>命令，确保我们现在已登录为 root 用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># whoami </span>
root
</code></pre>
<p>太棒了！现在让我们显示当前工作目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># pwd</span>
/root
</code></pre>
<p>记得之前我告诉过你，<code>root</code>用户的主目录是<code>/root</code>而不是在<code>/home</code>下。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/f5edc3f1-29b6-486b-b355-08e82f6ca86d.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：/root 是 root 用户的主目录</p>
<p>现在让我们重新运行我们两次被拒绝的命令，但这次，我们以<code>root</code>用户身份运行两个命令。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:~# touch /<span class="hljs-keyword">var</span>/happy 
<span class="hljs-symbol">root@</span>ubuntu-linux:~# ls -l /<span class="hljs-keyword">var</span>/happy
-rw-r--r-- <span class="hljs-number">1</span> root root <span class="hljs-number">0</span> Apr <span class="hljs-number">15</span> <span class="hljs-number">10</span>:<span class="hljs-number">53</span> /<span class="hljs-keyword">var</span>/happy
</code></pre>
<p>正如您所看到的，没有什么可以阻止<code>root</code>用户做任何事情！现在让我们在<code>/etc</code>中创建目录<code>games</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mkdir /etc/games </span>
root@ubuntu-linux:~<span class="hljs-comment"># ls -ld /etc/games</span>
drwxr-xr-<span class="hljs-keyword">x</span> <span class="hljs-number">2</span> root root <span class="hljs-number">4096</span> Apr <span class="hljs-number">15</span> <span class="hljs-number">10</span>:<span class="hljs-number">55</span> /etc/games
</code></pre>
<p>我们没有错误，这是因为您作为<code>root</code>用户有权进行任何操作。但是请永远记住，伴随着强大的力量而来的是巨大的责任。</p>
<h1 id="设置-root-密码">设置 root 密码<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以使用<code>su</code>命令切换到<code>root</code>用户，但首先，您需要设置<code>root</code>的密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully
</code></pre>
<p>太棒了，现在退出<code>root</code>用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># exit </span>
logout
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>whoami 
elliot
</code></pre>
<p>现在您可以使用<code>su root</code>命令切换到<code>root</code>用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ su root 
Password:
root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment"># whoami </span>
root
</code></pre>
<h1 id="破折号的区别">破折号的区别<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>请注意，我的当前工作目录现在是<code>/home/elliot</code>而不是<code>/root</code>。如果我想更改，我可以退出到用户<code>elliot</code>，然后重新运行<code>su</code>命令，但这次，在用户名之前加上破折号（连字符）。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment"># exit </span>
<span class="hljs-keyword">exit</span>
elliot@ubuntu-linux:~$ su - root 
Password:
root@ubuntu-linux:~<span class="hljs-comment"># pwd</span>
/root
</code></pre>
<p>那么有什么区别吗？</p>
<p>这是交易。当您在用户名之前不添加破折号时，shell 会保留当前用户的 shell 环境设置，其中包括当前工作目录。另一方面，当您添加破折号时，shell 会获取新用户（您切换到的用户）的环境设置。</p>
<p>所以让我们练习一下。如果您想切换到用户<code>elliot</code>但保留<code>root</code>的 shell 环境设置，则不需要破折号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># pwd</span>
/root
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su elliot </span>
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/root<span class="hljs-variable">$ </span>pwd
/root
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/root<span class="hljs-variable">$
</span></code></pre>
<p>注意当我切换到用户<code>elliot</code>时，当前工作目录没有更改。现在，让我们退出并再次切换到用户<code>elliot</code>，但这次，在用户名之前加上破折号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/root$ <span class="hljs-built_in">exit</span> 
<span class="hljs-built_in">exit</span>
root@ubuntu-linux:~<span class="hljs-comment"># pwd</span>
/root
root@ubuntu-linux:~<span class="hljs-comment"># su - elliot </span>
elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>现在注意当前工作目录如何从<code>/root</code>更改为<code>/home/elliot</code>。因此，在这里，shell 获取了用户<code>elliot</code>的环境设置。</p>
<p><strong>一个很酷的提示</strong></p>
<p>如果您运行<code>su</code>而不指定用户名，则<code>su</code>将切换到 root 用户。因此，如果您想节省一些输入，每次想切换到 root 用户时都可以省略用户名。</p>
<p>让我们尝试一下我们很酷的提示！作为用户<code>elliot</code>，运行<code>su</code>命令而不指定用户名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ su 
Password:
root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment">#</span>
</code></pre>
<p>然后，您可以输入<code>root</code>密码以登录为<code>root</code>。</p>
<p>您还可以使用破折号获取<code>root</code>的 shell 环境设置：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - 
<span class="hljs-symbol">Password:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># pwd</span>
/root
</code></pre>
<p>这次我降落在<code>/root</code>，因为我使用了破折号。</p>
<p>嗯，这是一个简短的章节，但<code>root</code>用户肯定值得有一个专门的部分。还要记住，当你是<code>root</code>用户时，你拥有超级权限，可以在系统上做任何事情。所以如果你不非常小心，你可能会损坏你的系统，这就是为什么有一个非常著名的 Linux 迷因说，“不要喝酒然后使用 root！”</p>
<h1 id="知识检查-4">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>切换到<code>root</code>用户。</p>
</li>
<li>
<p>更改<code>root</code>用户的密码。</p>
</li>
<li>
<p>切换到用户<code>elliot</code>并登陆到<code>/home/elliot</code>。</p>
</li>
<li>
<p>现在切换到 root 用户，但保留当前工作目录<code>/home/elliot</code>。</p>
</li>
</ol>
<h2 id="真或假-4">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>root</code>用户是 Linux 中最强大的用户。</p>
</li>
<li>
<p>使用<code>su</code>命令而不指定用户名将切换到 root 用户。</p>
</li>
<li>
<p>我们使用<code>passroot</code>命令来更改<code>root</code>用户的密码。</p>
</li>
</ol>
<p>控制人口</p>
<p>Linux 是一个多用户操作系统，这意味着许多用户可以同时访问系统。在现实生活中，你几乎不会找到只有一个用户的 Linux 服务器。相反，你会在一个服务器上看到很多用户。所以让我们真实地为我们的系统添加各种用户和组。在本章中，您将学习如何向 Linux 系统添加用户和组。您还将学习如何以各种方式管理用户和组帐户。此外，您还将学习如何管理 Linux 文件权限。</p>
<h1 id="第九章etcpasswd-文件">第九章：/etc/passwd 文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 中，用户信息存储在<code>/etc/passwd</code>文件中。<code>/etc/passwd</code>中的每一行都对应于一个用户。当您首次打开<code>/etc/passwd</code>时，您会看到很多用户，然后您会想，<em>这些用户都是从哪里来的？</em>答案很简单：这些用户中的大多数是服务用户，它们由您的系统用于启动各种应用程序和服务。然而，本章的主要重点将是系统用户；这些是像您和我一样的真正的人！</p>
<p><code>/etc/passwd</code>中的每一行都由 7 个字段组成，每个字段用冒号分隔，每个字段代表一个用户属性。例如，用户<code>elliot</code>的条目看起来可能是这样的：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/88acbe14-424a-4da1-90fc-6ea1e8522129.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：/etc/passwd 中的 7 个字段</p>
<p>以下表格详细说明了<code>/etc/passwd</code>中的这七个字段，并解释了每一个：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>它存储什么？</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>这个字段存储用户名。</td>
</tr>
<tr>
<td>2</td>
<td>这个字段通常有一个<code>X</code>，这意味着用户的密码已加密并存储在文件<code>/etc/shadow</code>中。</td>
</tr>
<tr>
<td>3</td>
<td>这个字段存储<strong>UID</strong>（<strong>用户 ID</strong>）号码。</td>
</tr>
<tr>
<td>4</td>
<td>这个字段存储用户的主要<strong>GID</strong>（<strong>组 ID</strong>）。</td>
</tr>
<tr>
<td>5</td>
<td>这个字段存储用户的注释，通常是用户的名字和姓氏。</td>
</tr>
<tr>
<td>6</td>
<td>这个字段存储用户的主目录路径。</td>
</tr>
<tr>
<td>7</td>
<td>这个字段存储用户的默认 shell。</td>
</tr>
</tbody>
</table></div>
<p>表 10：理解/etc/passwd</p>
<h1 id="添加用户">添加用户<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在您可以在系统上添加用户之前，您必须成为<code>root</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - 
<span class="hljs-symbol">Password:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment">#</span>
</code></pre>
<p>现在，我们准备好添加用户了。我们都喜欢汤姆和杰瑞，所以让我们从添加用户<code>tom</code>开始。为此，您需要运行命令<code>useradd -m tom</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># useradd -m tom</span>
</code></pre>
<p>就像这样，用户<code>tom</code>现在已经添加到我们的系统中。您还会看到在<code>/etc/passwd</code>文件的末尾添加了一个新行，用于新用户<code>tom</code>；让我们用可爱的<code>tail</code>命令查看一下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># tail -n 1 /etc/passwd </span>
<span class="hljs-symbol">tom:</span><span class="hljs-symbol">x:</span><span class="hljs-number">1007</span><span class="hljs-symbol">:</span><span class="hljs-number">1007</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/home/tom</span><span class="hljs-symbol">:/bin/sh</span>
</code></pre>
<p>我们使用<code>useradd</code>命令的<code>-m</code>选项来确保为用户<code>tom</code>创建一个新的主目录。所以让我们尝试切换到<code>/home/tom</code>目录，以确保它确实已经创建：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /home/tom </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/</span>tom<span class="hljs-comment"># pwd</span>
/home/tom
</code></pre>
<p>太棒了！我们验证了<code>/home/tom</code>已经创建。</p>
<p>在创建新用户后，您可能想要做的第一件事是设置用户的密码。您可以通过运行命令<code>passwd tom</code>来设置<code>tom</code>的密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd tom 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully
</code></pre>
<p>现在，让我们创建用户<code>jerry</code>。但是这次，我们将为用户<code>jerry</code>选择以下属性：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>UID</th>
<th><code>777</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>注释</td>
<td><code>Jerry the Mouse</code></td>
</tr>
<tr>
<td>Shell</td>
<td><code>/bin/bash</code></td>
</tr>
</tbody>
</table></div>
<p>这很容易通过<code>useradd</code>命令来完成：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp">root@ubuntu-linux:~<span class="hljs-meta"># useradd -m -u 777 -c <span class="hljs-string">"Jerry the Mouse"</span> -s /bin/bash jerry</span>
</code></pre>
<p><code>-u</code>选项用于设置<code>jerry</code>的 UID。我们还使用了<code>-c</code>选项为用户<code>jerry</code>添加注释，最后我们使用了<code>-s</code>选项为<code>jerry</code>设置默认 shell。</p>
<p>现在，让我们查看<code>/etc/passwd</code>文件的最后两行，进行一些比较：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># tail -n 2 /etc/passwd </span>
<span class="hljs-symbol">tom:</span><span class="hljs-symbol">x:</span><span class="hljs-number">1007</span><span class="hljs-symbol">:</span><span class="hljs-number">1007</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/home/tom</span><span class="hljs-symbol">:/bin/sh</span> 
<span class="hljs-symbol">jerry:</span><span class="hljs-symbol">x:</span><span class="hljs-number">777</span><span class="hljs-symbol">:</span><span class="hljs-number">1008</span><span class="hljs-symbol">:Jerry</span> the <span class="hljs-symbol">Mouse:</span>/home/<span class="hljs-symbol">jerry:</span>/bin/bash
</code></pre>
<p>请注意，用户<code>tom</code>的注释字段为空，因为我们在创建用户<code>tom</code>时没有添加任何注释，还要注意用户<code>tom</code>的 UID 是由系统选择的，但我们为用户<code>jerry</code>选择了<code>777</code>。另外，注意用户<code>tom</code>的默认 shell 是由系统选择的<code>/bin/sh</code>，这是<code>/bin/bash</code>的旧版本。然而，我们为用户<code>jerry</code>选择了更新的 shell<code>/bin/bash</code>。</p>
<p>现在，让我们为用户<code>jerry</code>设置密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd jerry 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully
</code></pre>
<p>太棒了！我们现在已经创建了两个用户：<code>tom</code>和<code>jerry</code>。现在，让我们切换到用户<code>tom</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - tom</span>
<span class="hljs-variable">$ </span>whoami tom
<span class="hljs-variable">$ </span>pwd
/home/tom
<span class="hljs-variable">$
</span></code></pre>
<p>我们成功切换到了用户<code>tom</code>，但是你可以看到，shell 看起来很不一样，因为命令提示符不显示用户名或主机名。这是因为用户<code>tom</code>的默认 shell 是<code>/bin/sh</code>。你可以使用<code>echo $SHELL</code>命令来显示用户的默认 shell：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">$ <span class="hljs-built_in">echo</span> <span class="hljs-variable">$SHELL</span>
/bin/sh
</code></pre>
<p>如你所见，它显示了<code>/bin/sh</code>。现在，让我们退出并切换到用户<code>jerry</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby"><span class="hljs-variable">$ </span>exit
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - jerry </span>
jerry<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>whoami 
jerry
jerry<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-variable">$SHELL</span>
/bin/bash
</code></pre>
<p>一切看起来都更好了，因为我们确实将他的默认 shell 设置为<code>/bin/bash</code>。好了，现在让我们切换回<code>root</code>用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">jerry@ubuntu-linux:~$ <span class="hljs-keyword">exit</span> 
logout
root@ubuntu-linux:~<span class="hljs-comment">#</span>
</code></pre>
<h1 id="修改用户属性">修改用户属性<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>所以我们不满意用户<code>tom</code>的默认 shell 是<code>/bin/sh</code>，我们想把它改成<code>/bin/bash</code>。我们可以使用<code>usermod</code>命令来修改用户属性。</p>
<p>例如，要将用户<code>tom</code>的默认 shell 更改为<code>/bin/bash</code>，你可以运行命令<code>usermod -s /bin/bash tom</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -s /bin/bash tom</span>
</code></pre>
<p>请注意，你也可以使用命令选项的全名；所以你可以使用<code>--shell</code>代替<code>-s</code>。无论如何，让我们看看我们是否成功地更改了用户<code>tom</code>的默认 shell：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - tom </span>
tom<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>whoami 
tom
tom<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-variable">$SHELL</span>
/bin/bash
</code></pre>
<p>太棒了！我们成功了。你也可以通过运行命令<code>usermod -u 444 tom</code>将<code>tom</code>的 UID 更改为<code>444</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -u 444 tom</span>
</code></pre>
<p>我们确实可以通过查看<code>/etc/passwd</code>文件来检查<code>tom</code>的 UID 是否已更改：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># tail -n 2 /etc/passwd </span>
<span class="hljs-symbol">tom:</span><span class="hljs-symbol">x:</span><span class="hljs-number">444</span><span class="hljs-symbol">:</span><span class="hljs-number">1007</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:/home/tom</span><span class="hljs-symbol">:/bin/bash</span> 
<span class="hljs-symbol">jerry:</span><span class="hljs-symbol">x:</span><span class="hljs-number">777</span><span class="hljs-symbol">:</span><span class="hljs-number">1008</span><span class="hljs-symbol">:Jerry</span> the <span class="hljs-symbol">Mouse:</span>/home/<span class="hljs-symbol">jerry:</span>/bin/bash
</code></pre>
<p>我们甚至可以修改用户<code>tom</code>的注释字段。现在，它是空的，但你可以通过运行命令将用户<code>tom</code>的注释字段设置为<code>"Tom the Cat"</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp">root@ubuntu-linux:~<span class="hljs-meta"># usermod --comment <span class="hljs-string">"Tom the Cat"</span> tom</span>
</code></pre>
<p>而且，我们可以通过查看<code>/etc/passwd</code>文件来验证评论是否已更改：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">2</span> /etc/passwd 
<span class="hljs-attribute">tom</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">444</span>:<span class="hljs-number">1007</span>:Tom the <span class="hljs-attribute">Cat</span>:/home/<span class="hljs-attribute">tom</span>:/bin/bash 
<span class="hljs-attribute">jerry</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">777</span>:<span class="hljs-number">1008</span>:Jerry the <span class="hljs-attribute">Mouse</span>:/home/<span class="hljs-attribute">jerry</span>:/bin/bash
</code></pre>
<h1 id="定义骨架">定义骨架<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果你列出<code>/home/jerry</code>和<code>/home/tom</code>的内容，你会发现它们是空的：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># ls -l /home/tom </span>
total <span class="hljs-number">0</span>
root@ubuntu-linux:~<span class="hljs-comment"># ls -l /home/jerry </span>
total <span class="hljs-number">0</span>
</code></pre>
<p><code>/home/jerry</code>和<code>/home/tom</code>都是空的原因是骨架文件<code>/etc/skel</code>也是空的：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># ls -l /etc/skel </span>
total <span class="hljs-number">0</span>
</code></pre>
<p><strong>/etc/skel 是什么？</strong></p>
<p>这是骨架文件。在<code>/etc/skel</code>中创建的任何文件或目录都将被复制到任何新创建的用户的主目录中。</p>
<p>现在，用你最喜欢的文本编辑器，在<code>/etc/skel</code>中创建文件<code>welcome.txt</code>，并在其中插入一行<code>"Hello Friend!"</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/etc/s</span>kel<span class="hljs-comment"># ls </span>
welcome.txt
root@ubuntu-linux:<span class="hljs-regexp">/etc/s</span>kel<span class="hljs-comment"># cat welcome.txt </span>
Hello Friend!
</code></pre>
<p>好了，现在你已经在<code>/etc/skel</code>中创建了文件<code>welcome.txt</code>，这意味着任何新创建的用户现在都会在他们的主目录中有文件<code>welcome.txt</code>。为了演示，让我们创建一个名为<code>edward</code>的新用户，然后我们将看一下他的主目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp">root@ubuntu-linux:~<span class="hljs-meta"># useradd -m -c <span class="hljs-string">"Edward Snowden"</span> -s /bin/bash edward</span>
</code></pre>
<p>现在，让我们为用户<code>edward</code>设置密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd edward 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully
</code></pre>
<p>现在，关键时刻到了！让我们切换到用户<code>edward</code>，并列出他的主目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - edward </span>
edward<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls 
welcome.txt
edward<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat welcome.txt 
Hello Friend!
</code></pre>
<p>你可以看到文件<code>welcome.txt</code>被复制到了<code>edward</code>的主目录。系统中创建的每个新用户现在都将有一个很酷的问候消息！请注意，像<code>tom</code>和<code>jerry</code>这样的旧用户不会在他们的主目录中有文件<code>welcome.txt</code>，因为它们是在我们在<code>/etc/skel</code>中添加文件<code>welcome.txt</code>之前创建的。</p>
<h1 id="更改默认值">更改默认值<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们已经厌倦了每次创建新用户时都要指定默认 shell。但幸运的是，有一个文件可以指定为任何新创建的用户设置默认 shell。这个神奇的文件是<code>/etc/default/useradd</code>。</p>
<p>打开文件<code>/etc/default/useradd</code>，查找以下行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">SHELL</span>=/bin/sh
</code></pre>
<p>将其更改为：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">SHELL</span>=/bin/bash
</code></pre>
<p>太棒了！现在，任何新创建的用户都将以<code>/bin/bash</code>作为默认 shell。让我们通过创建一个名为<code>spy</code>的新用户来测试一下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># useradd -m spy</span>
</code></pre>
<p>现在，为用户<code>spy</code>设置密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd spy 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully
</code></pre>
<p>最后，让我们切换到用户<code>spy</code>并检查默认 shell：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - spy </span>
spy<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-variable">$SHELL</span>
/bin/bash
spy<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>exit 
logout
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment">#</span>
</code></pre>
<p>万岁！我们可以看到<code>bash</code>是用户<code>spy</code>的默认 shell。</p>
<p>请记住，<code>/bin/sh</code>和<code>/bin/bash</code>不是你系统上唯一两个有效的 shell；还有更多！查看文件<code>/etc/shells</code>，以查看系统上所有有效 shell 的完整列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/shells </span>
<span class="hljs-comment"># /etc/shells: valid login shells</span>
/bin/sh
/bin/bash
/bin/rbash
/bin/dash
</code></pre>
<p>你可以在<code>/etc/default/useradd</code>中更改其他用户默认值，包括：</p>
<ul>
<li>
<p>默认的<code>home</code>目录（<code>HOME=/home</code>）</p>
</li>
<li>
<p>默认的<code>skel</code>目录（<code>SKEL=/etc/skel</code>）</p>
</li>
</ul>
<p>我会把这个留给你作为练习。</p>
<h1 id="删除用户">删除用户<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有时，不再需要用户在系统上，例如，离开公司的员工或只需要临时访问服务器的用户。无论哪种情况，您都需要知道如何删除用户。</p>
<p>我们创建的最后一个用户是<code>spy</code>，对吧？好吧，我们的系统上不需要间谍，所以让我们删除用户<code>spy</code>；您可以通过运行命令<code>userdel spy</code>来删除用户<code>spy</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># userdel spy</span>
</code></pre>
<p>就像那样，用户<code>spy</code>被删除了。但是，<code>spy</code>的主目录仍然存在：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">root@ubuntu-linux:~#</span> <span class="hljs-string">ls</span> <span class="hljs-string">-ld</span> <span class="hljs-string">/home/spy</span>
<span class="hljs-string">drwxr-xr-x</span> <span class="hljs-number">2</span> <span class="hljs-number">1008 </span><span class="hljs-number">1010 </span><span class="hljs-number">4096 </span><span class="hljs-string">Apr</span> <span class="hljs-number">17</span> <span class="hljs-number">10</span><span class="hljs-string">:24</span> <span class="hljs-string">/home/spy</span>
</code></pre>
<p>我们将不得不手动删除它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># rm -r /home/spy</span>
</code></pre>
<p>但这很不方便。想象一下，每次删除一个用户后，您都必须手动删除他们的主目录。幸运的是，有一个更好的解决方案；您可以使用<code>-r</code>选项自动删除用户的主目录。</p>
<p>让我们尝试一下用户<code>edward</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># userdel -r edward</span>
</code></pre>
<p>现在，让我们来检查一下用户<code>edward</code>的主目录是否仍然存在：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># ls -ld /home/edward</span>
<span class="hljs-built_in">ls</span>: cannot access <span class="hljs-string">'/home/edward'</span>: No such file or directory
</code></pre>
<p>正如您所看到的，<code>edward</code>的主目录已被删除。</p>
<h1 id="etcgroup-文件">/etc/group 文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在学校，孩子们通常被分成不同的小组。例如，喜欢跳舞的孩子将成为舞蹈组的一部分。书呆子孩子将组成科学组。如果你想知道，我曾经是体育组的一部分，因为我跑得相当快！</p>
<p>在 Linux 中，具有相似特征的用户被放置在同一组中，这与我们有相同的概念。</p>
<p>什么是组？</p>
<p>组是共享相同角色或目的的用户集合。</p>
<p>所有组的信息都存储在文件<code>/etc/group</code>中。就像<code>/etc/passwd</code>文件一样，<code>/etc/group</code>中的每一行都对应于一个组，每一行都由<code>4</code>个字段组成。例如，Linux 中最著名的组之一是<code>sudo</code>组：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/93e2c12d-c25a-4a51-a415-bc252f582ca1.png" alt="" loading="lazy"></p>
<p>图 2：/etc/group 中的 4 个字段</p>
<p>以下表格详细说明了<code>/etc/group</code>中的这四个字段，并解释了每一个：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>字段</strong></th>
<th><strong>它存储什么？</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>此字段存储组名。</td>
</tr>
<tr>
<td>2</td>
<td>此字段通常包含<code>X</code>，这意味着组密码已加密并存储在文件<code>/etc/gshadow</code>中。</td>
</tr>
<tr>
<td>3</td>
<td>此字段存储<strong>GID</strong>（<strong>组 ID</strong>）号码。</td>
</tr>
<tr>
<td>4</td>
<td>此字段存储组成员的用户名。</td>
</tr>
</tbody>
</table></div>
<p>表 11：理解/etc/group</p>
<h1 id="添加组">添加组<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们创建一个名为<code>cartoon</code>的组。为此，您需要运行命令<code>groupadd cartoon</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># groupadd cartoon</span>
</code></pre>
<p>请注意，将添加包含组信息的新行到文件<code>/etc/group</code>的末尾：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">1</span> /etc/group 
<span class="hljs-attribute">cartoon</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1009</span>:
</code></pre>
<p>请注意，组<code>cartoon</code>目前没有成员，这就是为什么第四个字段目前为空的原因。</p>
<p>让我们创建另一个名为<code>developers</code>的组，但这次，我们将指定<code>888</code>的 GID：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># groupadd --gid 888 developers</span>
</code></pre>
<p>让我们检查<code>/etc/group</code>中的<code>developers</code>组条目：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">1</span> /etc/group 
<span class="hljs-attribute">developers</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">888</span>:
</code></pre>
<p>而且它看起来就像我们期望的那样。很酷！</p>
<h1 id="添加组成员">添加组成员<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>用户<code>tom</code>和<code>jerry</code>都是卡通人物，因此将它们都添加到<code>cartoon</code>组是有意义的。</p>
<p>要将<code>tom</code>添加到<code>cartoon</code>组，只需运行命令<code>usermod -aG cartoon tom</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG cartoon tom</span>
</code></pre>
<p>同样，您可以将<code>jerry</code>添加到<code>cartoon</code>组中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG cartoon jerry</span>
</code></pre>
<p>现在，让我们来看看<code>/etc/group</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">2</span> /etc/group 
<span class="hljs-attribute">cartoon</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1009</span>:tom,jerry 
<span class="hljs-attribute">developers</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">888</span>:
</code></pre>
<p>正如您所看到的，<code>tom</code>和<code>jerry</code>现在都列为<code>cartoon</code>组的成员。</p>
<p>您可以使用<code>id</code>命令查看系统上任何用户的组成员资格。例如，如果您想要检查<code>tom</code>属于哪些组，可以运行命令<code>id tom</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># id tom</span>
uid=444(tom) gid=1007(tom) <span class="hljs-built_in">groups</span>=1007(tom),1009(cartoon)
</code></pre>
<p>让我们通过创建三个新用户<code>sara</code>，<code>peter</code>和<code>rachel</code>来进行更多练习：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># useradd -m sara </span>
root@ubuntu-linux:~<span class="hljs-comment"># useradd -m peter </span>
root@ubuntu-linux:~<span class="hljs-comment"># useradd -m rachel</span>
</code></pre>
<p>并记得为每个用户设置密码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd sara 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully 
root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd peter 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully 
root<span class="hljs-keyword">@ubuntu-linux</span>:~# passwd rachel 
Enter new UNIX <span class="hljs-attribute">password</span>:
Retype new UNIX <span class="hljs-attribute">password</span>:
<span class="hljs-attribute">passwd</span>: password updated successfully 
root<span class="hljs-keyword">@ubuntu-linux</span>:~#
</code></pre>
<p>现在想象一下，如果所有三个新用户都是软件开发人员；这意味着他们有相同的角色，因此他们应该是同一组的成员。因此，让我们将所有三个用户添加到<code>developers</code>组中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG developers sara </span>
root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG developers peter </span>
root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG developers rachel</span>
</code></pre>
<p>现在，让我们来看看<code>/etc/group</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">5</span> /etc/group 
<span class="hljs-attribute">cartoon</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1009</span>:tom,jerry 
<span class="hljs-attribute">developers</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">888</span>:sara,peter,rachel 
<span class="hljs-attribute">sara</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1001</span>:
<span class="hljs-attribute">peter</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1002</span>: 
<span class="hljs-attribute">rachel</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1003</span>:
</code></pre>
<p>我们可以看到<code>developers</code>组现在有三个成员-<code>sara</code>，<code>peter</code>和<code>rachel</code>。但是有一些奇怪的地方！看起来当我们创建用户<code>sara</code>，<code>peter</code>和<code>rachel</code>时，它也创建了它们作为组！但是为什么会发生这种情况呢？好吧，让我在下一节中向您解释。</p>
<h1 id="主要与次要组">主要与次要组<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>Linux 中的每个用户必须是主要组的成员。主要组有时也被称为登录组。默认情况下，每当创建新用户时，也会创建一个与用户名称相同的组，并且该组将成为新用户的主要组。</p>
<p>另一方面，用户可能是或不是次要组的成员。次要组有时也被称为附加组。您可以将次要组视为用户除了用户的主要组之外的任何组的成员。</p>
<p>如果您还不理解主要和次要组的概念，不要担心；到本章结束时，它将变得非常清晰。</p>
<p>让我们创建一个名为<code>dummy</code>的新用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># useradd -m dummy</span>
</code></pre>
<p>现在，如果您查看<code>/etc/group</code>文件的最后一行，您将看到一个名为<code>dummy</code>的组也被创建：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">1</span> /etc/group 
<span class="hljs-attribute">dummy</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1004</span>:
</code></pre>
<p>这个<code>dummy</code>组是用户<code>dummy</code>的主要组；如果您对用户<code>dummy</code>运行<code>id</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># id dummy</span>
uid=1004(dummy) gid=1004(dummy) <span class="hljs-built_in">groups</span>=1004(dummy)
</code></pre>
<p>您将看到用户<code>dummy</code>确实是<code>dummy</code>组的成员。现在，让我们将用户<code>dummy</code>添加到<code>cartoon</code>组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG cartoon dummy</span>
</code></pre>
<p>让我们再次对用户<code>dummy</code>运行<code>id</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># id dummy</span>
uid=1004(dummy) gid=1004(dummy) <span class="hljs-built_in">groups</span>=1004(dummy),1009(cartoon)
</code></pre>
<p>您可以看到用户<code>dummy</code>是两个组<code>dummy</code>和<code>cartoon</code>的成员。但是，<code>dummy</code>是主要组，<code>cartoon</code>是次要组。</p>
<p>主要组始终在<code>id</code>命令的输出中以<code>gid=</code>开头：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/1bd2ceec-8da8-4c6f-a814-bfafe9f97945.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：主要与次要组</p>
<p>现在让我们将用户<code>dummy</code>添加到<code>developers</code>组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -aG developers dummy</span>
</code></pre>
<p>接下来，再次对用户<code>dummy</code>运行<code>id</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># id dummy</span>
uid=1004(dummy) gid=1004(dummy) <span class="hljs-built_in">groups</span>=1004(dummy),1009(cartoon),888(developers)
</code></pre>
<p>如您所见，用户<code>dummy</code>是两个次要组<code>cartoon</code>和<code>developers</code>的成员。</p>
<p>好了！够了这些虚拟的东西。让我们删除用户<code>dummy</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># userdel -r dummy</span>
</code></pre>
<p>每个用户必须是唯一主要组的成员；但是，对主要组的选择没有限制！</p>
<p>为了演示，让我们创建一个名为<code>smurf</code>的用户，<code>cartoon</code>是用户<code>smurf</code>的主要组。这可以通过使用<code>useradd</code>命令的<code>--gid</code>选项轻松完成：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># useradd -m --gid cartoon smurf</span>
</code></pre>
<p>现在，看一下<code>/etc/group</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# tail -n <span class="hljs-number">1</span> /etc/group 
<span class="hljs-attribute">rachel</span>:<span class="hljs-attribute">x</span>:<span class="hljs-number">1003</span>:
</code></pre>
<p>您将看到没有使用名称<code>smurf</code>创建的组。太神奇了！那是因为我们已经为用户<code>smurf</code>指定了另一个主要组。</p>
<p>现在让我们检查用户<code>smurf</code>的组成员资格：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># id smurf</span>
uid=1004(smurf) gid=1009(cartoon) <span class="hljs-built_in">groups</span>=1009(cartoon)
</code></pre>
<p>如您所见，<code>smurf</code>只是<code>cartoon</code>组的成员，这当然也是他的主要组。</p>
<p>您还可以更改现有用户的主要组。例如，您可以将<code>developers</code>组设置为用户<code>smurf</code>的主要组，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># usermod -g developers smurf </span>
root@ubuntu-linux:~<span class="hljs-comment"># id smurf</span>
uid=<span class="hljs-number">1004</span>(smurf) gid=<span class="hljs-number">888</span>(developers) groups=<span class="hljs-number">888</span>(developers)
</code></pre>
<h1 id="删除组">删除组<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果不再需要组，可以删除组。为了演示，让我们创建一个名为<code>temp</code>的组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># groupadd temp</span>
</code></pre>
<p>现在，您可以使用<code>groupdel</code>命令删除<code>temp</code>组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># groupdel temp</span>
</code></pre>
<p>现在，让我们尝试删除<code>temp</code>组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># groupdel sara
groupdel: cannot remove the <span class="hljs-keyword">primary</span> <span class="hljs-keyword">group</span> <span class="hljs-keyword">of</span> <span class="hljs-keyword">user</span> <span class="hljs-string">'sara'</span>
</code></pre>
<p>我们收到错误消息，因为我们不允许删除现有用户的主要组。</p>
<h1 id="文件所有权和权限">文件所有权和权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>Linux 中的每个文件都由特定的用户和特定的组拥有。为了演示，让我们切换到用户<code>smurf</code>，并在<code>smurf</code>的主目录中创建一个名为<code>mysmurf</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - smurf </span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch mysmurf
</code></pre>
<p>现在对文件<code>mysmurf</code>进行长列表：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/61c1ebc2-7c65-47fc-aae3-f6775ddc3448.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：用户和组所有者</p>
<p>您将在输出的第三列中看到拥有文件的用户（用户所有者）的名称，默认情况下是创建文件的用户。</p>
<p>在输出的第四列中，您将看到文件的组（组所有者）的名称，默认情况下是用户所有者的主要组。</p>
<p><code>developers</code>组是用户<code>smurf</code>的主要组，因此<code>developers</code>成为文件<code>mysmurf</code>的组所有者。</p>
<p>如果您在<code>elliot</code>的主目录中的<code>sports</code>目录上进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> -ld /home/elliot/sports
drwxr-xr-x 2 elliot elliot 4096 Oct 22 12:56 /home/elliot/sports
</code></pre>
<p>您将看到用户<code>elliot</code>是用户所有者，组<code>elliot</code>是组所有者；这是因为组<code>elliot</code>是用户<code>elliot</code>的主要组。</p>
<h1 id="更改文件所有权">更改文件所有权<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用<code>chown</code>命令更改文件的所有权。一般来说，<code>chown</code>命令的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">chown  <span class="hljs-keyword">user</span>:<span class="hljs-keyword">group</span> file
</code></pre>
<p>例如，您可以更改文件<code>mysmurf</code>的所有权，使用户<code>elliot</code>成为所有者，组<code>cartoon</code>成为组所有者，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">smurf@ubuntu-linux:~$
smurf@ubuntu-linux:~$ <span class="hljs-keyword">chown</span> elliot:cartoon mysmurf
<span class="hljs-keyword">chown</span>: changing ownership of <span class="hljs-string">'mysmurf'</span>: Operation <span class="hljs-keyword">not</span> permitted
</code></pre>
<p>哦！只有<code>root</code>用户可以做到；让我们切换到<code>root</code>用户并再试一次：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">smurf@ubuntu-linux:~$ su - 
Password:
root@ubuntu-linux:~<span class="hljs-comment"># cd /home/smurf</span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># chown elliot:cartoon mysmurf</span>
</code></pre>
<p>成功！现在让我们查看文件<code>mysmurf</code>的所有权：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
-rw-r--r-- <span class="hljs-number">1</span> elliot cartoon <span class="hljs-number">0</span> Oct <span class="hljs-number">22</span> <span class="hljs-number">15</span>:09 mysmurf
</code></pre>
<p>如您所见，我们已成功更改了<code>mysmurf</code>的所有权。此外，您还可以更改用户所有者，而不更改组所有者。例如，如果您希望用户<code>root</code>成为<code>mysmurf</code>的所有者，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># chown root mysmurf </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
-rw-r--r-- <span class="hljs-number">1</span> root cartoon <span class="hljs-number">0</span> Oct <span class="hljs-number">22</span> <span class="hljs-number">15</span>:09 mysmurf
</code></pre>
<p>如您所见，只有用户所有者更改为<code>root</code>，但<code>cartoon</code>仍然是组所有者。</p>
<p>您还可以更改组所有者，而不更改用户所有者。例如，如果您希望组<code>developers</code>成为<code>mysmurf</code>的组所有者，则可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># chown :developers mysmurf </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
-rw-r--r-- <span class="hljs-number">1</span> root developers <span class="hljs-number">0</span> Oct <span class="hljs-number">22</span> <span class="hljs-number">15</span>:09 mysmurf
</code></pre>
<p><strong>供您参考</strong></p>
<p><code>chgrp</code>也可以用于更改文件的组所有者。我会留给你作为练习！</p>
<h1 id="理解文件权限">理解文件权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 中，每个文件都为三个不同的实体分配了访问权限；这些实体是：</p>
<ul>
<li>
<p>文件的用户所有者</p>
</li>
<li>
<p>文件的组所有者</p>
</li>
<li>
<p>其他所有人（也称为其他/全局）</p>
</li>
</ul>
<p>我们已经熟悉了用户所有者和组所有者；其他所有人指的是系统上不是用户所有者也不是组所有者的任何用户。</p>
<p>您可以将这三个实体视为您、您的朋友和其他所有人。有一些事情你不愿意与任何人分享，其他一些事情你愿意与朋友分享，还有一些事情你可能愿意与所有人分享。</p>
<p>每个文件都有三种类型的访问权限：</p>
<ul>
<li>
<p>读取</p>
</li>
<li>
<p>写</p>
</li>
<li>
<p>执行</p>
</li>
</ul>
<p>每个这些访问权限的含义对文件和目录来说并不相同。以下图解释了文件与目录的访问权限之间的区别：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/ea2e97b3-f43d-49c3-9310-4346e1389bbf.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：文件与目录权限</p>
<p>您可以通过进行长列表查看文件的权限。例如，要查看<code>mysmurf</code>文件上设置的当前权限，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># ls -l /home/smurf/mysmurf</span>
-rw-r--r-- 1 root developers 0 Oct 22 15:09 /home/smurf/mysmurf
</code></pre>
<p>现在注意输出的第一列，即<code>-rw-r--r--</code>。请注意，它由十个槽组成；第一个槽确定了文件的类型。剩下的九个槽分为三组，每组有三个槽，就像下图中的一样：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/82df07a6-cba1-4bb5-8bc7-e4e7a413aad4.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 6：理解权限</p>
<p>注意第一个槽确定了文件类型；它可以是：</p>
<ul>
<li>
<p><code>-</code>表示常规文件</p>
</li>
<li>
<p><code>d</code>表示目录</p>
</li>
<li>
<p><code>l</code>表示软链接</p>
</li>
<li>
<p><code>b</code>表示块设备</p>
</li>
<li>
<p><code>c</code>表示字符设备</p>
</li>
</ul>
<p>接下来的三个槽确定了文件所有者被授予的权限。这些槽中的第一个确定了读取权限；它可以是：</p>
<ul>
<li>
<p><code>r</code>表示读取权限</p>
</li>
<li>
<p><code>-</code>表示无读取访问</p>
</li>
</ul>
<p>这些槽中的第二个确定了写权限；它可以是：</p>
<ul>
<li>
<p><code>w</code>表示写访问</p>
</li>
<li>
<p><code>-</code>表示无写访问</p>
</li>
</ul>
<p>第三个槽确定了执行权限；它可以是：</p>
<ul>
<li>
<p><code>x</code>表示执行访问</p>
</li>
<li>
<p><code>-</code>表示无执行访问</p>
</li>
</ul>
<p>相同的逻辑也适用于接下来的三个槽，用于确定组所有者的权限，最后是最后三个槽，用于确定其他所有人的权限。</p>
<p>现在让我们动手做一些示例，以加强我们对文件权限的理解。让我们首先编辑<code>mysmurf</code>文件，并添加以下行<code>Smurfs are blue!</code>，使其看起来像这样：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cat /home/smurf/mysmurf </span>
Smurfs are blue!
</code></pre>
<p>现在切换到用户<code>smurf</code>，并尝试读取文件<code>mysmurf</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - smurf </span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat mysmurf 
Smurfs are blue!
</code></pre>
<p>酷！用户<code>smurf</code>可以读取文件<code>mysmurf</code>的内容。请记住，用户<code>smurf</code>不是文件的所有者，但他是<code>developers</code>组的成员：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">id</span> smurf
uid=1004(smurf) gid=888(developers) <span class="hljs-built_in">groups</span>=888(developers)
</code></pre>
<p>因此，<code>smurf</code>可以读取文件，因为<code>mysmurf</code>的组权限是<code>r--</code>。但是他能编辑文件吗？让我们看看如果用户<code>smurf</code>尝试向文件<code>mysmurf</code>添加一行<code>我是 smurf！</code>会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">smurf<span class="hljs-keyword">@ubuntu-linux</span>:~$ echo <span class="hljs-string">"I am smurf!"</span> &gt;&gt; mysmurf 
<span class="hljs-attribute">bash</span>: <span class="hljs-attribute">mysmurf</span>: Permission denied
</code></pre>
<p>权限被拒绝！是的，这是因为组所有者（或其他人）没有写权限。只有用户所有者对文件<code>mysmurf</code>有读和写权限，而在这种情况下所有者恰好是<code>root</code>。现在，如果我们改变文件所有权并使<code>smurf</code>成为文件<code>mysmurf</code>的所有者，那么他将能够编辑文件；所以让我们首先改变文件所有权：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - 
<span class="hljs-symbol">Password:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># chown smurf /home/smurf/mysmurf </span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># ls -l /home/smurf/mysmurf</span>
-rw-r--r-- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">17</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">11</span><span class="hljs-symbol">:</span><span class="hljs-number">06</span> /home/smurf/mysmurf
</code></pre>
<p>现在让我们切换回用户<code>smurf</code>，并尝试编辑文件<code>mysmurf</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - smurf</span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-string">"I am smurf!"</span> &gt;&gt; mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat mysmurf
Smurfs are blue!
I am smurf!
</code></pre>
<p>酷！所以用户<code>smurf</code>成功编辑了文件。现在让我们切换到用户<code>elliot</code>，并尝试向<code>mysmurf</code>文件添加一行<code>我不是 smurf！</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - elliot 
<span class="hljs-symbol">Password:</span>
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /home/smurf/
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/home/smurf<span class="hljs-variable">$ </span>echo <span class="hljs-string">"I am not smurf!"</span> &gt;&gt; mysmurf 
<span class="hljs-symbol">bash:</span> <span class="hljs-symbol">mysmurf:</span> Permission denied
</code></pre>
<p>权限被拒绝！请注意，<code>elliot</code>不是用户所有者，甚至不是<code>developers</code>组的成员，因此他被视为其他人。但是，他可以读取文件，因为其他人有读权限<code>r--</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/home/</span>smurf$ cat mysmurf 
<span class="hljs-title class_">Smurfs</span> are blue!
I am smurf!
</code></pre>
<h1 id="更改文件权限">更改文件权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在，如果我们想要给<code>elliot</code>权限来编辑文件<code>mysmurf</code>，而不像之前那样改变文件所有权呢？好吧！这很简单；您可以使用<code>chmod</code>命令来更改文件权限。</p>
<p>让我们首先切换到<code>root</code>用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f$ su - 
Password:
root@ubuntu-linux:~<span class="hljs-comment"># cd /home/smurf </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment">#</span>
</code></pre>
<p>现在您可以通过运行以下命令为其他人（其他所有人）添加写权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># chmod o+w mysmurf</span>
</code></pre>
<p>这里<code>o+w</code>表示<strong>其他人+写</strong>，这意味着向其他人添加写权限。现在对<code>mysmurf</code>进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
-rw-r--rw- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">29</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">11</span>:<span class="hljs-number">34</span> mysmurf
</code></pre>
<p>如您所见，其他人现在可以读取和写入<code>mysmurf</code>文件的<code>rw-</code>。现在，切换回用户<code>elliot</code>，并尝试再次添加一行<code>我不是 smurf！</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># su elliot</span>
elliot@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f$ echo <span class="hljs-string">"I am not smurf!"</span> &gt;&gt; mysmurf 
elliot@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f$ cat mysmurf
Smurfs are blue!
I am smurf!
I am <span class="hljs-keyword">not</span> smurf!
</code></pre>
<p>成功！用户<code>elliot</code>可以编辑文件<code>mysmurf</code>。现在是时候讨论执行权限了；让我们转到<code>elliot</code>的主目录，并创建一个名为<code>mydate.sh</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:/home/smurf$ <span class="hljs-built_in">cd</span> /home/elliot 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">touch</span> mydate.sh
</code></pre>
<p>现在向文件<code>mydate.sh</code>添加以下两行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash </span>
<span class="hljs-built_in">date</span>
</code></pre>
<p>您可以通过运行以下两个<code>echo</code>命令添加这两行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-string">'#!/bin/bash'</span> &gt;&gt; mydate.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo date &gt;&gt; mydate.sh
</code></pre>
<p>现在不要担心<code>#/bin/bash</code>行的含义；我会在以后的章节中解释。无论如何，让我们查看文件<code>mydate.sh</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> mydate.sh 
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">date</span>
</code></pre>
<p>现在对文件<code>mydate.sh</code>进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mydate.sh
-rw-rw-r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">17</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">28</span> mydate.sh
</code></pre>
<p>请注意，这里每个人（用户所有者、组所有者和其他人）都没有执行权限。让我们为每个人添加执行权限；您可以通过运行以下命令来实现：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x mydate.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mydate.sh
-rwxrwxr-x <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">17</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">28</span> mydate.sh
</code></pre>
<p>这里<code>a+x</code>表示<strong>所有+执行</strong>，这意味着向每个人添加执行权限。还要注意，我们之所以能够作为用户<code>elliot</code>运行<code>chmod</code>命令，是因为他是文件<code>mydate.sh</code>的所有者。</p>
<p>最后，只需输入<code>mydate.sh</code>的完整路径，然后按<em>Enter</em>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>/home/elliot/mydate.sh 
Wed Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span><span class="hljs-symbol">:</span><span class="hljs-number">51</span> CST <span class="hljs-number">2019</span>
</code></pre>
<p>哇！当前日期显示出来了！您已经创建了您的第一个 Bash 脚本并运行了它！Bash 脚本将在以后的章节中详细介绍。但是现在至少您知道文件可执行是什么意思。现在通过运行以下命令删除执行权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a-x mydate.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mydate.sh
-rw-rw-r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">17</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">28</span> mydate.sh
</code></pre>
<p>这里<code>a-x</code>表示<strong>所有-执行</strong>，这意味着从每个人那里删除执行权限。现在尝试再次运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:~$ /home/elliot/mydate.sh 
<span class="hljs-attribute">bash</span>: /home/elliot/mydate.<span class="hljs-attribute">sh</span>: Permission denied
</code></pre>
<p>我们收到了权限被拒绝的错误！这是因为文件<code>mydate.sh</code>不再可执行。大多数 Linux 命令都是可执行文件。例如，看一下<code>date</code>命令。首先，我们运行<code>which</code>命令以获取<code>date</code>命令的位置：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">which</span> <span class="hljs-built_in">date</span>
/bin/date
</code></pre>
<p>现在对<code>/bin/date</code>进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> -l /bin/date
-rwxr-xr-x 1 root root 100568 Jan 18 2018 /bin/date
</code></pre>
<p>如您所见，每个人都有执行权限。现在看看当您删除执行权限时会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - 
<span class="hljs-symbol">Password:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># chmod a-x /bin/date</span>
</code></pre>
<p>现在尝试运行<code>date</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># date</span>
-su: <span class="hljs-regexp">/bin/da</span>te: Permission denied
</code></pre>
<p><code>date</code>命令不再起作用！请让我们通过重新添加执行权限来修复：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># chmod a+x /bin/date </span>
root@ubuntu-linux:~<span class="hljs-comment"># date</span>
Wed Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span>:<span class="hljs-number">56</span>:<span class="hljs-number">15</span> CST <span class="hljs-number">2019</span>
</code></pre>
<p>现在让我们删除文件<code>mysmurf</code>的用户所有者读取权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /home/smurf/ </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># chmod u-r mysmurf </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
--w-r--rw- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">45</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span>:<span class="hljs-number">02</span> mysmurf
</code></pre>
<p>这里的<code>u-r</code>表示<strong>用户读取</strong>，意思是从用户所有者中删除读取权限。现在让我们切换到用户<code>smurf</code>，并尝试读取文件<code>mysmurf</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/home/smurf<span class="hljs-comment"># su - smurf </span>
smurf@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> mysmurf
<span class="hljs-built_in">cat</span>: mysmurf: Permission denied
</code></pre>
<p>可怜的<code>smurf</code>。他甚至不能读取自己的文件。但由于他是文件所有者，他可以恢复读取权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod u+r mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat mysmurf Smurfs are blue!
I am smurf!
I am <span class="hljs-keyword">not</span> smurf!
</code></pre>
<p>您已经看到如何使用<code>chmod</code>命令添加（<code>+</code>）和删除（<code>-</code>）权限。您还可以使用等号<code>=</code>来设置权限。例如，如果您希望文件<code>mysmurf</code>的组所有者（<code>developers</code>）只有写入权限，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod g=w mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
-rw--w-rw- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">45</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">02</span> mysmurf
</code></pre>
<p>所以现在，<code>developers</code>组成员只对文件<code>mysmurf</code>有写入权限<code>-w-</code>。以下是更多示例：</p>
<ul>
<li>
<p><code>chmod ug=rwx mysmurf</code>：这将给用户所有者和组所有者完全权限。</p>
</li>
<li>
<p><code>chmod o-rw mysmurf</code>：这将从其他用户中删除读取和写入权限。</p>
</li>
<li>
<p><code>chmod a= mysmurf</code>：这将为每个人提供零（无）权限。</p>
</li>
<li>
<p><code>chmod go= mysmurf</code>：这将给组所有者和其他用户零权限。</p>
</li>
<li>
<p><code>chmod u+rx mysmurf</code>：这将为用户所有者添加读取和执行权限。</p>
</li>
</ul>
<p>让我们给每个人零权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a= mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
---------- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">45</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">12</span><span class="hljs-symbol">:</span><span class="hljs-number">02</span> mysmurf
</code></pre>
<p>所以现在用户<code>smurf</code>无法读取，写入或执行文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">smurf<span class="hljs-keyword">@ubuntu-linux</span>:~$ cat mysmurf 
<span class="hljs-attribute">cat</span>: <span class="hljs-attribute">mysmurf</span>: Permission denied
smurf<span class="hljs-keyword">@ubuntu-linux</span>:~$ echo <span class="hljs-string">"Hello"</span> &gt;&gt; mysmurf
<span class="hljs-attribute">-su</span>: <span class="hljs-attribute">mysmurf</span>: Permission denied
</code></pre>
<p><code>root</code>用户呢？好吧，让我们切换到<code>root</code>来找出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">smurf@ubuntu-linux:~$ su - 
Password:
root@ubuntu-linux:~<span class="hljs-comment"># cd /home/smurf/ </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># cat mysmurf </span>
Smurfs are blue!
I am smurf!
I am <span class="hljs-keyword">not</span> smurf!
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># echo "I got super powers" &gt;&gt; mysmurf </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># cat mysmurf</span>
Smurfs are blue!
I am smurf!
I am <span class="hljs-keyword">not</span> smurf!
I got super powers
root@ubuntu-linux:<span class="hljs-regexp">/home/smur</span>f<span class="hljs-comment"># ls -l mysmurf</span>
---------- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">64</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">13</span>:<span class="hljs-number">38</span> mysmurf
</code></pre>
<p>正如你所看到的，<code>root</code>用户可以做任何事情！这是因为<code>root</code>可以绕过文件权限！换句话说，文件权限不适用于<code>root</code>用户。</p>
<h1 id="目录权限">目录权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在让我们看看读取，写入和执行权限在目录上是如何工作的。最简单的例子将是<code>root</code>的主目录<code>/root</code>。让我们在<code>/root</code>上进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># ls -ld /root</span>
drwx------ 5 root root 4096 Oct 22 14:28 /root
</code></pre>
<p>正如您所看到的，<code>root</code>所有者被授予完全权限，其他人被授予零权限。让我们在<code>/root</code>内创建一个名为<code>gold</code>的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># touch /root/gold</span>
</code></pre>
<p>现在让我们切换到用户<code>smurf</code>，并尝试列出<code>/root</code>目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># su - smurf </span>
smurf@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> /root
<span class="hljs-built_in">ls</span>: cannot open directory <span class="hljs-string">'/root'</span>: Permission denied
</code></pre>
<p>用户<code>smurf</code>收到了权限被拒绝的错误，因为他在目录<code>/root</code>上没有读取权限。现在，<code>smurf</code>能在<code>/root</code>内创建文件吗？</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">touch</span> /root/silver
<span class="hljs-built_in">touch</span>: cannot <span class="hljs-built_in">touch</span> <span class="hljs-string">'/root/silver'</span>: Permission denied
</code></pre>
<p>他不能，因为他在<code>/root</code>上没有写入权限。他能删除<code>/root</code>内的文件吗？</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">rm</span> /root/gold
<span class="hljs-built_in">rm</span>: cannot remove <span class="hljs-string">'/root/gold'</span>: Permission denied
</code></pre>
<p>同样，没有写入权限，所以他无法在<code>/root</code>中删除文件。最后，用户<code>smurf</code>能否切换到<code>/root</code>目录？</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /root
-su: <span class="hljs-built_in">cd</span>: /root: Permission denied
</code></pre>
<p>他不能，因为<code>smurf</code>需要执行权限才能切换到<code>/root</code>目录。现在，让我们切换回<code>root</code>用户并开始添加一些权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">smurf@ubuntu-linux:~$ <span class="hljs-keyword">exit</span> 
logout
root@ubuntu-linux:~<span class="hljs-comment"># chmod o+rx /root</span>
</code></pre>
<p>在这里，我们为其他用户添加了读取和执行权限，所以用户<code>smurf</code>现在可以列出<code>/root</code>目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - smurf </span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls /root 
gold
</code></pre>
<p>他甚至可以切换到<code>/root</code>目录，因为我们还添加了执行权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cd /root 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/root<span class="hljs-variable">$
</span></code></pre>
<p>但他仍然没有写入权限，所以他无法在<code>/root</code>中创建或删除文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:/root$ <span class="hljs-built_in">rm</span> gold
<span class="hljs-built_in">rm</span>: remove write-protected regular empty file <span class="hljs-string">'gold'</span>? y 
<span class="hljs-built_in">rm</span>: cannot remove <span class="hljs-string">'gold'</span>: Permission denied 
smurf@ubuntu-linux:/root$ <span class="hljs-built_in">touch</span> silver
<span class="hljs-built_in">touch</span>: cannot <span class="hljs-built_in">touch</span> <span class="hljs-string">'silver'</span>: Permission denied
</code></pre>
<p>让我们为其他用户添加写入权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/root<span class="hljs-variable">$ </span>su - 
<span class="hljs-symbol">Password:</span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># chmod o+w /root</span>
</code></pre>
<p>最后，切换到用户<code>smurf</code>并尝试在<code>/root</code>中创建或删除文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">smurf@ubuntu-linux:~$ <span class="hljs-built_in">cd</span> /root 
smurf@ubuntu-linux:/root$ <span class="hljs-built_in">rm</span> gold
<span class="hljs-built_in">rm</span>: remove write-protected regular empty file <span class="hljs-string">'gold'</span>? y 
smurf@ubuntu-linux:/root$ <span class="hljs-built_in">touch</span> silver
smurf@ubuntu-linux:/root$ <span class="hljs-built_in">ls</span> 
silver
</code></pre>
<p>所以<code>smurf</code>现在可以在<code>/root</code>中创建和删除文件，因为他有写入权限。</p>
<h1 id="使用八进制表示法">使用八进制表示法<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用数字<code>4</code>，<code>2</code>和<code>1</code>来设置文件权限，而不是字母<code>r</code>，<code>w</code>和<code>x</code>。看一下下面的图片：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/781e3f37-978e-435b-b053-d927a1b3ac16.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 7：理解八进制表示法</p>
<p>请注意，第一个数字<code>7</code>基本上是三个数字的相加：<code>4（r）+ 2（w）+ 1（x）</code>，这将为文件所有者设置完全权限。第二个数字<code>6</code>是两个数字的相加：<code>4（r）+ 2（w）</code>，这将为组所有者设置读取和写入权限。最后，第三个数字<code>4</code>，这将为其他用户设置读取权限。</p>
<p>我知道你在想什么：“为什么我要做数学，当我可以使用文字表示<code>rwx</code>？”相信我，我理解你。很多人更喜欢文字表示法而不是数字表示法，但有些人太喜欢数字了！</p>
<p>让我们用八进制表示法做一些练习。文件<code>mysmurf</code>当前没有任何权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
---------- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">64</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span> mysmurf
</code></pre>
<p>我们可以使用<code>777</code>为每个人提供完全权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod <span class="hljs-number">777</span> mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
-rwxrwxrwx <span class="hljs-number">1</span> smurf developers <span class="hljs-number">64</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span> mysmurf
</code></pre>
<p>太棒了！现在你可以使用三位数<code>421</code>来给予文件所有者读取权限，给予组所有者写入权限，以及给予其他用户执行权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod <span class="hljs-number">421</span> mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
-r---w---x <span class="hljs-number">1</span> smurf developers <span class="hljs-number">64</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span> mysmurf
</code></pre>
<p>让我们再举一个例子。如果你想给予文件所有者完全权限，给予组所有者读取权限，以及其他用户零权限，那很简单；正确的三位数将是<code>740</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod <span class="hljs-number">740</span> mysmurf 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l mysmurf
-rwxr----- <span class="hljs-number">1</span> smurf developers <span class="hljs-number">64</span> Oct <span class="hljs-number">23</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">38</span> mysmurf
</code></pre>
<p>一旦你掌握了，数字就很容易使用。只需要记住：</p>
<ul>
<li>
<p><code>4</code>：读取</p>
</li>
<li>
<p><code>2</code>：写入</p>
</li>
<li>
<p><code>1</code>：执行</p>
</li>
<li>
<p><code>0</code>：零权限</p>
</li>
</ul>
<p>以下表总结了所有可能的权限组合：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>数字</strong></th>
<th><strong>意义</strong></th>
<th><strong>字面等价</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>0</td>
<td>零/无权限</td>
<td><code>---</code></td>
</tr>
<tr>
<td>1</td>
<td>执行</td>
<td><code>--x</code></td>
</tr>
<tr>
<td>2</td>
<td>写入</td>
<td><code>-w-</code></td>
</tr>
<tr>
<td>3</td>
<td>写入 + 执行</td>
<td><code>-wx</code></td>
</tr>
<tr>
<td>4</td>
<td>读取</td>
<td><code>r--</code></td>
</tr>
<tr>
<td>5</td>
<td>读取 + 执行</td>
<td><code>r-x</code></td>
</tr>
<tr>
<td>6</td>
<td>读取 + 写入</td>
<td><code>rw-</code></td>
</tr>
<tr>
<td>7</td>
<td>读取 + 写入 + 执行</td>
<td><code>rwx</code></td>
</tr>
</tbody>
</table></div>
<p>表 12：八进制表示法与字面表示法</p>
<p>这一章有点冗长。休息一下，然后回来完成知识检测练习！</p>
<h1 id="知识检测-2">知识检测<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>创建一个用户<code>abraham</code>，用户 ID 为<code>333</code>。</p>
</li>
<li>
<p>创建一个新的组<code>admins</code>。</p>
</li>
<li>
<p>将用户<code>abraham</code>添加到<code>admins</code>组。</p>
</li>
<li>
<p>将<code>admins</code>设为目录<code>/home/abraham</code>的组所有者。</p>
</li>
<li>
<p><code>admins</code>组的成员只能列出目录<code>/home/abraham</code>的内容。</p>
</li>
</ol>
<h2 id="真或假-5">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p><code>chmod a=rxw facts.txt</code>将会得到与<code>chmod 777 facts.txt</code>相同的结果。</p>
</li>
<li>
<p><code>chmod a=rw facts.txt</code>将会得到与<code>chmod 665 facts.txt</code>相同的结果。</p>
</li>
<li>
<p>用户<code>elliot</code>可以有多个主要组。</p>
</li>
</ol>
<p>管道和 I/O 重定向</p>
<p>Linux 的一个主要原则是<em>每个程序都做一件事情</em>，因此，每个 Linux 命令都设计成能够高效地完成单个任务。在本章中，你将学习如何使用 Linux 管道来结合命令的功能，以执行更复杂的任务。你还将学习有关 I/O（输入/输出）重定向，这将使你能够读取用户输入并将命令输出保存到文件中。</p>
<h1 id="第十章linux-管道">第十章：Linux 管道<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 中，你可以使用管道将一个命令的输出发送到另一个命令的输入（参数）中：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/cb57d2c1-6ca4-4c4f-aac2-f12da4d9ecb4.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1- Linux 管道</p>
<p>在你的键盘上，管道由竖线字符表示。Linux 管道非常有用，因为它们允许你以一种简单的方式完成相对复杂的任务，而且在整本书中，你会发现它们经常派上用场。</p>
<p>在我们做一个例子之前，让我们先将<code>hard.txt</code>文件重命名为<code>facts.txt</code>，因为我们在第六章中删除了<code>facts.txt</code>文件，<em>硬链接与软链接</em>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>mv hard.txt facts.txt
</code></pre>
<p>现在让我们使用<code>head</code>命令来查看<code>facts.txt</code>的前五行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ head <span class="hljs-operator">-</span>n <span class="hljs-number">5</span> facts.txt 
Apples <span class="hljs-keyword">are</span> red.
Grapes <span class="hljs-keyword">are</span> green.
Bananas <span class="hljs-keyword">are</span> yellow.
Cherries <span class="hljs-keyword">are</span> red.
Sky <span class="hljs-keyword">is</span> high.
</code></pre>
<p>现在我想显示文件<code>facts.txt</code>的第五行<code>Sky is high.</code>；我该怎么做呢？</p>
<p>这就是 Linux 管道的威力所在。如果你将前一个命令的输出传输到<code>tail -n 1</code>命令，你将得到第五行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">head</span> -n 5 facts.txt | <span class="hljs-built_in">tail</span> -n 1 
Sky is high.
</code></pre>
<p>因此，通过使用管道，我能够将<code>head -n 5 facts.txt</code>命令的输出发送到<code>tail -n 1</code>命令的输入（参数）中。</p>
<p>让我们做另一个例子。如果你想显示文件<code>facts.txt</code>的第七行，那么你将使用<code>head</code>命令显示前七行，然后使用管道<code>tail</code>最后一行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">head</span> -n 7 facts.txt | <span class="hljs-built_in">tail</span> -n 1 
Linux is awesome
</code></pre>
<p>你也可以同时使用多个管道，就像下面的图表中演示的那样：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/6eb7018e-8a8e-499a-8308-651eea5d1b14.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：两个管道</p>
<p>例如，你已经知道<code>lscpu</code>命令会显示处理器信息。<code>lscpu</code>命令的第四行输出显示了你的机器有多少个 CPU。你可以使用两个管道显示<code>lscpu</code>命令的第四行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ lscpu | <span class="hljs-built_in">head</span> -n 4 | <span class="hljs-built_in">tail</span> -n 1 
CPU(s):       1
</code></pre>
<p>所以让我们分解一下这里发生了什么。我们使用的第一个管道是显示<code>lscpu</code>命令的前四行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ lscpu | head -n 4 </span>
<span class="hljs-section">Architecture:    x86_64</span>
CPU op-mode(s):  32-bit, 64-bit 
Byte Order:      Little Endian
<span class="hljs-section">CPU(s):          1</span>
</code></pre>
<p>然后我们使用第二个管道来<code>tail</code>最后一行，这样就得到了第四行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ lscpu | <span class="hljs-built_in">head</span> -n 4 | <span class="hljs-built_in">tail</span> -n 1 
CPU(s):        1
</code></pre>
<p>你可以类似地显示<code>lscpu</code>的第二行，其中显示了 CPU 的操作模式，但我会把这个留给你作为一个练习。</p>
<h1 id="输入和输出重定向">输入和输出重定向<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在本节中，你将学习 Linux 最酷的功能之一，即 I/O（输入/输出）重定向。大多数 Linux 命令都使用三种不同的数据流：</p>
<ul>
<li>
<p>标准输入（也称为<code>stdin</code>）</p>
</li>
<li>
<p>标准输出（也称为<code>stdout</code>）</p>
</li>
<li>
<p>标准错误（也称为<code>stderr</code>）</p>
</li>
</ul>
<p>到目前为止，我们讨论的大多数命令都会产生一些输出。这些输出被发送到一个称为标准输出（也称为<code>stdout</code>）的特殊文件中。默认情况下，标准输出文件链接到终端，这就是为什么每次运行命令时，你都会在终端上看到输出。有时候命令会产生错误消息。这些错误消息被发送到另一个称为标准错误（也称为<code>stderr</code>）的特殊文件中，它也默认链接到终端。</p>
<h1 id="重定向标准输出">重定向标准输出<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你知道运行<code>date</code>命令会在你的终端上显示当前日期：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date 
Sat May <span class="hljs-number">11</span> <span class="hljs-number">06</span><span class="hljs-symbol">:</span><span class="hljs-number">02</span><span class="hljs-symbol">:</span><span class="hljs-number">44</span> CST <span class="hljs-number">2019</span>
</code></pre>
<p>现在通过使用大于号<code>&gt;</code>，你可以将<code>date</code>命令的输出重定向到文件而不是你的终端！看一下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date &gt; mydate.txt
</code></pre>
<p>如你所见，屏幕上没有显示任何输出！这是因为输出被重定向到文件<code>mydate.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat mydate.txt 
Sat May <span class="hljs-number">11</span> <span class="hljs-number">06</span><span class="hljs-symbol">:</span><span class="hljs-number">04</span><span class="hljs-symbol">:</span><span class="hljs-number">49</span> CST <span class="hljs-number">2019</span>
</code></pre>
<p>太棒了！让我们再试一些例子。你可以使用<code>echo</code>命令在你的终端上打印一行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ echo <span class="hljs-string">"Mars is a planet."</span> 
Mars <span class="hljs-keyword">is</span> a planet.
</code></pre>
<p>如果您想将输出重定向到一个名为<code>planets.txt</code>的文件，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-string">"Mars is a planet."</span> &gt; planets.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat planets.txt
Mars is a planet
</code></pre>
<p>太棒了！请注意，文件<code>planets.txt</code>也在这个过程中创建了。现在让我们向文件<code>planets.txt</code>添加更多的行星：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-string">"Saturn is a planet."</span> &gt; planets.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat planets.txt
Saturn is a planet.
</code></pre>
<p>嗯。我们添加了一行“土星是一个行星。”但现在删除了“火星是一个行星。”！这是因为用<code>&gt;</code>重定向标准输出会覆盖文件。在这种情况下，我们需要的是向文件追加，这可以通过使用双大于号<code>&gt;&gt;</code>来实现。所以现在让我们向文件<code>planets.txt</code>追加一行“火星是一个行星。”：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ echo <span class="hljs-string">"Mars is a planet."</span> &gt;&gt; planets.txt 
<span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat planets.txt
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
</code></pre>
<p>太棒了！正如你所看到的，它将“火星是一个行星。”添加到文件的末尾。让我们再添加一个行星：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ echo <span class="hljs-string">"Venus is a planet."</span> &gt;&gt; planets.txt 
<span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat planets.txt
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
Venus <span class="hljs-keyword">is</span> a planet.
</code></pre>
<p>太棒了！这里还有一件事情你需要知道，那就是标准输出（<code>stdout</code>）链接到文件描述符 1。</p>
<p><strong>文件描述符是什么？</strong></p>
<p>文件描述符是一个在计算机操作系统中唯一标识打开文件的数字。</p>
<p>然后运行命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date &gt; mydate.txt
</code></pre>
<p>与运行命令相同：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date <span class="hljs-number">1</span>&gt; mydate.txt
</code></pre>
<p>请注意，<code>1&gt;</code>中的<code>1</code>是指文件描述符 1（<code>stdout</code>）。</p>
<h1 id="重定向标准错误">重定向标准错误<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果您尝试显示一个不存在的文件的内容，您将收到一个错误消息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ cat <span class="hljs-keyword">blabla </span>
<span class="hljs-symbol">cat:</span> <span class="hljs-keyword">blabla: </span>No such file <span class="hljs-keyword">or </span><span class="hljs-keyword">directory
</span></code></pre>
<p>现在，这个错误消息来自标准错误（<code>stderr</code>）。如果您尝试以与标准输出相同的方式重定向错误，它将不起作用：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ cat <span class="hljs-keyword">blabla </span>&gt; error.txt 
<span class="hljs-symbol">cat:</span> <span class="hljs-keyword">blabla: </span>No such file <span class="hljs-keyword">or </span><span class="hljs-keyword">directory
</span></code></pre>
<p>正如您所看到的，它仍然在您的终端上显示错误消息。这是因为<code>stderr</code>链接到文件描述符 2。因此，要重定向错误，您必须使用<code>2&gt;</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat blabla <span class="hljs-number">2</span>&gt; error.txt
</code></pre>
<p>现在如果您显示文件<code>error.txt</code>的内容，您将看到错误消息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:~$ cat error.txt 
<span class="hljs-attribute">cat</span>: <span class="hljs-attribute">blabla</span>: No such file <span class="hljs-keyword">or</span> directory
</code></pre>
<p>让我们尝试删除一个不存在的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rm</span> brrrr
<span class="hljs-built_in">rm</span>: cannot remove <span class="hljs-string">'brrrr'</span>: No such file or directory
</code></pre>
<p>这也会产生一个错误消息。我们可以将这个错误消息追加到文件中</p>
<p>使用<code>2&gt;&gt;</code>的<code>error.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>rm brrrr <span class="hljs-number">2</span>&gt;&gt; error.txt
</code></pre>
<p>现在如果您显示文件<code>error.txt</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:~$ cat error.txt 
<span class="hljs-attribute">cat</span>: <span class="hljs-attribute">blabla</span>: No such file <span class="hljs-keyword">or</span> directory
<span class="hljs-attribute">rm</span>: cannot remove <span class="hljs-string">'brrrr'</span>: No such file <span class="hljs-keyword">or</span> directory
</code></pre>
<p>您将看到两个错误消息。</p>
<h1 id="将所有输出重定向到同一个文件">将所有输出重定向到同一个文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有些情况下，您可能同时获得标准输出和错误消息。例如，如果您运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat planets.txt blabla 
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
Venus <span class="hljs-keyword">is</span> a planet.
cat: blabla: No such file or directory
</code></pre>
<p>您会看到它显示了文件<code>planets.txt</code>的内容，但在最后一行也显示了一个错误消息（因为没有文件<code>blabla</code>来连接）。</p>
<p>您可以选择将错误重定向到另一个文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat planets.txt blabla <span class="hljs-number">2</span>&gt; err.txt 
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
Venus <span class="hljs-keyword">is</span> a planet.
</code></pre>
<p>这样，您只能在屏幕上看到标准输出。或者您可以选择重定向标准输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ cat planets.txt <span class="hljs-keyword">blabla </span><span class="hljs-number">1</span>&gt; output.txt 
<span class="hljs-symbol">cat:</span> <span class="hljs-keyword">blabla: </span>No such file <span class="hljs-keyword">or </span><span class="hljs-keyword">directory
</span></code></pre>
<p>这样，您只能在屏幕上看到错误。那么，如果您想将标准输出和错误重定向到同一个文件呢？在这种情况下，您必须运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cat planets.txt blabla &gt; all.txt <span class="hljs-number">2</span>&gt;&amp;<span class="hljs-number">1</span>
</code></pre>
<p><code>&amp;1</code>是指标准输出，而<code>2&gt;</code>是指标准错误。所以我们基本上是在说：“将 stderr 重定向到我们正在重定向 stdout 的地方。”</p>
<p>现在如果您显示文件<code>all.txt</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">elliot@ubuntu-linux:~$ cat <span class="hljs-keyword">all</span>.txt 
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
Venus <span class="hljs-keyword">is</span> a planet.
cat: blabla: No such <span class="hljs-keyword">file</span> <span class="hljs-keyword">or</span> directory
</code></pre>
<p>您可以看到它包括<code>stdout</code>和<code>stderr</code>。</p>
<h1 id="丢弃输出">丢弃输出<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有时候你不需要将输出重定向到任何地方；你只是想抛弃它并摆脱它。在这种情况下，你可以将输出重定向到<code>/dev/null</code>。这通常与错误消息一起使用。例如：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat planets.txt blabla <span class="hljs-number">2</span>&gt; /dev/<span class="hljs-literal">null</span> 
Saturn <span class="hljs-keyword">is</span> a planet.
Mars <span class="hljs-keyword">is</span> a planet.
Venus <span class="hljs-keyword">is</span> a planet.
</code></pre>
<p>这将把错误消息重定向到<code>/dev/null</code>。您可以将<code>/dev/null</code>视为垃圾收集器。</p>
<h1 id="重定向标准输入">重定向标准输入<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>一些 Linux 命令通过标准输入与用户输入交互（默认情况下是键盘）。例如，<code>read</code>命令从用户那里读取输入并将其存储在一个变量中。例如，您可以运行命令<code>read weather</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ read weather 
It <span class="hljs-keyword">is</span> raining.
</code></pre>
<p>然后它将等待您输入一行文本。我输入了一行“下雨了。”，所以它将这行存储在<code>weather</code>变量中。您可以使用<code>echo</code>命令来显示变量的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-variable">$weather</span> 
It is raining.
</code></pre>
<p>请注意，您必须在变量名之前加上美元符号。<code>read</code>命令在 shell 脚本中特别有用，我们稍后会涉及到。现在请注意，我使用键盘写下了<code>It is raining.</code>这一行。然而，我可以使用小于号<code>&lt;</code>将标准输入重定向到文件中，例如：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">read</span> message &lt; mydate.txt
</code></pre>
<p>这将读取文件<code>mydate.txt</code>的内容并将其存储在<code>message</code>变量中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-variable">$message</span> 
Sat May <span class="hljs-number">11</span> <span class="hljs-number">06</span><span class="hljs-symbol">:</span><span class="hljs-number">34</span><span class="hljs-symbol">:</span><span class="hljs-number">52</span> CST <span class="hljs-number">2019</span>
</code></pre>
<p>正如您所看到的，变量<code>message</code>现在具有与文件<code>my-date.txt</code>相同的内容。</p>
<h1 id="知识检查-5">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>仅显示文件<code>facts.txt</code>的第 5 行。</p>
</li>
<li>
<p>将<code>free</code>命令的输出保存到名为<code>system.txt</code>的文件中。</p>
</li>
<li>
<p>将<code>lscpu</code>命令的输出追加到文件<code>system.txt</code>中。</p>
</li>
<li>
<p>运行命令<code>rmdir /var</code>并将错误消息重定向到文件<code>error.txt</code>。</p>
</li>
</ol>
<p>分析和操作文件</p>
<p>在本章中，你将学习各种 Linux 命令，这些命令将帮助你分析和操作文件。你还将学习如何比较两个文件并获取文件大小。你还将学习如何显示文件的类型，并显示文件中的字符数、单词数和行数。此外，你还将学习如何对文件进行排序、删除重复行等等！</p>
<h1 id="第十一章找出不同之处">第十一章：找出不同之处<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>diff</code>命令比较两个文件的内容，并突出它们之间的差异。</p>
<p>为了演示，让我们首先复制文件<code>facts.txt</code>并命名为<code>facts2.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cp facts.txt facts2.txt
</code></pre>
<p>现在让我们将行<code>"Brazil is a country."</code>附加到文件<code>facts2.txt</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>echo <span class="hljs-string">"Brazil is a country."</span> &gt;&gt; facts2.txt
</code></pre>
<p>现在，在两个文件上运行<code>diff</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ diff facts.txt facts2.txt 
12a13
&gt; Brazil <span class="hljs-keyword">is</span> a country.
</code></pre>
<p>酷！它输出了两个文件之间的差异，这种情况下是行<code>Brazil is a country.</code>。</p>
<h1 id="查看文件大小">查看文件大小<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>du</code>命令查看文件大小。<strong>du</strong>代表<strong>磁盘使用</strong>。如果你想查看文件中有多少字节，你可以使用<code>du</code>命令和<code>-b</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>du -b facts.txt
<span class="hljs-number">210</span> facts.txt
</code></pre>
<p><code>facts.txt</code>文件有<code>210</code>字节。一个字符等于一个字节的大小，所以现在你知道<code>facts.txt</code>文件确切地有<code>210</code>个字符。</p>
<p>你还可以使用<code>-h</code>选项，它将以人类可读的格式打印文件大小。例如，要查看<code>dir1</code>目录及其内容的大小，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ du -h <span class="hljs-keyword">dir1 </span>
<span class="hljs-number">4</span>.<span class="hljs-number">0</span>K     <span class="hljs-keyword">dir1/cities
</span><span class="hljs-number">16</span>K     <span class="hljs-keyword">dir1/directory2 </span>
<span class="hljs-number">24</span>K     <span class="hljs-keyword">dir1
</span></code></pre>
<h1 id="计算字符单词和行数">计算字符、单词和行数<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>单词计数<code>wc</code>命令是另一个非常方便的命令。它计算文件中的行数、单词数和字符数。例如，要显示文件<code>facts.txt</code>中的行数，你可以使用<code>-l</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>wc -l facts.txt
<span class="hljs-number">12</span> facts.txt
</code></pre>
<p>文件<code>facts.txt</code>中总共有<code>12</code>行。要显示单词的数量，你可以使用<code>-w</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>wc -w facts.txt
<span class="hljs-number">37</span> facts.txt
</code></pre>
<p>所以文件<code>facts.txt</code>中总共有<code>37</code>个单词。要显示字符（字节）的数量，你可以使用<code>-c</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>wc -c facts.txt
<span class="hljs-number">210</span> facts.txt
</code></pre>
<p>文件<code>facts.txt</code>中总共有<code>210</code>个字符。没有任何选项，<code>wc</code>命令将以并列的方式显示行数、单词数和字符数：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>wc facts.txt
<span class="hljs-number">12</span> <span class="hljs-number">37</span> <span class="hljs-number">210</span> facts.txt
</code></pre>
<h1 id="查看文件类型">查看文件类型<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>file</code>命令来确定文件的类型。例如，如果你想确定文件<code>/var</code>的类型，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">elliot<span class="hljs-meta">@ubuntu</span>-linux:~$ file /<span class="hljs-keyword">var</span>
/<span class="hljs-keyword">var</span>: directory
</code></pre>
<p>正如你所期望的那样，输出显示<code>/var</code>是一个目录。如果你想显示<code>facts.txt</code>文件的类型，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ file facts.txt </span>
<span class="hljs-section">facts.txt: ASCII text</span>
</code></pre>
<p>输出显示<code>facts.txt</code>是一个 ASCII 文本文件。</p>
<p><strong>ASCII 是什么？</strong></p>
<p><strong>ASCII</strong>，即<strong>美国信息交换标准代码</strong>，是用数字表示<code>128</code>个英文字符的代码，每个字母被分配一个从<code>0</code>到<code>127</code>的数字。</p>
<p>你的计算机不理解人类语言（字母），只理解数字！因此，英语语言中的每个字符都被转换为一个数字。你的计算机将任何文本文件都视为一堆堆的数字！</p>
<p>现在让我们创建一个名为<code>soft.txt</code>的软链接到<code>facts.txt</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln -s soft.txt facts.txt
</code></pre>
<p>并在<code>soft.txt</code>上运行<code>file</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ file soft.txt </span>
<span class="hljs-section">soft.txt: symbolic link to facts.txt</span>
</code></pre>
<p>如你所见，它显示<code>soft.txt</code>是一个指向<code>facts.txt</code>的符号（软）链接。</p>
<h1 id="文件排序">文件排序<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>sort</code>命令对文本文件进行排序。例如，你可以通过运行命令按字母顺序查看<code>facts.txt</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ sort facts.txt 
Apples are red.
Bananas are yellow.
Cherries are red.
Cherries are red.
Cherries are red.
Cherries are red.
Earth is round.
Grapes are green.
Grass is green.
Linux is awesome!
Sky is high.
Swimming is a sport.
</code></pre>
<p>你还可以使用<code>-r</code>选项以相反的顺序进行排序：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ sort -r facts.txt 
Swimming is a sport.
Sky is high.
Linux is awesome!
Grass is green.
Grapes are green.
Earth is round.
Cherries are red.
Cherries are red.
Cherries are red.
Cherries are red.
Bananas are yellow.
Apples are red.
</code></pre>
<p>你也可以使用<code>-n</code>选项按数字值而不是文字值进行排序。</p>
<h1 id="显示唯一行">显示唯一行<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>uniq</code>命令省略文件中重复的行。例如，注意文件<code>facts.txt</code>中的行<code>Cherries are red.</code>被包含了四次：</p>
<p>要查看<code>facts.txt</code>而不重复的行，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ uniq facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Sky is high.
Earth is round.
Linux is awesome!
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>注意<code>Cherries are red.</code>在输出中仍然显示了两次。这是因为<code>uniq</code>命令只省略了重复的行而不是重复的行！如果你想省略重复的行，你必须首先对文件进行<code>sort</code>，然后使用管道在排序输出上应用<code>uniq</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ sort facts.txt | uniq 
Apples are red.
Bananas are yellow.
Cherries are red.
Earth is round.
Grapes are green.
Grass is green.
Linux is awesome!
Sky is high.
Swimming is a sport.
</code></pre>
<p>哇！我们成功地省略了重复和重复的行。</p>
<h1 id="搜索模式">搜索模式<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>grep</code>命令是 Linux 中最受欢迎和有用的命令之一。您可以使用<code>grep</code>打印与特定模式匹配的文本行。例如，如果您只想显示<code>facts.txt</code>中包含单词<code>green</code>的行，则可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ grep green facts.txt 
Grapes are green.
Grass <span class="hljs-keyword">is</span> green.
</code></pre>
<p>如您所见，它只打印了包含单词<code>green</code>的两行。</p>
<p><code>grep</code>命令在与管道一起使用时也可能非常有用。例如，要仅列出您的主目录中的<code>txt</code>文件，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">elliot@ubuntu-linux:~$ ls | grep txt 
all.txt
<span class="hljs-built_in">error</span>.txt 
facts2.txt 
facts.txt 
Mars.txt 
mydate.txt 
<span class="hljs-built_in">output</span>.txt 
planets.txt 
soft.txt
</code></pre>
<p>您可以使用<code>-i</code>选项使您的搜索不区分大小写。例如，如果您想要打印包含单词<code>Earth</code>的行在<code>facts.txt</code>中，然后使用以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>grep earth facts.txt 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>这将不显示任何结果，因为<code>grep</code>默认区分大小写。但是，如果您传递<code>-i</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ grep -i earth facts.txt 
Earth <span class="hljs-keyword">is</span> round.
</code></pre>
<p>它将使搜索不区分大小写，因此它将显示行<code>Earth is round.</code></p>
<h1 id="流编辑器">流编辑器<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用流编辑器命令<code>sed</code>来过滤和转换文本。例如，要在<code>facts.txt</code>中用单词<code>Cloud</code>替换单词<code>Sky</code>，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ sed 's/Sky/Cloud/' facts.txt 
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Cloud is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>如您在输出中所见，单词<code>Sky</code>被替换为<code>Cloud</code>。但是，文件<code>facts.txt</code>没有被编辑。要覆盖（编辑）文件，可以使用<code>-i</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ sed -i 's/Sky/Cloud/' facts.txt 
elliot@ubuntu-linux:~$ cat facts.txt
Apples are red.
Grapes are green.
Bananas are yellow.
Cherries are red.
Cloud is high.
Earth is round.
Linux is awesome!
Cherries are red.
Cherries are red.
Cherries are red.
Grass is green.
Swimming is a sport.
</code></pre>
<p>如您所见，更改已反映在文件中。</p>
<h1 id="翻译字符">翻译字符<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用<code>tr</code>命令来翻译字符。我这里不是在谈论将文本翻译成不同的语言；相反，我是在使用“翻译”一词的第二个含义，即从一种形式转换为另一种形式。</p>
<p>如果您阅读<code>tr</code>命令的<code>man</code>页面，您会在描述中看到：<strong>从标准输入翻译、压缩和/或删除字符，写入标准输出</strong>。因此，<code>tr</code>命令不接受任何参数。</p>
<p><code>tr</code>命令的一个常见用途是将小写字母转换为大写字母（反之亦然）。例如，如果您想要以大写形式显示<code>facts.txt</code>中的所有单词，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat facts.txt | tr [:lower:] [:upper:] 
APPLES ARE RED.
GRAPES ARE GREEN.
BANANAS ARE YELLOW.
CHERRIES ARE RED.
CLOUD IS HIGH.
EARTH IS ROUND.
LINUX IS AWESOME!
CHERRIES ARE RED.
CHERRIES ARE RED.
CHERRIES ARE RED.
GRASS IS GREEN.
SWIMMING IS A SPORT.
</code></pre>
<p>您还可以显示所有单词的小写形式：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ cat facts.txt <span class="hljs-operator">|</span> tr [:upper:] [:lower:] 
apples <span class="hljs-keyword">are</span> red.
grapes <span class="hljs-keyword">are</span> green. 
bananas <span class="hljs-keyword">are</span> yellow. 
cherries <span class="hljs-keyword">are</span> red. 
cloud <span class="hljs-keyword">is</span> high. 
earth <span class="hljs-keyword">is</span> round. 
linux <span class="hljs-keyword">is</span> awesome<span class="hljs-operator">!</span> 
cherries <span class="hljs-keyword">are</span> red. 
cherries <span class="hljs-keyword">are</span> red. 
cherries <span class="hljs-keyword">are</span> red. 
grass <span class="hljs-keyword">is</span> green. 
swimming <span class="hljs-keyword">is</span> a sport.
</code></pre>
<p>你也可以使用<code>-d</code>选项来删除字符。例如，要删除<code>facts.txt</code>中的所有空格，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cat facts.txt | tr -d ' ' 
Applesarered.
Grapesaregreen.
Bananasareyellow.
Cherriesarered.
Cloudishigh.
Earthisround.
Linuxisawesome!
Cherriesarered.
Cherriesarered.
Cherriesarered.
Grassisgreen.
Swimmingisasport.
</code></pre>
<p><strong>一个很酷的提示</strong></p>
<p><code>tr</code>命令不会更改（编辑）文件的内容。它只会将更改写入标准输出。但是，您可以使用输出重定向将输出存储到另一个文件中。</p>
<p>例如，运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">elliot@ubuntu-linux:~$ cat facts.txt | tr [:<span class="hljs-built_in">lower</span>:] [:<span class="hljs-built_in">upper</span>:] &gt; <span class="hljs-built_in">upper</span>.txt
</code></pre>
<p>将命令的输出存储到：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-less"><span class="hljs-selector-tag">cat</span> <span class="hljs-selector-tag">facts</span><span class="hljs-selector-class">.txt</span> | <span class="hljs-selector-tag">tr</span> <span class="hljs-selector-attr">[:lower:]</span> <span class="hljs-selector-attr">[:upper:]</span>
</code></pre>
<p>文件<code>upper.txt</code>中。</p>
<h1 id="切割文本">切割文本<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果您只想查看文件的一部分（或一节），那么<code>cut</code>命令可能非常有用。例如，您可以看到<code>facts.txt</code>文件中的每行都由单个空格分隔的多个单词组成。如果您只想查看每行的第一个单词（第一列/字段），那么可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cut -d <span class="hljs-string">' '</span> -f1 facts.txt 
Apples
Grapes 
Bananas 
Cherries 
Cloud 
Earth 
Linux 
Cherries 
Cherries 
Cherries 
Grass 
Swimming
</code></pre>
<p><code>-d</code>选项是分隔符，必须是单个字符。在这种情况下，我选择了空格字符<code>' '</code>作为分隔符。我还使用了<code>-f1</code>选项来仅查看第一个字段（列）。</p>
<p>如果您想查看每行的第三个单词（第三个字段），则可以使用<code>-f3</code>而不是<code>-f1</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>cut -d <span class="hljs-string">' '</span> -f3 facts.txt 
red.
green. 
yellow. 
red. 
high. 
round. 
awesome! 
red. 
red. 
red. 
green. 
a
</code></pre>
<p>您还可以一次选择多个字段。例如，要查看每行的第一个和第三个单词，可以使用<code>-f1,3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ cut -d ' ' -f1,<span class="hljs-number">3</span> facts.txt 
Apples red.
Grapes green.
Bananas yellow.
Cherries red.
Cloud high.
Earth round.
Linux awesome!
Cherries red.
Cherries red.
Cherries red.
Grass green.
Swimming a 
</code></pre>
<h1 id="使用-awk-进行文本处理">使用 awk 进行文本处理<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>awk</code>是一个非常强大的工具，您可以在 Linux 中用来分析和处理文本。实际上，<code>awk</code>不像您迄今为止学到的任何命令，这是因为<code>awk</code>实际上是一种编程语言。您会发现有些书专门写来解释和讨论<code>awk</code>的用法。但是，我只会在这里向您展示<code>awk</code>的基础知识，您可以自己深入研究。</p>
<p>您可以使用<code>awk</code>来实现与<code>cut</code>命令相同的功能。例如，要查看文件<code>facts.txt</code>中每行的第一个单词，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>awk <span class="hljs-string">'{print $1}'</span> facts.txt 
Apples
Grapes 
Bananas 
Cherries 
Cloud 
Earth 
Linux 
Cherries 
Cherries 
Cherries 
Grass 
Swimming
</code></pre>
<p>请注意，我们不需要指定空格字符<code>' '</code>作为分隔符，就像我们在<code>cut</code>命令中所做的那样，这是因为<code>awk</code>足够聪明，可以自己弄清楚。您还可以一次查看多个字段；例如，要查看每行的第一个和第二个单词，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ awk <span class="hljs-string">'{print $1,$2}'</span> facts.txt 
Apples <span class="hljs-keyword">are</span>
Grapes <span class="hljs-keyword">are</span> 
Bananas <span class="hljs-keyword">are</span> 
Cherries <span class="hljs-keyword">are</span> 
Cloud <span class="hljs-keyword">is</span> 
Earth <span class="hljs-keyword">is</span> 
Linux <span class="hljs-keyword">is</span> 
Cherries <span class="hljs-keyword">are</span> 
Cherries <span class="hljs-keyword">are</span> 
Cherries <span class="hljs-keyword">are</span> 
Grass <span class="hljs-keyword">is</span> 
Swimming <span class="hljs-keyword">is</span>
</code></pre>
<p><code>awk</code>比<code>cut</code>有一个优势，那就是<code>awk</code>足够聪明，即使每个字段之间有多个字符分隔，也能将文件分隔成不同的字段。<code>cut</code>命令只有在文件有单个分隔符时才有效，比如单个空格、冒号、逗号等。</p>
<p>为了演示，创建一个名为<code>animals.txt</code>的文件，并插入以下四行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">fox        <span class="hljs-keyword">is</span> smart
whale <span class="hljs-keyword">is</span>   big
cheetah  <span class="hljs-keyword">is</span>           fast 
penguin     <span class="hljs-keyword">is</span> cute
</code></pre>
<p>不要编辑格式；保持空格混乱：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ cat animals.txt 
fox        <span class="hljs-keyword">is</span> smart
whale <span class="hljs-keyword">is</span>   big
cheetah  <span class="hljs-keyword">is</span>           fast 
penguin     <span class="hljs-keyword">is</span> cute
</code></pre>
<p>现在，如果您尝试使用<code>cut</code>命令仅显示每行中的第三个单词，它将失败，因为每个单词之间有多个空格分隔。</p>
<p>然而，<code>awk</code>足够聪明，可以弄清楚：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>awk <span class="hljs-string">'{print $3}'</span> animals.txt 
smart
big 
fast 
cute
</code></pre>
<p>正如您所看到的，每行中的第三个单词被显示出来。您也可以使用<code>awk</code>来搜索模式，就像<code>grep</code>命令一样。例如，要打印包含<code>facts.txt</code>中单词<code>red</code>的行，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ awk <span class="hljs-string">'/red/{print}'</span> facts.txt 
Apples <span class="hljs-keyword">are</span> red.
Cherries <span class="hljs-keyword">are</span> red. 
Cherries <span class="hljs-keyword">are</span> red. 
Cherries <span class="hljs-keyword">are</span> red. 
Cherries <span class="hljs-keyword">are</span> red. 
</code></pre>
<h1 id="通配符字符">通配符字符<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>通配符字符是 Linux 中的特殊字符，它们用于指定一组（类）字符。<code>表 13</code>列出了所有 Linux 通配符：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>通配符</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>匹配任何字符。</td>
</tr>
<tr>
<td><code>?</code></td>
<td>匹配任何单个字符。</td>
</tr>
<tr>
<td><code>[characters]</code></td>
<td>匹配属于字符集的字符。例如，<code>[abc]</code>将匹配字符<code>a</code>、<code>b</code>或<code>c</code>。</td>
</tr>
<tr>
<td><code>[!characters]</code></td>
<td>匹配不属于字符集的任何字符。基本上是<code>[characters]</code>的否定。例如，<code>[!abc]</code>将匹配任何不是<code>a</code>、<code>b</code>或<code>c</code>的字符。</td>
</tr>
<tr>
<td><code>[[:class:]]</code></td>
<td>匹配属于字符类的任何字符。</td>
</tr>
</tbody>
</table></div>
<p>表 13：Linux 通配符</p>
<p>在我们讨论<code>tr</code>命令时，您已经看到了字符类。记住<code>[:lower:]</code>和<code>[:upper:]</code>代表小写和大写字母，这是字符类的两个示例。<code>表 14</code>列出了最常见的字符类：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>字符类</th>
<th>它代表什么</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>[:alnum:]</code></td>
<td>代表所有的字母数字，即任何字母或数字。</td>
</tr>
<tr>
<td><code>[:alpha:]</code></td>
<td>代表所有的字母，即任何字母。</td>
</tr>
<tr>
<td><code>[:digit:]</code></td>
<td>代表所有的数字，即任何数字。</td>
</tr>
<tr>
<td><code>[:lower:]</code></td>
<td>代表任何小写字母。</td>
</tr>
<tr>
<td><code>[:upper:]</code></td>
<td>代表任何大写字母。</td>
</tr>
</tbody>
</table></div>
<p>表 14：字符类</p>
<p>好了，够了这些理论！让我们看一些例子。您可以使用<code>*</code>通配符来列出您的主目录中的所有<code>txt</code>文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l <span class="hljs-operator">*</span>.txt
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  96 May 11 07:01 all.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  91 May 12 06:10 animals.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  92 May 11 06:48 error.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 231 May 11 08:28 facts2.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 212 May 11 18:37 facts.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  18 May 11 06:12 Mars.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  29 May 11 06:34 mydate.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  57 May 11 07:00 output.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot  57 May 11 06:20 planets.txt</span>
lrwxrwxrwx <span class="hljs-number">1</span> elliot elliot  <span class="hljs-number">9</span>  May  <span class="hljs-number">8</span> <span class="hljs-number">22</span>:<span class="hljs-number">02</span> soft.txt <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> facts.txt
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 212 May 12 05:09 upper.txt</span>
</code></pre>
<p>如果您只想列出以字母<code>f</code>开头的文件名，您可以使用<code>f*</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l f<span class="hljs-operator">*</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 231 May 11 08:28 facts2.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 212 May 11 18:37 facts.txt</span>
</code></pre>
<p>如果您想列出包含三个字母后跟<code>.txt</code>扩展名的文件名，那么您可以使用<code>?</code>通配符：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l <span class="hljs-string">??</span><span class="hljs-string">?.</span>txt
-rw-rw-r-- <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">96</span> May <span class="hljs-number">11</span> <span class="hljs-number">07</span><span class="hljs-symbol">:</span><span class="hljs-number">01</span> all.txt
</code></pre>
<p>您还可以同时使用多个通配符。例如，如果您只想列出以字母<code>a</code>或<code>f</code>开头的文件名，您可以使用<code>[af]</code>通配符，后跟<code>*</code>通配符：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l [af]<span class="hljs-operator">*</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 96 May 11 07:01 all.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 91 May 12 06:10 animals.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 231 May 11 08:28 facts2.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 212 May 11 18:37 facts.txt</span>
</code></pre>
<p>您还可以使用集合否定，例如，要列出所有以除<code>f</code>之外的任何字母开头的<code>.txt</code>文件名，您可以运行<code>[!f]*</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ls <span class="hljs-operator">-</span>l [<span class="hljs-operator">!</span>f]<span class="hljs-operator">*</span>.txt
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 96 May 11 07:01 all.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 91 May 12 06:10 animals.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 92 May 11 06:48 error.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 18 May 11 06:12 Mars.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 29 May 11 06:34 mydate.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 57 May 11 07:00 output.txt</span>
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 57 May 11 06:20 planets.txt</span>
lrwxrwxrwx <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">9</span> May <span class="hljs-number">8</span> <span class="hljs-number">22</span>:<span class="hljs-number">02</span> soft.txt <span class="hljs-operator">-</span><span class="hljs-operator">&gt;</span> facts.txt
<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>rw<span class="hljs-operator">-</span>r<span class="hljs-comment">-- 1 elliot elliot 212 May 12 05:09 upper.txt</span>
</code></pre>
<p>现在，在我们做一些字符类的示例之前，让我们创建以下四个文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch One TWO 7wonders GTA1
</code></pre>
<p>现在，如果您想列出以大写字母结尾的文件名，您可以使用字符类<code>[:upper:]</code>如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">elliot@ubuntu-linux:~$ ls -l *<span class="hljs-string">[[:upper:]]</span>
-rw-rw-r<span class="hljs-comment">-- 1 elliot elliot 0 May 12 18:14 TWO</span>
</code></pre>
<p>请注意，字符类本身也被括号括起来。</p>
<p>如果您想列出以数字（数字）开头的文件名，您可以使用字符类<code>[:digit:]</code>如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">elliot@ubuntu-linux:~$ ls -l <span class="hljs-string">[[:digit:]]</span>*
-rw-rw-r<span class="hljs-comment">-- 1 elliot elliot 0 May 12 18:14 7wonders</span>
</code></pre>
<p>唯一匹配的是文件<code>7wonders</code>。</p>
<h1 id="正则表达式">正则表达式<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>到目前为止，我们一直在使用文件名的通配符。<strong>正则表达式</strong>（简称 <strong>Regex</strong>）是 Linux 的另一个功能，它允许您在文本文件中搜索特定的模式。正则表达式也经常与 <code>grep</code> 命令一起使用。</p>
<p><code>表 15</code> 列出了最常见的正则表达式及其用途：</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>正则表达式</strong></th>
<th><strong>它的作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>*</code></td>
<td>匹配前面字符或表达式的零个或多个。</td>
</tr>
<tr>
<td><code>+</code></td>
<td>匹配前面字符或表达式的一个或多个。</td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配任何单个字符。与 <code>?</code> 通配符相同。</td>
</tr>
<tr>
<td><code>^</code></td>
<td>匹配行首的后面表达式。例如，<code>^dog</code> 将匹配所有以单词 <code>dog</code> 开头的行。</td>
</tr>
<tr>
<td>`</td>
<td><strong>正则表达式</strong></td>
</tr>
<tr>
<td>---</td>
<td>---</td>
</tr>
<tr>
<td><code>*</code></td>
<td>匹配前面字符或表达式的零个或多个。</td>
</tr>
<tr>
<td><code>+</code></td>
<td>匹配前面字符或表达式的一个或多个。</td>
</tr>
<tr>
<td><code>.</code></td>
<td>匹配任何单个字符。与 <code>?</code> 通配符相同。</td>
</tr>
<tr>
<td><code>^</code></td>
<td>匹配行首的后面表达式。例如，<code>^dog</code> 将匹配所有以单词 <code>dog</code> 开头的行。</td>
</tr>
<tr>
<td>| 匹配行尾的前面表达式。例如，<code>bird$</code> 将匹配所有以单词 <code>bird</code> 结尾的行。</td>
<td></td>
</tr>
<tr>
<td><code>\</code></td>
<td>用作转义字符，以匹配反斜杠后面的特殊字符。例如，<code>\*</code> 匹配星号（*）。</td>
</tr>
<tr>
<td><code>[characters]</code></td>
<td>匹配属于字符集字符的字符。例如，<code>[abc]</code> 将匹配字符 <code>a</code>，<code>b</code> 或 <code>c</code>。</td>
</tr>
<tr>
<td><code>[^characters]</code></td>
<td>匹配不属于字符集字符的任何字符。基本上是对 <code>[characters]</code> 的否定。例如，<code>[!abc]</code> 将匹配不是 <code>a</code>，<code>b</code> 或 <code>c</code> 的任何字符。</td>
</tr>
<tr>
<td><code>{x,y}</code></td>
<td>匹配前面表达式的 x 到 y 次出现。</td>
</tr>
<tr>
<td><code>{x}</code></td>
<td>匹配前面表达式的 x 次出现。</td>
</tr>
<tr>
<td><code>{x,}</code></td>
<td>匹配前面表达式的 x 次或更多出现。</td>
</tr>
<tr>
<td><code>{,x}</code></td>
<td>匹配前面表达式的最多 x 次出现。</td>
</tr>
</tbody>
</table></div>
<p>表 15：正则表达式</p>
<p>嗯，这是一个很长的正则表达式列表。让我们练习一下。创建一个名为 <code>practice.txt</code> 的文件，其中包含以下文本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell"><span class="hljs-number">111222333</span>
my cell number is <span class="hljs-number">123</span><span class="hljs-literal">-456-789</span>\. 
you are a smart <span class="hljs-built_in">man</span>
<span class="hljs-built_in">man</span> is a linux command. 
<span class="hljs-built_in">man</span> ... <span class="hljs-built_in">oh</span> <span class="hljs-built_in">man</span>.
dog is a cute pet. 
g
dg 
ddg 
dddg
Two stars ** 
tan
tantan 
tantantan
</code></pre>
<p>要在 <code>grep</code> 命令中使用正则表达式，可以使用 <code>-E</code> 选项或 <code>egrep</code> 命令。<code>egrep</code> 命令只是 <code>grep -E</code> 的别名。</p>
<p>现在，请注意 <code>***</code> 正则表达式与 <code>***</code> 通配符是不同的。要了解区别，请运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>egrep d*g practice.txt
</code></pre>
<p>这将给出以下输出：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/0d507805-036b-437b-a485-843fb7e3717a.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：* 正则表达式</p>
<p>注意，<code>d*g</code> 没有匹配单词 <code>dog</code>；相反，它匹配了：</p>
<ul>
<li>
<p><code>g</code>（d 的零次出现）</p>
</li>
<li>
<p><code>dg</code>（d 的一次出现）</p>
</li>
<li>
<p><code>ddg</code>（d 的两次出现）</p>
</li>
<li>
<p><code>dddg</code>（d 的三次出现）</p>
</li>
</ul>
<p>这是因为 <code>**&nbsp;*regex</code> 匹配前面字符或表达式的零个或多个，而 <code>*** 通配符</code> 匹配任何字符。</p>
<p>现在，要匹配一个或多个出现的 <code>d</code> 后跟 <code>g</code>，可以使用正则表达式 <code>d+g</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>egrep d+g practice.txt 
dg
ddg 
dddg
</code></pre>
<p>要匹配特殊字符 <code>*</code>，可以在单引号或双引号之间使用反斜杠，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>egrep <span class="hljs-string">"\*"</span> practice.txt 
Two stars **
</code></pre>
<p>要匹配包含字母 <code>m</code> 后跟任何单个字符，然后是字母 <code>n</code> 的任何模式，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> egrep m.n practice.txt 
you are a smart <span class="hljs-built_in">man</span>
<span class="hljs-built_in">man</span> is a linux command. 
<span class="hljs-built_in">man</span> ... <span class="hljs-built_in">oh</span> <span class="hljs-built_in">man</span>.
</code></pre>
<p>要匹配以单词 <code>man</code> 开头的行，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> egrep ^man practice.txt 
<span class="hljs-built_in">man</span> is a linux command.
<span class="hljs-built_in">man</span> ... <span class="hljs-built_in">oh</span> <span class="hljs-built_in">man</span>.
</code></pre>
<p>要匹配以单词 <code>man</code> 结尾的行，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> egrep <span class="hljs-built_in">man</span><span class="hljs-variable">$</span> practice.txt 
you are a smart <span class="hljs-built_in">man</span>
</code></pre>
<p>您也可以使用字符类。例如，要搜索包含至少一个数字的所有行，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ egrep <span class="hljs-string">"[[:digit:]]{1,}"</span> practice.txt 
<span class="hljs-number">111222333</span>
my cell number <span class="hljs-keyword">is</span> <span class="hljs-number">123</span>-<span class="hljs-number">456</span>-<span class="hljs-number">789.</span>
</code></pre>
<p>您还可以搜索特定模式，如电话号码：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ egrep <span class="hljs-string">"[[:digit:]]{3}-[[:digit:]]{3}-[[:digit:]]{3}"</span> 
practice.txt
my cell number <span class="hljs-keyword">is</span> <span class="hljs-number">123</span>-<span class="hljs-number">456</span>-<span class="hljs-number">789.</span>
</code></pre>
<p>这将搜索包含三个数字后跟一个破折号，然后是另外三个数字后跟另一个破折号，然后是另外三个数字的行。</p>
<p>我知道你认为 <code>regex</code> 很复杂，很难记住所有这些，你是对的！这就是为什么有一个包含我们讨论的所有正则表达式的 <code>man</code> 页面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man regex
</code></pre>
<p>此外，<code>grep</code> man 页面包括对本章讨论的所有正则表达式的解释。</p>
<h1 id="知识检查-6">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>显示文件 <code>/etc/hostname</code> 的大小（以字节为单位）。</p>
</li>
<li>
<p>仅显示文件 <code>/etc/group</code> 中的组名。</p>
</li>
<li>
<p>显示文件 <code>/etc/services</code> 中的总行数。</p>
</li>
<li>
<p>仅显示文件 <code>/etc/passwd</code> 中包含单词 "bash" 的行。</p>
</li>
<li>
<p>显示<code>uptime</code>命令的输出为全大写字母。</p>
</li>
</ol>
<p>让我们玩寻找游戏</p>
<p>我们有时都会忘记放东西的地方；我总是忘记放我的钱包和保存文件的位置。我很确定你也会忘记放文件的位置，因此在本章中，您将学习两种不同的搜索和定位文件的方法。</p>
<h1 id="第十二章locate-命令">第十二章：locate 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果您知道文件的名称，但不确定文件的位置，您可以使用<code>locate</code>命令获取文件的路径。</p>
<p><code>locate</code>命令在预先构建的文件数据库中搜索文件位置，因此在使用<code>locate</code>命令之前更新文件数据库至关重要。如果您不更新数据库，<code>locate</code>命令可能无法检索新创建文件的位置。</p>
<h1 id="更新文件数据库">更新文件数据库<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>要更新文件数据库，您必须以 root 用户身份运行<code>updatedb</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># updatedb</span>
</code></pre>
<p><code>updatedb</code>命令不会显示任何输出。</p>
<p>现在，假设我们忘记了文件<code>facts.txt</code>的位置，我们不记得它在哪里；在这种情况下，您可以运行<code>locate</code>命令，然后跟上文件名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># locate facts.txt</span>
/home/elliot/facts.txt
/var/facts.txt
</code></pre>
<p>哇！它显示了文件<code>facts.txt</code>的位置。</p>
<p>现在我将向您展示如果搜索新创建的文件而不更新文件数据库会发生什么。</p>
<p>在<code>/home</code>目录中创建一个名为<code>ghost.txt</code>的空文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# touch /</span>home/ghost.<span class="hljs-property">txt</span>
</code></pre>
<p>现在尝试搜索文件<code>ghost.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-comment"># locate ghost.txt </span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-comment">#</span>
</code></pre>
<p><code>locate</code>命令找不到它！为什么？........那是因为您创建了一个新文件，文件数据库还不知道它。您必须先运行<code>updatedb</code>命令来更新文件数据库：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-comment"># updatedb </span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-comment"># locate ghost.txt</span>
/home/ghost.txt
</code></pre>
<p>是的！更新文件数据库后，<code>locate</code>命令现在可以获取文件<code>ghost.txt</code>的位置。</p>
<p>您还可以使用<code>locate</code>命令来使用通配符。例如，<code>locate *.log</code>将搜索系统中的所有日志文件。您还可以使用<code>-r</code>选项在搜索中启用<code>regex</code>。</p>
<h1 id="find-命令">find 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>find</code>命令是您可以在 Linux 中用于搜索文件的更强大的命令。与<code>locate</code>命令不同，<code>find</code>命令实时运行，因此您无需更新任何文件数据库。<code>find</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css">find <span class="hljs-selector-attr">[starting-point(s)]</span> <span class="hljs-selector-attr">[options]</span> <span class="hljs-selector-attr">[expression]</span>
</code></pre>
<p><code>find</code>命令将在您指定的每个起点（目录）下搜索。</p>
<p>例如，要在您的<code>/home</code>目录下搜索所有<code>.txt</code>文件，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /home -name "*.txt"</span>
/home/elliot/facts2.txt
/home/elliot/dir1/directory2/file1.txt
/home/elliot/dir1/directory2/file3.txt
/home/elliot/dir1/directory2/file2.txt
/home/elliot/soft.txt
/home/elliot/facts.txt
/home/elliot/practise.txt
/home/elliot/upper.txt
/home/elliot/mydate.txt
/home/elliot/all.txt
/home/elliot/Mars.txt
/home/elliot/output.txt
/home/elliot/planets.txt
/home/elliot/error.txt
/home/elliot/animals.txt
/home/ghost.txt
</code></pre>
<p><code>-name</code>选项搜索文件名；您可以在<code>find</code>命令中使用许多其他选项。</p>
<p><code>-type</code>选项搜索文件类型；例如，要在<code>/home/elliot/dir1</code>中搜索所有目录，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /home/elliot/dir1 -type d</span>
/home/elliot/dir1
/home/elliot/dir1/cities
/home/elliot/dir1/directory2
</code></pre>
<p>请注意，它只列出了<code>/home/elliot/dir1</code>中的目录。要列出常规文件，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /home/elliot/dir1 -type f</span>
/home/elliot/dir1/cities/paris
/home/elliot/dir1/cities/london
/home/elliot/dir1/cities/berlin
/home/elliot/dir1/directory2/file1.txt
/home/elliot/dir1/directory2/file3.txt
/home/elliot/dir1/directory2/file2.txt
</code></pre>
<p>要搜索常规文件和目录，您可以使用逗号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /home/elliot/dir1 -type d,f</span>
/home/elliot/dir1
/home/elliot/dir1/cities
/home/elliot/dir1/cities/paris
/home/elliot/dir1/cities/london
/home/elliot/dir1/cities/berlin
/home/elliot/dir1/directory2
/home/elliot/dir1/directory2/file1.txt
/home/elliot/dir1/directory2/file3.txt
/home/elliot/dir1/directory2/file2.txt
</code></pre>
<p>现在，以 root 用户身份在<code>/root</code>中创建两个文件<code>large.txt</code>和<code>LARGE.TXT</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># touch large.txt LARGE.TXT</span>
</code></pre>
<p>假设您忘记了这两个文件的位置；在这种情况下，您可以使用<code>/</code>作为起点：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find / -name large.txt</span>
/root/large.txt
</code></pre>
<p>请注意，它只列出了<code>large.txt</code>的位置。如果您还想要另一个文件<code>LARGE.TXT</code>怎么办？在这种情况下，您可以使用<code>-iname</code>选项，使搜索不区分大小写：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find / -iname large.txt</span>
/root/LARGE.TXT
/root/large.txt
</code></pre>
<p>让我们将行“12345”附加到文件<code>large.txt</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># echo 12345 &gt;&gt; large.txt</span>
</code></pre>
<p>请注意文件<code>large.txt</code>和<code>LARGE.txt</code>的大小：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># du -b large.txt LARGE.TXT</span>
<span class="hljs-number">6</span> large.txt
<span class="hljs-number">0</span> LARGE.TXT
</code></pre>
<p>文件<code>LARGE.TXT</code>的大小为零字节，因为它是空的。您可以使用<code>-size</code>选项根据文件大小搜索文件。</p>
<p>例如，要在<code>/root</code>目录下搜索空文件，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /root -size 0c</span>
/root/LARGE.TXT
</code></pre>
<p>如您所见，它列出了<code>LARGE.TXT</code>，因为它有零个字符；<code>0c</code>表示零个字符（或字节）。现在，如果您想在<code>/root</code>下搜索大小为<code>6</code>字节的文件，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># find /root -size 6c</span>
/root/large.txt
</code></pre>
<p>如您所见，它列出了文件<code>large.txt</code>。</p>
<p>您甚至可以在搜索中使用大小范围；<code>Table 16</code>向您展示了使用<code>find</code>命令的大小范围的一些示例。</p>
<div class="table-wrapper"><table>
<thead>
<tr>
<th><strong>命令</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>find / -size +100M</code></td>
<td>将搜索所有大于<code>100</code> MB 的文件。</td>
</tr>
<tr>
<td><code>find / -size -5c</code></td>
<td>将搜索所有小于<code>5</code>字节的文件。</td>
</tr>
<tr>
<td><code>find / -size +50M -size -100M</code></td>
<td>将搜索所有大于<code>50</code> MB 但小于<code>100</code> MB 的文件。</td>
</tr>
<tr>
<td><code>find / -size +1G</code></td>
<td>将搜索所有大于<code>1</code> GB 的文件。</td>
</tr>
</tbody>
</table></div>
<p>表 16：使用大小范围</p>
<p><code>-mtime</code>和<code>-atime</code>选项根据修改和访问时间搜索文件。<code>-exec</code>也是一个有用的命令选项，允许您对<code>find</code>结果运行另一个命令。</p>
<p>例如，您可以通过运行以下命令在<code>/root</code>中对所有空文件进行长列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# find /root -size <span class="hljs-number">0</span>c -exec ls -l {} +
-rw-r<span class="hljs-attr">--r--</span> <span class="hljs-number">1</span> root root <span class="hljs-number">0</span> May <span class="hljs-number">16</span> <span class="hljs-number">14</span>:<span class="hljs-number">31</span> /root/LARGE.TXT
</code></pre>
<p>很多人在使用<code>-exec</code>选项时忘记包括<code>{} +</code>；<code>{} +</code>引用了在查找结果中找到的所有文件。</p>
<p>您可以在<code>-exec</code>选项中使用任何命令。例如，您可能希望删除从查找结果中获得的文件，而不是进行长列表。在这种情况下，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># find /root -size 0c -exec rm {} +</span>
</code></pre>
<p>现在文件<code>LARGE.TXT</code>已被删除：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># ls -l LARGE.TXT</span>
<span class="hljs-built_in">ls</span>: cannot access <span class="hljs-string">'LARGE.TXT'</span>: No such file or directory
</code></pre>
<p>我强烈建议您阅读<code>man</code>页面，以探索可以使用的众多其他选项。</p>
<h1 id="知识检查-7">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>使用<code>locate</code>命令找到文件<code>boot.log</code>的路径。</p>
</li>
<li>
<p>查找所有大小大于<code>50</code> MB 的文件。</p>
</li>
<li>
<p>查找所有大小在<code>70</code> MB 和<code>100</code> MB 之间的文件。</p>
</li>
<li>
<p>查找所有属于用户<code>smurf</code>的文件。</p>
</li>
<li>
<p>查找所有属于组<code>developers</code>的文件。</p>
</li>
</ol>
<p>您得到了一个软件包</p>
<p>在本章中，您将学习如何在 Linux 系统上管理软件应用程序。您将学习如何使用 Debian 软件包管理器来下载、安装、删除、搜索和更新软件包。</p>
<h1 id="第十三章什么是软件包">第十三章：什么是软件包？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 中，软件包是一个压缩的存档文件，其中包含特定软件应用程序运行所需的所有必要文件。例如，像 Firefox 这样的网络浏览器以一个包的形式提供，其中包含了 Firefox 运行所需的所有文件。</p>
<h1 id="软件包管理器的作用">软件包管理器的作用<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>软件包管理器是我们在 Linux 中用来管理软件包的程序；也就是说，下载、安装、删除、搜索和更新软件包。请记住，不同的 Linux 发行版有不同的软件包管理器。例如，<code>dpkg</code>代表 Debian 软件包管理器，是 Ubuntu 和其他基于 Debian 的 Linux 发行版的软件包管理器。另一方面，基于 RedHat 的 Linux 发行版如 Fedora 和 CentOS 使用<code>rpm</code>，代表 RedHat 软件包管理器。其他 Linux 发行版如 SUSE 使用<code>zypper</code>作为软件包管理器等等。</p>
<h1 id="软件包从哪里来">软件包从哪里来？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>很少有经验丰富的 Linux 用户会像 Windows 或 macOS 用户那样去网站下载软件包。相反，每个 Linux 发行版都有其软件包来源列表，大部分软件包都来自这些来源。这些来源也被称为<strong>存储库</strong>。以下图示了在您的 Linux 系统上下载软件包的过程：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/db4d532e-24a0-4944-ab21-aa59b9014390.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：软件包存储在存储库中。请注意，软件包存储在多个存储库中</p>
<h1 id="如何下载软件包">如何下载软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Ubuntu 和其他 Debian Linux 发行版上，您可以使用命令行实用程序<code>apt-get</code>来管理软件包。在幕后，<code>apt-get</code>利用软件包管理器<code>dpkg</code>。要下载软件包，您可以运行命令<code>apt-get download</code>后跟软件包名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">apt-<span class="hljs-keyword">get</span> download package_name
</code></pre>
<p>作为<code>root</code>用户，切换到<code>/tmp</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /tmp</span>
</code></pre>
<p>要下载<code>cmatrix</code>软件包，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># apt-get download cmatrix</span>
Get:1 http://ca.archive.ubuntu.com/ubuntu bionic/universe amd64 cmatrix amd64
1.2a-5build3 [16.1 kB]
Fetched 16.1 kB <span class="hljs-keyword">in</span> 1s (32.1 kB/s) 
</code></pre>
<p><code>cmatrix</code>软件包将被下载到<code>/tmp</code>目录中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># ls </span>
cmatrix_1.2a-5build3_amd64.deb
</code></pre>
<p>请注意软件包名称中的<code>.deb</code>扩展名，这表示它是一个 Debian 软件包。在 RedHat 发行版上，软件包名称以<code>.rpm</code>扩展名结尾。您可以通过运行以下命令<code>dpkg -c</code>来列出<code>cmatrix</code>软件包中的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># dpkg -c cmatrix_1.2a-5build3_amd64.deb</span>
drwxr-xr-x root/root     0 2018-04-03 06:17 ./
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/bin/
-rwxr-xr-x root/root 18424 2018-04-03 06:17 ./usr/bin/cmatrix
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/consolefonts/
-rw-r--r-- root/root  4096 1999-05-13 08:55 ./usr/share/consolefonts/matrix.fnt
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/doc/
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/doc/cmatrix/
-rw-r--r-- root/root  2066 2000-04-03 19:29 ./usr/share/doc/cmatrix/README
-rw-r--r-- root/root   258 1999-05-13 09:12 ./usr/share/doc/cmatrix/TODO
-rw-r--r-- root/root  1128 2018-04-03 06:17 ./usr/share/doc/cmatrix/copyright
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/man/
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/man/man1/
-rw-r--r-- root/root   932 2018-04-03 06:17 ./usr/share/man/man1/cmatrix.1.gz
drwxr-xr-x root/root     0 2018-04-03 06:17 ./usr/share/menu/
-rw-r--r-- root/root   392 2018-04-03 06:17 ./usr/share/menu/cmatrix
</code></pre>
<p>请注意，我们只下载了软件包，但尚未安装。如果您运行<code>cmatrix</code>命令，将不会发生任何事情：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># cmatrix</span>
bash: /usr/bin/cmatrix: No such file or directory
</code></pre>
<h1 id="如何安装软件包">如何安装软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用<code>dpkg</code>命令的<code>-i</code>选项来安装已下载的软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># dpkg -i cmatrix_1.2a-5build3_amd64.deb </span>
Selecting previously unselected package cmatrix.
(Reading database ... 178209 files and directories currently installed.) Preparing to unpack cmatrix_1.2a-5build3_amd64.deb ...
Unpacking cmatrix (1.2a-5build3) ... 
Setting up cmatrix (1.2a-5build3) ...
Processing triggers <span class="hljs-keyword">for</span> man-db (2.8.3-2ubuntu0.1) ... 
root@ubuntu-linux:/tmp<span class="hljs-comment">#</span>
</code></pre>
<p>就是这样！现在运行<code>cmatrix</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># cmatrix</span>
</code></pre>
<p>您将在终端上看到矩阵运行，就像下图中一样：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/18aeaee2-1d00-49f9-817d-e4a6f47959d6.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：cmatrix</p>
<p>我们已经采取了安装<code>cmatrix</code>软件包的长途旅程。我们首先下载了软件包，然后安装了它。您可以通过运行命令<code>apt-get install</code>后跟软件包名称来立即安装软件包（无需下载）：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">apt-<span class="hljs-keyword">get</span> install package_name
</code></pre>
<p>例如，您可以通过运行以下命令安装<strong>GNOME Chess</strong>游戏：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:/tmp# apt-get install gnome-chess 
Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree
Reading state information... Done 
Suggested packages:
 bbchess crafty fairymax fruit glaurung gnuchess phalanx sjeng stockfish toga2 
The following <span class="hljs-keyword">NEW</span> packages will be installed:
 gnome-chess
<span class="hljs-number">0</span> upgraded, <span class="hljs-number">1</span> newly installed, <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> remove <span class="hljs-keyword">and</span> <span class="hljs-number">357</span> <span class="hljs-keyword">not</span> upgraded. 
Need <span class="hljs-keyword">to</span> get <span class="hljs-number">0</span> B/<span class="hljs-number">1</span>,<span class="hljs-number">514</span> kB <span class="hljs-keyword">of</span> archives.
<span class="hljs-keyword">After</span> this operation, <span class="hljs-number">4</span>,<span class="hljs-number">407</span> kB <span class="hljs-keyword">of</span> additional disk space will be used. 
Selecting previously unselected <span class="hljs-keyword">package</span> gnome-chess.
(Reading database ... <span class="hljs-number">178235</span> files <span class="hljs-keyword">and</span> directories currently installed.) Preparing <span class="hljs-keyword">to</span> unpack .../gnome-chess_1%<span class="hljs-number">3</span>a3.<span class="hljs-number">28.1</span>-<span class="hljs-number">1_</span>amd64.deb ...
Unpacking gnome-chess (<span class="hljs-number">1</span>:<span class="hljs-number">3.28</span>.<span class="hljs-number">1</span>-<span class="hljs-number">1</span>) ...
Processing triggers <span class="hljs-keyword">for</span> mime-support (<span class="hljs-number">3.60</span>ubuntu1) ...
Processing triggers <span class="hljs-keyword">for</span> desktop-<span class="hljs-keyword">file</span>-utils (<span class="hljs-number">0.23</span>-<span class="hljs-number">1</span>ubuntu3.<span class="hljs-number">18.04</span>.<span class="hljs-number">2</span>) ... 
Processing triggers <span class="hljs-keyword">for</span> libglib2.<span class="hljs-number">0</span>-<span class="hljs-number">0</span>:amd64 (<span class="hljs-number">2.56</span>.<span class="hljs-number">3</span>-<span class="hljs-number">0</span>ubuntu0.<span class="hljs-number">18.04</span>.<span class="hljs-number">1</span>) ... 
Setting up gnome-chess (<span class="hljs-number">1</span>:<span class="hljs-number">3.28</span>.<span class="hljs-number">1</span>-<span class="hljs-number">1</span>) ...
Processing triggers <span class="hljs-keyword">for</span> man-db (<span class="hljs-number">2.8</span>.<span class="hljs-number">3</span>-<span class="hljs-number">2</span>ubuntu0.<span class="hljs-number">1</span>) ... 
Processing triggers <span class="hljs-keyword">for</span> gnome-menus (<span class="hljs-number">3.13</span>.<span class="hljs-number">3</span>-<span class="hljs-number">11</span>ubuntu1.<span class="hljs-number">1</span>) ... 
Processing triggers <span class="hljs-keyword">for</span> hicolor-icon-theme (<span class="hljs-number">0.17</span>-<span class="hljs-number">2</span>) ...
</code></pre>
<p>现在您可以通过运行<code>gnome-chess</code>命令来启动游戏：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># gnome-chess</span>
</code></pre>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/8f33af2e-d60f-4ac0-a46d-e659edb64dcc.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：GNOME Chess</p>
<h1 id="如何删除软件包">如何删除软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以通过运行命令<code>apt-get remove</code>后跟软件包名称来轻松删除一个软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">apt-<span class="hljs-keyword">get</span> <span class="hljs-keyword">remove</span> package_name
</code></pre>
<p>例如，如果你厌倦了矩阵生活方式，并决定删除<code>cmatrix</code>软件包，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:/tmp# apt-<span class="hljs-keyword">get</span> remove cmatrix 
Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree
Reading state information... Done
The following packages will be REMOVED:
 cmatrix
<span class="hljs-number">0</span> upgraded, <span class="hljs-number">0</span> newly installed, <span class="hljs-number">1</span> to remove and <span class="hljs-number">357</span> not upgraded. 
After <span class="hljs-keyword">this</span> operation, <span class="hljs-number">49.2</span> kB disk space will be freed.
Do you want to <span class="hljs-keyword">continue</span>? [Y/n] y
(Reading database ... <span class="hljs-number">178525</span> files and directories currently installed.) 
Removing cmatrix (<span class="hljs-number">1.</span>2a-5build3) ...
Processing triggers <span class="hljs-keyword">for</span> man-db (<span class="hljs-number">2.8</span><span class="hljs-number">.3</span>-2ubuntu0<span class="hljs-number">.1</span>) ...
</code></pre>
<p>现在，如果您运行<code>cmatrix</code>命令，您将收到一个错误：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># cmatrix</span>
Command <span class="hljs-string">'cmatrix'</span> not found, but can be installed with: 
apt install cmatrix
</code></pre>
<p><code>apt-get remove</code>命令会删除（卸载）一个软件包，但不会删除软件包的配置文件。您可以使用<code>apt-get purge</code>命令来删除软件包以及其配置文件。</p>
<p>例如，如果您想删除<code>gnome-chess</code>软件包以及其配置文件，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:/tmp# apt-get purge gnome-chess 
Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree
Reading state information... Done
The following <span class="hljs-keyword">package</span> was automatically installed <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> no longer required:    
  hoichess
<span class="hljs-keyword">Use</span> <span class="hljs-symbol">'apt</span> autoremove' <span class="hljs-keyword">to</span> remove it.
The following packages will be REMOVED:
 gnome-chess*
<span class="hljs-number">0</span> upgraded, <span class="hljs-number">0</span> newly installed, <span class="hljs-number">1</span> <span class="hljs-keyword">to</span> remove <span class="hljs-keyword">and</span> <span class="hljs-number">357</span> <span class="hljs-keyword">not</span> upgraded. 
<span class="hljs-keyword">After</span> this operation, <span class="hljs-number">4</span>,<span class="hljs-number">407</span> kB disk space will be freed.
Do you want <span class="hljs-keyword">to</span> continue? [Y/n] y
(Reading database ... <span class="hljs-number">178515</span> files <span class="hljs-keyword">and</span> directories currently installed.) 
Removing gnome-chess (<span class="hljs-number">1</span>:<span class="hljs-number">3.28</span>.<span class="hljs-number">1</span>-<span class="hljs-number">1</span>) ...
Processing triggers <span class="hljs-keyword">for</span> mime-support (<span class="hljs-number">3.60</span>ubuntu1) ...
Processing triggers <span class="hljs-keyword">for</span> desktop-<span class="hljs-keyword">file</span>-utils (<span class="hljs-number">0.23</span>-<span class="hljs-number">1</span>ubuntu3.<span class="hljs-number">18.04</span>.<span class="hljs-number">2</span>) ... 
Processing triggers <span class="hljs-keyword">for</span> libglib2.<span class="hljs-number">0</span>-<span class="hljs-number">0</span>:amd64 (<span class="hljs-number">2.56</span>.<span class="hljs-number">3</span>-<span class="hljs-number">0</span>ubuntu0.<span class="hljs-number">18.04</span>.<span class="hljs-number">1</span>) ... Processing triggers <span class="hljs-keyword">for</span> man-db (<span class="hljs-number">2.8</span>.<span class="hljs-number">3</span>-<span class="hljs-number">2</span>ubuntu0.<span class="hljs-number">1</span>) ...
Processing triggers <span class="hljs-keyword">for</span> gnome-menus (<span class="hljs-number">3.13</span>.<span class="hljs-number">3</span>-<span class="hljs-number">11</span>ubuntu1.<span class="hljs-number">1</span>) ... 
Processing triggers <span class="hljs-keyword">for</span> hicolor-icon-theme (<span class="hljs-number">0.17</span>-<span class="hljs-number">2</span>) ...
(Reading database ... <span class="hljs-number">178225</span> files <span class="hljs-keyword">and</span> directories currently installed.) 
Purging <span class="hljs-keyword">configuration</span> files <span class="hljs-keyword">for</span> gnome-chess (<span class="hljs-number">1</span>:<span class="hljs-number">3.28</span>.<span class="hljs-number">1</span>-<span class="hljs-number">1</span>) ...
</code></pre>
<p>您甚至可以在输出的最后一行中看到<code>Purging configuration files for gnome-chess (1:3.28.1-1) ...</code>，这意味着<code>gnome-chess</code>的配置文件也正在被删除。</p>
<h1 id="如何搜索软件包">如何搜索软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>有时您不确定软件包名称。在这种情况下，您无法安装它，直到查找它。您可以使用<code>apt-cache search</code>命令，后跟搜索词或关键词来搜索软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">apt<span class="hljs-operator">-</span>cache <span class="hljs-keyword">search</span> keyword
</code></pre>
<p>例如，假设您想安装<code>wireshark</code>软件包，但您只记得软件包名称中有<code>shark</code>这个词。在这种情况下，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:/tmp# apt-cache search shark
dopewars - drug-dealing game set <span class="hljs-keyword">in</span> streets <span class="hljs-keyword">of</span> <span class="hljs-keyword">New</span> York City
dopewars-data - drug-dealing game set <span class="hljs-keyword">in</span> streets <span class="hljs-keyword">of</span> <span class="hljs-keyword">New</span> York City - data files forensics-extra - Forensics Environment - extra console components (metapackage) kernelshark - Utilities <span class="hljs-keyword">for</span> graphically analyzing <span class="hljs-keyword">function</span> tracing <span class="hljs-keyword">in</span> the kernel libcrypto++-dev - General purpose cryptographic <span class="hljs-keyword">library</span> - C++ development libshark-dev - development files <span class="hljs-keyword">for</span> Shark
libshark0 - Shark machine learning <span class="hljs-keyword">library</span>
libwireshark-data - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- data files </span>
libwireshark-dev - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- development files libwireshark10 - network packet dissection library -- shared library </span>
libwiretap-dev - network packet capture <span class="hljs-keyword">library</span> <span class="hljs-comment">-- development files</span>
libwsutil-dev - network packet dissection utilities <span class="hljs-keyword">library</span> <span class="hljs-comment">-- development files libwsutil8 - network packet dissection utilities library -- shared library netmate - netdude clone that shows pcap dump lines in network header style plowshare-modules - plowshare drivers for various file sharing websites</span>
shark-doc - documentation <span class="hljs-keyword">for</span> Shark
tcpxtract - extract files from network traffic based <span class="hljs-keyword">on</span> <span class="hljs-keyword">file</span> signatures 
tshark - network traffic analyzer - console version
wifite - Python script <span class="hljs-keyword">to</span> automate wireless auditing using aircrack-ng tools wireshark - network traffic analyzer - meta-<span class="hljs-keyword">package</span>
wireshark-common - network traffic analyzer - common files 
wireshark-dev - network traffic analyzer - development tools 
wireshark-doc - network traffic analyzer - documentation 
wireshark-gtk - network traffic analyzer - GTK+ version 
wireshark-qt - network traffic analyzer - Qt version
zeitgeist-explorer - GUI application <span class="hljs-keyword">for</span> monitoring <span class="hljs-keyword">and</span> debugging zeitgeist forensics-extra-gui - Forensics Environment - extra GUI components (metapackage) horst - Highly Optimized Radio Scanning Tool
libvirt-wireshark - Wireshark dissector <span class="hljs-keyword">for</span> the libvirt protocol 
libwiretap7 - network packet capture <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library </span>
libwscodecs1 - network packet dissection codecs <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library minetest-mod-animals - Minetest mod providing animals</span>
nsntrace - perform network trace <span class="hljs-keyword">of</span> a single <span class="hljs-keyword">process</span> by using network namespaces libwireshark11 - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library </span>
libwiretap8 - network packet capture <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library</span>
libwscodecs2 - network packet dissection codecs <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library libwsutil9 - network packet dissection utilities library -- shared library</span>
</code></pre>
<p>然后您会被大量输出淹没，列出所有软件包名称中包含<code>shark</code>这个词的软件包。我敢打赌您可以在输出的中间找到<code>wireshark</code>软件包。我们可以通过使用<code>-n</code>选项获得一个更短和精炼的输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:/tmp# apt-cache -n search shark
kernelshark - Utilities <span class="hljs-keyword">for</span> graphically analyzing <span class="hljs-keyword">function</span> tracing <span class="hljs-keyword">in</span> the kernel libshark-dev - development files <span class="hljs-keyword">for</span> Shark
libshark0 - Shark machine learning <span class="hljs-keyword">library</span>
libwireshark-data - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- data files </span>
libwireshark-dev - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- development files</span>
libwireshark10 - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library </span>
shark-doc - documentation <span class="hljs-keyword">for</span> Shark
tshark - network traffic analyzer - console version 
wireshark - network traffic analyzer - meta-<span class="hljs-keyword">package</span> 
wireshark-common - network traffic analyzer - common files 
wireshark-dev - network traffic analyzer - development tools 
wireshark-doc - network traffic analyzer - documentation 
wireshark-gtk - network traffic analyzer - GTK+ version 
wireshark-qt - network traffic analyzer - Qt version
libndpi-wireshark - extensible deep packet inspection <span class="hljs-keyword">library</span> - wireshark dissector 
libvirt-wireshark - Wireshark dissector <span class="hljs-keyword">for</span> the libvirt protocol
libwireshark11 - network packet dissection <span class="hljs-keyword">library</span> <span class="hljs-comment">-- shared library</span>
</code></pre>
<p>这将只列出软件包名称中包含<code>shark</code>这个词的软件包。现在，您可以通过运行以下命令来安装<code>wireshark</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/tmp<span class="hljs-comment"># apt-get install wireshark</span>
</code></pre>
<h1 id="如何显示软件包信息">如何显示软件包信息<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>要查看软件包信息，您可以使用<code>apt-cache show</code>命令，后跟软件包名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">apt-<span class="hljs-keyword">cache </span><span class="hljs-keyword">show </span>package_name
</code></pre>
<p>例如，要显示<code>cmatrix</code>软件包信息，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# apt-cache show cmatrix 
<span class="hljs-attribute">Package</span>: cmatrix
<span class="hljs-attribute">Architecture</span>: amd64 
<span class="hljs-attribute">Version</span>: <span class="hljs-number">1.2</span>a-<span class="hljs-number">5</span>build3 
<span class="hljs-attribute">Priority</span>: optional 
<span class="hljs-attribute">Section</span>: universe/misc 
<span class="hljs-attribute">Origin</span>: Ubuntu
<span class="hljs-attribute">Maintainer</span>: Ubuntu Developers &lt;ubuntu-devel-discuss<span class="hljs-keyword">@lists</span>.ubuntu.com&gt; 
<span class="hljs-attribute">Original-Maintainer</span>: Diego Fernández Durán &lt;diego<span class="hljs-keyword">@goedi</span>.net&gt;
<span class="hljs-attribute">Bugs</span>: <span class="hljs-attribute">https</span>://bugs.launchpad.net/ubuntu/+filebug 
<span class="hljs-attribute">Installed-Size</span>: <span class="hljs-number">48</span>
<span class="hljs-attribute">Depends</span>: libc6 (&gt;= <span class="hljs-number">2.4</span>), libncurses5 (&gt;= <span class="hljs-number">6</span>), libtinfo5 (&gt;= <span class="hljs-number">6</span>) 
<span class="hljs-attribute">Recommends</span>: kbd
<span class="hljs-attribute">Suggests</span>: cmatrix-xfont
<span class="hljs-attribute">Filename</span>: pool/universe/c/cmatrix/cmatrix_1.<span class="hljs-number">2</span>a-<span class="hljs-number">5</span>build3_amd64.deb 
<span class="hljs-attribute">Size</span>: <span class="hljs-number">16084</span>
MD5<span class="hljs-attribute">sum</span>: <span class="hljs-number">8</span>dad2a99d74b63cce6eeff0046f0ac91 
SHA1: <span class="hljs-number">3</span>da3a0ec97807e6f53de7653e4e9f47fd96521c2
SHA256: cd50212101bfd71479af41e7afc47ea822c075ddb1ceed83895f8eaa1b79ce5d <span class="hljs-attribute">Homepage</span>: <span class="hljs-attribute">http</span>://www.asty.org/cmatrix/
Description-en_<span class="hljs-attribute">CA</span>: simulates the display from <span class="hljs-string">"The Matrix"</span> 
Screen saver for the terminal based in the movie <span class="hljs-string">"The Matrix"</span>.
 * Support terminal resize.
 * Screen saver <span class="hljs-attribute">mode</span>: any key closes it.
 * Selectable <span class="hljs-attribute">color</span>.
 * Change text scroll rate.
Description-md5: <span class="hljs-number">9</span>af1f58e4b6301a6583f036c780c6ae6
</code></pre>
<p>您可以在输出中看到许多有用的信息，包括软件包描述和软件包维护者的联系信息，如果您发现错误并希望报告它，则这些信息很有用。您还将了解软件包是否依赖于其他软件包。</p>
<p><strong>软件包依赖</strong>可能会变成一场噩梦，因此我强烈建议您尽可能使用<code>apt-get install</code>命令来安装软件包，因为它在安装软件包时会检查和解决软件包依赖关系。另一方面，<code>dpkg -i</code>命令不会检查软件包依赖关系。记住这一点！</p>
<p>您可以使用<code>apt-cache depends</code>命令来列出软件包依赖关系：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">apt-<span class="hljs-keyword">cache </span>depends package_name
</code></pre>
<p>例如，要查看为使<code>cmatrix</code>正常工作而需要安装的软件包列表，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# apt-cache depends cmatrix 
cmatrix
 <span class="hljs-attribute">Depends</span>: libc6 
 <span class="hljs-attribute">Depends</span>: libncurses5 
 <span class="hljs-attribute">Depends</span>: libtinfo5 
 <span class="hljs-attribute">Recommends</span>: kbd 
 <span class="hljs-attribute">Suggests</span>: cmatrix-xfont
</code></pre>
<p>正如您所看到的，<code>cmatrix</code>软件包依赖于三个软件包：</p>
<ul>
<li>
<p><code>libc6</code></p>
</li>
<li>
<p><code>libncurses5</code></p>
</li>
<li>
<p><code>libtinfo5</code></p>
</li>
</ul>
<p>这三个软件包必须安装在系统上，以便<code>cmatrix</code>正常运行。</p>
<h1 id="列出所有软件包">列出所有软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用<code>dpkg -l</code>命令来列出系统上安装的所有软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># dpkg -l</span>
</code></pre>
<p>您还可以使用<code>apt-cache pkgnames</code>命令来列出所有可供您安装的软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">root@ubuntu-linux:~# apt-cache pkgnames 
libdatrie-doc
libfstrcmp0-dbg 
libghc-monadplus-doc 
librime-data-sampheng 
python-pyao-dbg 
fonts-georgewilliams
python3-aptdaemon.test 
libcollada2gltfconvert-dev 
python3-doc8
r-bioc-hypergraph
.
.
.
.
.
</code></pre>
<p>您可以将输出导入到<code>wc -l</code>命令中，以获得可用软件包的总数：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># apt-cache pkgnames | wc -l 64142</span>
</code></pre>
<p>哇！这是一个庞大的数字；我的系统上有超过 64,000 个可用软件包。</p>
<p>您可能还想知道您的系统用于获取所有这些软件包的存储库（源）。这些存储库包含在文件<code>/etc/ap- t/sources.list</code>中，以及在目录<code>/etc/apt/- sources.list.d/</code>下具有后缀<code>.list</code>的任何文件中。您可以查看<code>man</code>页面：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># man sources.list</span>
</code></pre>
<p>了解如何向系统添加存储库。</p>
<p>您还可以使用<code>apt-cache policy</code>命令来列出系统上启用的所有存储库：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># apt-cache policy </span>
Package files:
100 /var/lib/dpkg/status 
    release a=now
500 http://dl.google.com/linux/chrome/deb stable/main amd64 
    Packages release v=1.0,o=Google LLC,a=stable,n=stable,l=Google,c=main,
    b=amd64 origin dl.google.com
100 http://ca.archive.ubuntu.com/ubuntu bionic-backports/main i386 
    Packages release v=18.04,o=Ubuntu,a=bionic-backports,n=bionic,l=Ubuntu,
    c=main,b=i386 origin ca.archive.ubuntu.com
100 http://ca.archive.ubuntu.com/ubuntu bionic-backports/main amd64 
    Packages release v=18.04,o=Ubuntu,a=bionic-backports,n=bionic,l=Ubuntu,
    c=main,b=amd64 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/multiverse i386 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,
    l=Ubuntu,c=multiverse,b=i386 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/multiverse amd64 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,l=Ubuntu,
    c=multiverse,b=amd64 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/universe i386 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,l=Ubuntu,
    c=universe,b=i386 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/universe amd64 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,l=Ubuntu,
    c=universe,b=amd64 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/restricted i386 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,l=Ubuntu,
    c=restricted,b=i386 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/restricted amd64 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,l=Ubuntu,
    c=restricted,b=amd64 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/main i386 
    Packages release v=18.04,o=Ubuntu,a=bionic,
    n=bionic,l=Ubuntu,c=main,b=i386 origin ca.archive.ubuntu.com
500 http://ca.archive.ubuntu.com/ubuntu bionic/main amd64 
    Packages release v=18.04,o=Ubuntu,a=bionic,n=bionic,
    l=Ubuntu,c=main,b=amd64 origin ca.archive.ubuntu.com
Pinned packages:
</code></pre>
<p>如果您渴望知道哪个存储库提供了特定的软件包，您可以使用<code>apt-cache policy</code>命令，后跟软件包名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">apt-<span class="hljs-keyword">cache </span>policy package_name
</code></pre>
<p>例如，要知道哪个存储库提供了<code>cmatrix</code>软件包，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# apt-cache policy cmatrix 
<span class="hljs-attribute">cmatrix</span>:
 <span class="hljs-attribute">Installed</span>: <span class="hljs-number">1.2</span>a-<span class="hljs-number">5</span>build3 
 <span class="hljs-attribute">Candidate</span>: <span class="hljs-number">1.2</span>a-<span class="hljs-number">5</span>build3 
 Version <span class="hljs-attribute">table</span>:
*** <span class="hljs-number">1.2</span>a-<span class="hljs-number">5</span>build3 <span class="hljs-number">500</span>
 <span class="hljs-number">500</span> <span class="hljs-attribute">http</span>://ca.archive.ubuntu.com/ubuntu bionic/universe amd64 Packages
 <span class="hljs-number">100</span> /var/lib/dpkg/status
</code></pre>
<p>从输出中，您可以看到<code>cmatrix</code>软件包来自于<a href="http://ca.archive.ubuntu.com/ubuntu" target="_blank" rel="noopener nofollow"><code>ca.archive.ubuntu.com/ubuntu</code></a>的 bionic/universe 存储库。</p>
<h1 id="修补您的系统">修补您的系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>如果某个软件包有可用的更新版本，那么您可以使用<code>apt-get install --only-upgrade</code>命令，后跟软件包名称来升级它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> install <span class="hljs-comment">--only-upgrade package_name</span>
</code></pre>
<p>例如，您可以通过运行以下命令来升级<code>nano</code>软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:~# apt-get install <span class="hljs-comment">--only-upgrade nano </span>
Reading <span class="hljs-keyword">package</span> lists... Done
Building dependency tree
Reading state information... Done
nano <span class="hljs-keyword">is</span> already the newest version (<span class="hljs-number">2.9</span>.<span class="hljs-number">3</span>-<span class="hljs-number">2</span>).
The following <span class="hljs-keyword">package</span> was automatically installed <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> no longer required: 
 hoichess
<span class="hljs-keyword">Use</span> <span class="hljs-symbol">'apt</span> autoremove' <span class="hljs-keyword">to</span> remove it.
<span class="hljs-number">0</span> upgraded, <span class="hljs-number">0</span> newly installed, <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> remove <span class="hljs-keyword">and</span> <span class="hljs-number">357</span> <span class="hljs-keyword">not</span> upgraded.
</code></pre>
<p>您还可以通过运行以下命令来升级系统上安装的所有软件包：</p>
<ol>
<li>
<p><code>apt-get update</code></p>
</li>
<li>
<p><code>apt-get upgrade</code></p>
</li>
</ol>
<p>第一个命令<code>apt-get update</code>将更新可用软件包及其版本的列表，但不会进行任何安装或升级：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# apt-get <span class="hljs-attribute">update</span>
<span class="hljs-attribute">Ign</span>:<span class="hljs-number">1</span> <span class="hljs-attribute">http</span>://dl.google.com/linux/chrome/deb stable InRelease 
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">2</span> <span class="hljs-attribute">http</span>://ca.archive.ubuntu.com/ubuntu bionic InRelease
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">3</span> <span class="hljs-attribute">http</span>://ppa.launchpad.net/linuxuprising/java/ubuntu bionic InRelease 
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">4</span> <span class="hljs-attribute">http</span>://dl.google.com/linux/chrome/deb stable Release
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">5</span> <span class="hljs-attribute">http</span>://security.ubuntu.com/ubuntu bionic-security InRelease 
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">6</span> <span class="hljs-attribute">http</span>://ca.archive.ubuntu.com/ubuntu bionic-updates InRelease 
<span class="hljs-attribute">Hit</span>:<span class="hljs-number">8</span> <span class="hljs-attribute">http</span>://ca.archive.ubuntu.com/ubuntu bionic-backports InRelease 
Reading package lists... Done
</code></pre>
<p>第二个命令<code>apt-get upgrade</code>将升级系统上安装的所有软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:~# apt-get upgrade 
Reading <span class="hljs-keyword">package</span> lists... Done 
Building dependency tree
Reading state information... Done 
Calculating upgrade... Done
The following <span class="hljs-keyword">package</span> was automatically installed <span class="hljs-keyword">and</span> <span class="hljs-keyword">is</span> no longer required: 
 hoichess
<span class="hljs-keyword">Use</span> <span class="hljs-symbol">'apt</span> autoremove' <span class="hljs-keyword">to</span> remove it.
The following packages have been kept back:
 gstreamer1.<span class="hljs-number">0</span>-gl libcogl20 libgail-<span class="hljs-number">3</span>-<span class="hljs-number">0</span> libgl1-mesa-dri libgstreamer-gl1.<span class="hljs-number">0</span>-<span class="hljs-number">0</span> 
 libreoffice-calc libreoffice-core libreoffice-draw libreoffice-gnome 
    libreoffice-gtk3 
 libwayland-egl1-mesa libxatracker2 linux-<span class="hljs-keyword">generic</span> linux-headers-<span class="hljs-keyword">generic</span>
 software-properties-common software-properties-gtk ubuntu-desktop 
The following packages will be upgraded:
 apt apt-utils aptdaemon aptdaemon-data aspell base-files bash bind9-host bluez 
 python2.<span class="hljs-number">7</span>-minimal python3-apt python3-aptdaemon python3-aptdaemon.gtk3widgets 
 python3-problem-<span class="hljs-keyword">report</span> python3-update-manager python3-urllib3 python3.<span class="hljs-number">6</span>
<span class="hljs-number">342</span> upgraded, <span class="hljs-number">0</span> newly installed, <span class="hljs-number">0</span> <span class="hljs-keyword">to</span> remove <span class="hljs-keyword">and</span> <span class="hljs-number">30</span> <span class="hljs-keyword">not</span> upgraded. 
Need <span class="hljs-keyword">to</span> get <span class="hljs-number">460</span> MB <span class="hljs-keyword">of</span> archives.
<span class="hljs-keyword">After</span> this operation, <span class="hljs-number">74.3</span> MB <span class="hljs-keyword">of</span> additional disk space will be used. 
Do you want <span class="hljs-keyword">to</span> continue? [Y/n]
</code></pre>
<p>请记住顺序很重要；也就是说，在运行<code>apt-get upgrade</code>命令之前，您需要运行<code>apt-get update</code>命令。</p>
<p>在 Linux 术语中，升级系统上安装的所有软件包的过程称为<strong>打补丁系统</strong>。</p>
<h1 id="知识检查-8">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>在您的系统上安装<code>tmux</code>软件包。</p>
</li>
<li>
<p>列出<code>vim</code>软件包的所有依赖项。</p>
</li>
<li>
<p>在您的系统上安装<code>cowsay</code>软件包。</p>
</li>
<li>
<p>删除<code>cowsay</code>软件包以及其所有配置文件。</p>
</li>
<li>
<p>升级系统上的所有软件包（打补丁您的系统）。</p>
</li>
</ol>
<p>杀死进程</p>
<p>在您的系统上运行的任何程序都是一个进程。在本章中，您将学习有关 Linux 进程的所有内容。您将学习如何查看进程信息。您还将学习如何向进程发送不同的信号。此外，您将了解前台和后台进程之间的区别。</p>
<h1 id="第十四章什么是进程">第十四章：什么是进程？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>进程只是运行程序的一个实例。因此，您系统上运行的任何程序都是一个进程。以下都是进程的例子：</p>
<ul>
<li>
<p>在您的系统上运行的 Firefox 或任何网络浏览器都是一个进程。</p>
</li>
<li>
<p>您正在运行的终端现在就是一个进程。</p>
</li>
<li>
<p>您在系统上玩的任何游戏都是一个进程。</p>
</li>
<li>
<p>复制文件是一个进程。</p>
</li>
</ul>
<p>就像文件一样，每个进程都由特定用户拥有。进程的所有者只是启动该进程的用户。</p>
<p>要列出所有由特定用户拥有的进程，您可以运行命令<code>ps -u</code>后跟用户名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell"><span class="hljs-built_in">ps</span> <span class="hljs-literal">-u</span> username
</code></pre>
<p>例如，要列出所有由<code>elliot</code>拥有的进程，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">root@ubuntu-linux:~#</span> <span class="hljs-string">ps</span> <span class="hljs-string">-u</span> <span class="hljs-string">elliot</span>
 <span class="hljs-string">PID</span> <span class="hljs-string">TTY</span>       <span class="hljs-string">TIME</span> <span class="hljs-string">CMD</span>
<span class="hljs-number">1365</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">systemd</span>
<span class="hljs-number">1366</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">(sd-pam)</span>
<span class="hljs-number">1379</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">gnome-keyring-d</span>
<span class="hljs-number">1383 </span><span class="hljs-string">tty2</span>  <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">gdm-x-session</span>
<span class="hljs-number">1385 </span><span class="hljs-string">tty2</span>  <span class="hljs-number">00</span><span class="hljs-string">:00:18</span> <span class="hljs-string">Xorg</span>
<span class="hljs-number">1389</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">dbus-daemon</span>
<span class="hljs-number">1393 </span><span class="hljs-string">tty2</span>  <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">gnome-session-b</span>
<span class="hljs-number">1725</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">ssh-agent</span>
<span class="hljs-number">1797</span> <span class="hljs-string">?</span>     <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">gvfsd</span>
<span class="hljs-string">.</span> 
<span class="hljs-string">.</span> 
<span class="hljs-string">.</span> 
<span class="hljs-string">.</span>
</code></pre>
<p>输出中的第一列列出了<strong>进程标识符</strong>（<strong>PIDs</strong>）。PID 是一个唯一标识进程的数字，就像文件<code>inodes</code>一样。输出的最后一列列出了进程名称。</p>
<p>您可以使用<code>ps -e</code>命令列出系统上正在运行的所有进程：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">root@ubuntu-linux:~# ps -e 
PID TTY     TIME  CMD
<span class="hljs-number">1</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">01</span> systemd
<span class="hljs-number">2</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> kthreadd
<span class="hljs-number">4</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> kworker/<span class="hljs-number">0</span>:<span class="hljs-number">0</span>H
<span class="hljs-number">6</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> mm_percpu_wq
<span class="hljs-number">7</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> ksoftirqd/<span class="hljs-number">0</span>
<span class="hljs-number">8</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> rcu_sched
<span class="hljs-number">9</span>  ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> rcu_bh
<span class="hljs-number">10</span> ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> migration/<span class="hljs-number">0</span>
<span class="hljs-number">11</span> ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> watchdog/<span class="hljs-number">0</span>
<span class="hljs-number">12</span> ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> cpuhp/<span class="hljs-number">0</span>
<span class="hljs-number">13</span> ?     <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> kdevtmpfs
.
.
.
.
</code></pre>
<p>您还可以使用<code>-f</code>选项来获取更多信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">root@ubuntu-linux:~#</span> <span class="hljs-string">ps</span> <span class="hljs-string">-ef</span>
<span class="hljs-string">UID</span>    <span class="hljs-string">PID</span>  <span class="hljs-string">PPID</span> <span class="hljs-string">C</span> <span class="hljs-string">STIME</span> <span class="hljs-string">TTY</span>    <span class="hljs-string">TIME</span>    <span class="hljs-string">CMD</span>
<span class="hljs-string">root</span>      <span class="hljs-number">1</span>    <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:01</span> <span class="hljs-string">/sbin/init</span> <span class="hljs-string">splash</span>
<span class="hljs-string">root</span>      <span class="hljs-number">2</span>    <span class="hljs-number">0</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">kthreadd</span>]
<span class="hljs-string">root</span>      <span class="hljs-number">4</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">kworker/0:0H</span>]
<span class="hljs-string">root</span>      <span class="hljs-number">6</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">mm_percpu_wq</span>]
<span class="hljs-string">root</span>      <span class="hljs-number">7</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">ksoftirqd/0</span>]
<span class="hljs-string">root</span>      <span class="hljs-number">8</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:01</span> [<span class="hljs-string">rcu_sched</span>]
<span class="hljs-string">root</span>      <span class="hljs-number">9</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">rcu_bh</span>]
<span class="hljs-string">root</span>     <span class="hljs-number">10</span>    <span class="hljs-number">2</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:23</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> [<span class="hljs-string">migration/0</span>]
<span class="hljs-string">elliot</span> <span class="hljs-number">1835 </span><span class="hljs-number">1393 </span><span class="hljs-number">1</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span> <span class="hljs-string">tty2</span> <span class="hljs-number">00</span><span class="hljs-string">:00:58</span> <span class="hljs-string">/usr/bin/gnome-shell</span>
<span class="hljs-string">elliot</span> <span class="hljs-number">1853 </span><span class="hljs-number">1835 </span><span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span> <span class="hljs-string">tty2</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">ibus-daemon</span> <span class="hljs-string">--xim</span> <span class="hljs-string">--panel</span> <span class="hljs-string">disable</span>
<span class="hljs-string">elliot</span> <span class="hljs-number">1857 </span><span class="hljs-number">1365 </span><span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">/usr/lib/gnome-shell/gnome-shell</span>
<span class="hljs-string">elliot</span> <span class="hljs-number">1865 </span><span class="hljs-number">1853 </span><span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span> <span class="hljs-string">tty2</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">/usr/lib/ibus/ibus-dconf</span>
<span class="hljs-string">elliot</span> <span class="hljs-number">1868    </span><span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span> <span class="hljs-string">tty2</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">/usr/lib/ibus/ibus-x11</span> <span class="hljs-string">--kill-daemon</span>
<span class="hljs-string">elliot</span> <span class="hljs-number">1871 </span><span class="hljs-number">1365 </span><span class="hljs-number">0</span> <span class="hljs-number">11</span><span class="hljs-string">:25</span>    <span class="hljs-string">?</span> <span class="hljs-number">00</span><span class="hljs-string">:00:00</span> <span class="hljs-string">/usr/lib/ibus/ibus-portal</span>
<span class="hljs-string">.</span> 
<span class="hljs-string">.</span> 
<span class="hljs-string">.</span> 
</code></pre>
<p>输出的第一列列出了进程所有者的用户名。输出的第三列列出了<strong>父进程标识符</strong>（<strong>PPID</strong>）。那么，父进程是什么？</p>
<h1 id="父进程与子进程">父进程与子进程<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>父进程是启动了一个或多个子进程的进程。一个完美的例子将是您的终端和您的 bash shell；当您打开终端时，您的 bash shell 也会启动。</p>
<p>要获取进程的 PID，您可以使用<code>pgrep</code>命令后跟进程名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">pgrep process_name
</code></pre>
<p>例如，要获取您的终端进程的 PID，您可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pgrep terminal 
<span class="hljs-number">10009</span>
</code></pre>
<p>我的终端的 PID 是<code>10009</code>。现在，让我们获取 bash 进程的 PID：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pgrep bash 
<span class="hljs-number">10093</span>
</code></pre>
<p>我的 bash shell 的 PID 是<code>10093</code>。现在，您可以使用<code>-p</code>选项后跟 bash PID 来获取您的 bash 进程的信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-swift">elliot<span class="hljs-meta">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ ps <span class="hljs-operator">-</span>fp <span class="hljs-number">10093</span>
<span class="hljs-type">UID</span>     <span class="hljs-type">PID</span>   <span class="hljs-type">PPID</span>  <span class="hljs-type">C</span>  <span class="hljs-type">STIME</span>  <span class="hljs-type">TTY</span>   <span class="hljs-type">TIME</span>   <span class="hljs-type">CMD</span>
elliot <span class="hljs-number">10093</span> <span class="hljs-number">10009</span>  <span class="hljs-number">0</span>  <span class="hljs-number">13</span>:<span class="hljs-number">37</span> pts<span class="hljs-operator">/</span><span class="hljs-number">1</span> <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> bash
</code></pre>
<p>您可以从输出中看到，我的 bash 进程的 PPID 等于我的终端进程的 PID。这证明了终端进程已启动了 bash 进程。在这种情况下，bash 进程被称为终端进程的子进程：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/c2580a3e-58f9-4bee-a96a-f64ba220be44.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：父进程与子进程</p>
<p><code>top</code>命令是一个非常有用的命令，您可以使用它实时查看进程的信息。您可以查看其<code>man</code>页面以了解如何使用它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man top 
</code></pre>
<p>上述命令的输出如下截图所示：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/af6b849c-c266-4a45-8ac4-416ca8afc82e.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：top 命令</p>
<h1 id="前台与后台进程">前台与后台进程<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>Linux 中有两种类型的进程：</p>
<ul>
<li>
<p>前台进程</p>
</li>
<li>
<p>后台进程</p>
</li>
</ul>
<p>前台进程是附加到您的终端的进程。您必须等待前台进程完成，然后才能继续使用您的终端。</p>
<p>另一方面，后台进程是不附加到您的终端的进程，因此您可以在后台进程运行时使用您的终端。</p>
<p><code>yes</code>命令会重复输出跟在其后的任何字符串，直到被杀死：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">elliot@ubuntu-linux:~$ whatis yes
yes (<span class="hljs-number">1</span>)               - <span class="hljs-built_in">output</span> a <span class="hljs-built_in">string</span> repeatedly <span class="hljs-keyword">until</span> killed
</code></pre>
<p>例如，要在您的终端上重复输出单词<code>hello</code>，您可以运行命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">elliot@ubuntu-linux:~$ yes hello 
hello
hello 
hello 
hello 
hello 
hello 
hello 
hello 
hello 
hello
.
.
.
</code></pre>
<p>请注意，它将继续运行，您无法在终端上执行其他操作；这是前台进程的一个典型例子。要收回您的终端，您需要杀死该进程。您可以通过按以下<em>Ctrl</em> + <em>C</em>键组合来杀死该进程：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">hello 
hello 
hello 
hello 
hello
^C
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span>
</code></pre>
<p>一旦你按下<em>Ctrl</em> + <em>C</em>，进程将被终止，你可以继续使用你的终端。让我们做另一个例子；你可以使用<code>firefox</code>命令从你的终端启动 Firefox：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox
</code></pre>
<p>Firefox 浏览器将启动，但你将无法在终端上做任何事情直到关闭 Firefox；这是另一个前台进程的例子。现在，按下<em>Ctrl</em> + <em>C</em>来终止 Firefox 进程，这样你就可以重新使用你的终端了。</p>
<p>你可以通过添加&amp;字符来将 Firefox 作为后台进程启动，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox &amp;
[<span class="hljs-number">1</span>] <span class="hljs-number">3468</span>
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>Firefox 现在作为后台进程运行，你可以继续使用你的终端而不必关闭 Firefox。</p>
<h1 id="向进程发送信号">向进程发送信号<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以通过信号与进程进行交互和通信。有各种信号，每个信号都有不同的目的。要列出所有可用的信号，你可以运行<code>kill -L</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">kill</span> -L
<span class="hljs-number">1</span>) SIGHUP <span class="hljs-number">2</span>) SIGINT <span class="hljs-number">3</span>) SIGQUIT <span class="hljs-number">4</span>) SIGILL <span class="hljs-number">5</span>) SIGTRAP
<span class="hljs-number">6</span>) SIGABRT <span class="hljs-number">7</span>) SIGBUS <span class="hljs-number">8</span>) SIGFPE <span class="hljs-number">9</span>) SIGKILL <span class="hljs-number">10</span>) SIGUSR1
<span class="hljs-number">11</span>) SIGSEGV <span class="hljs-number">12</span>) SIGUSR2 <span class="hljs-number">13</span>) SIGPIPE <span class="hljs-number">14</span>) SIGALRM <span class="hljs-number">15</span>) SIGTERM
<span class="hljs-number">16</span>) SIGSTKFLT <span class="hljs-number">17</span>) SIGCHLD <span class="hljs-number">18</span>) SIGCONT <span class="hljs-number">19</span>) SIGSTOP <span class="hljs-number">20</span>) SIGTSTP
<span class="hljs-number">21</span>) SIGTTIN <span class="hljs-number">22</span>) SIGTTOU <span class="hljs-number">23</span>) SIGURG <span class="hljs-number">24</span>) SIGXCPU <span class="hljs-number">25</span>) SIGXFSZ
<span class="hljs-number">26</span>) SIGVTALRM <span class="hljs-number">27</span>) SIGPROF <span class="hljs-number">28</span>) SIGWINCH <span class="hljs-number">29</span>) SIGIO <span class="hljs-number">30</span>) SIGPWR
<span class="hljs-number">31</span>) SIGSYS <span class="hljs-number">34</span>) SIGRTMIN <span class="hljs-number">35</span>) SIGRTMIN+<span class="hljs-number">1</span> <span class="hljs-number">36</span>) SIGRTMIN+<span class="hljs-number">2</span> <span class="hljs-number">37</span>) SIGRTMIN+<span class="hljs-number">3</span>
<span class="hljs-number">38</span>) SIGRTMIN+<span class="hljs-number">4</span> <span class="hljs-number">39</span>) SIGRTMIN+<span class="hljs-number">5</span> <span class="hljs-number">40</span>) SIGRTMIN+<span class="hljs-number">6</span> <span class="hljs-number">41</span>) SIGRTMIN+<span class="hljs-number">7</span> <span class="hljs-number">42</span>) SIGRTMIN+<span class="hljs-number">8</span>
<span class="hljs-number">43</span>) SIGRTMIN+<span class="hljs-number">9</span> <span class="hljs-number">44</span>) SIGRTMIN+<span class="hljs-number">10</span> <span class="hljs-number">45</span>) SIGRTMIN+<span class="hljs-number">11</span> <span class="hljs-number">46</span>) SIGRTMIN+<span class="hljs-number">12</span> <span class="hljs-number">47</span>) SIGRTMIN+<span class="hljs-number">13</span>
<span class="hljs-number">48</span>) SIGRTMIN+<span class="hljs-number">14</span> <span class="hljs-number">49</span>) SIGRTMIN+<span class="hljs-number">15</span> <span class="hljs-number">50</span>) SIGRTMAX-<span class="hljs-number">14</span> <span class="hljs-number">51</span>) SIGRTMAX-<span class="hljs-number">13</span> <span class="hljs-number">52</span>) SIGRTMAX-<span class="hljs-number">12</span>
<span class="hljs-number">53</span>) SIGRTMAX-<span class="hljs-number">11</span> <span class="hljs-number">54</span>) SIGRTMAX-<span class="hljs-number">10</span> <span class="hljs-number">55</span>) SIGRTMAX-<span class="hljs-number">9</span> <span class="hljs-number">56</span>) SIGRTMAX-<span class="hljs-number">8</span> <span class="hljs-number">57</span>) SIGRTMAX-<span class="hljs-number">7</span>
<span class="hljs-number">58</span>) SIGRTMAX-<span class="hljs-number">6</span> <span class="hljs-number">59</span>) SIGRTMAX-<span class="hljs-number">5</span> <span class="hljs-number">60</span>) SIGRTMAX-<span class="hljs-number">4</span> <span class="hljs-number">61</span>) SIGRTMAX-<span class="hljs-number">3</span> <span class="hljs-number">62</span>) SIGRTMAX-<span class="hljs-number">2</span>
<span class="hljs-number">63</span>) SIGRTMAX-<span class="hljs-number">1</span> <span class="hljs-number">64</span>) SIGRTMAX
</code></pre>
<p>注意到每个信号都有一个数字值。例如，<code>19</code>是<code>SIGSTOP</code>信号的数字值。</p>
<p>为了了解信号的工作原理，让我们首先将 Firefox 作为后台进程启动：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox &amp;
[<span class="hljs-number">1</span>] <span class="hljs-number">4218</span>
</code></pre>
<p>注意到 Firefox 在我的系统上的 PID 是<code>4218</code>。我可以通过发送<code>SIGKILL</code>信号来终止 Firefox，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">kill</span> -SIGKILL <span class="hljs-number">4218</span>
[<span class="hljs-number">1</span>]+ Killed             firefox
</code></pre>
<p>这将立即关闭 Firefox。你也可以使用<code>SIGKILL</code>信号的数字值：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">kill</span> -<span class="hljs-number">9</span> <span class="hljs-number">4218</span>
</code></pre>
<p>一般来说，<code>kill</code>命令的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">kill</span> -SIGNAL PID
</code></pre>
<p>让我们再次将 Firefox 作为后台进程启动：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox &amp; 
[<span class="hljs-number">1</span>] <span class="hljs-number">4907</span>
</code></pre>
<p>注意到 Firefox 在我的系统上的 PID 是<code>4907</code>。现在继续在 Firefox 上播放 YouTube 视频。在你这样做之后，回到你的终端并向 Firefox 发送<code>SIGSTOP</code>信号：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">kill</span> -SIGSTOP <span class="hljs-number">4907</span>
</code></pre>
<p>你会注意到 Firefox 变得无响应，你的 YouTube 视频停止了；没问题 - 我们可以通过向 Firefox 发送<code>SIGCONT</code>信号来解决这个问题：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">kill</span> -SIGCONT <span class="hljs-number">4907</span>
</code></pre>
<p>这将使 Firefox 恢复，并且你的 YouTube 视频现在会继续播放。</p>
<p>到目前为止，你已经学会了三种信号：</p>
<ul>
<li>
<p><code>SIGKILL</code>：终止一个进程</p>
</li>
<li>
<p><code>SIGSTOP</code>：停止一个进程</p>
</li>
<li>
<p><code>SIGCONT</code>：继续一个进程</p>
</li>
</ul>
<p>你可以使用<code>pkill</code>命令使用进程名称而不是进程标识符。例如，要关闭你的终端进程，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pkill -<span class="hljs-number">9</span> terminal
</code></pre>
<p>现在让我们做一些有趣的事情；打开你的终端并运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>pkill -SIGSTOP terminal
</code></pre>
<p>哈哈！你的终端现在被冻结了。我会让你处理这个！</p>
<p>你可以向进程发送许多其他信号；查看以下<code>man</code>页面以了解每个信号的用途：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man signal
</code></pre>
<h1 id="处理进程优先级">处理进程优先级<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>每个进程都有一个由友好度量表确定的优先级，范围从<strong>-20</strong>到<strong>19</strong>。友好值越低，进程的优先级越高，所以友好值为<strong>-20</strong>给予进程最高的优先级。另一方面，友好值为<strong>19</strong>给予进程最低的优先级：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/9505008f-5775-4723-9777-c7c8e53e87ac.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：友好度量表</p>
<p>你可能会问自己：<em>我们为什么关心进程的优先级？</em>答案是效率！你的 CPU 就像一个繁忙餐厅里的服务员。一个高效的服务员会一直忙碌，确保所有顾客都得到满意的服务。同样，你的 CPU 分配时间给系统上运行的所有进程。优先级高的进程会得到 CPU 的更多关注。另一方面，优先级低的进程不会得到 CPU 的太多关注。</p>
<h2 id="查看进程优先级">查看进程优先级<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>将 Firefox 作为后台进程启动：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox &amp;
 [<span class="hljs-number">1</span>] <span class="hljs-number">6849</span>
</code></pre>
<p>你可以使用<code>ps</code>命令查看进程的友好值：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">ps</span> <span class="hljs-literal">-o</span> nice <span class="hljs-literal">-p</span> <span class="hljs-number">6849</span>
<span class="hljs-built_in">NI</span>
<span class="hljs-number">0</span>
</code></pre>
<p>我的 Firefox 进程有一个友好值为<strong>0</strong>，这是默认值（平均优先级）。</p>
<h2 id="为新进程设置优先级">为新进程设置优先级<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>你可以使用<code>nice</code>命令以你期望的优先级启动一个进程。<code>nice</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">nice</span> -n -20 →19 process
</code></pre>
<p>假设你要升级系统上的所有软件包；给这样一个进程尽可能高的优先级是明智的。为此，你可以以<code>root</code>用户身份运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:~# nice -n -<span class="hljs-number">20</span> apt-<span class="hljs-keyword">get</span> upgrade
</code></pre>
<h2 id="改变一个进程的优先级">改变一个进程的优先级<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>您可以使用<code>renice</code>命令更改正在运行的进程的优先级。我们已经看到 Firefox 正在以默认进程优先级零运行；让我们更改 Firefox 的优先级，并将其设置为可能的最低优先级：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># renice <span class="hljs-operator">-</span>n <span class="hljs-number">19</span> <span class="hljs-operator">-</span>p <span class="hljs-number">6849</span>
<span class="hljs-number">6849</span> (process ID) <span class="hljs-keyword">old</span> priority <span class="hljs-number">0</span>, <span class="hljs-keyword">new</span> priority <span class="hljs-number">19</span>
</code></pre>
<p>太棒了！现在我希望 Firefox 对我来说不会很慢；毕竟，我刚刚告诉我的 CPU 不要太关注 Firefox！</p>
<h1 id="proc-目录">/proc 目录<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>Linux 中的每个进程都由<code>/proc</code>中的一个目录表示。例如，如果您的 Firefox 进程的 PID 为<code>6849</code>，那么目录<code>/proc/6849</code>将表示 Firefox 进程：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># pgrep firefox</span>
<span class="hljs-number">6849</span>
root@ubuntu-linux:~<span class="hljs-comment"># cd /proc/6849</span>
root@ubuntu-linux:<span class="hljs-regexp">/proc/</span><span class="hljs-number">6849</span><span class="hljs-comment">#</span>
</code></pre>
<p>在进程的目录中，您可以找到关于进程的许多有价值和富有洞察力的信息。例如，您将找到一个名为<code>exe</code>的软链接，指向进程的可执行文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-built_in">proc</span>/<span class="hljs-number">6849</span><span class="hljs-comment"># ls -l exe</span>
lrwxrwxrwx <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">0</span> Nov <span class="hljs-number">21</span> <span class="hljs-number">18</span><span class="hljs-symbol">:</span><span class="hljs-number">02</span> exe -&gt; <span class="hljs-regexp">/usr/lib</span><span class="hljs-regexp">/firefox/firefox</span>
</code></pre>
<p>您还会找到<code>status</code>文件，其中存储了有关进程的各种信息；这些信息包括进程状态、PPID、进程使用的内存量等等：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-yaml"><span class="hljs-string">root@ubuntu-linux:/proc/6849#</span> <span class="hljs-string">head</span> <span class="hljs-string">status</span> 
<span class="hljs-attr">Name:</span> <span class="hljs-string">firefox</span>
<span class="hljs-attr">Umask:</span> <span class="hljs-number">0022</span>
<span class="hljs-attr">State:</span> <span class="hljs-string">S</span> <span class="hljs-string">(sleeping)</span> <span class="hljs-attr">Tgid:</span> <span class="hljs-number">6849</span>
<span class="hljs-attr">Ngid:</span> <span class="hljs-number">0</span>
<span class="hljs-attr">Pid:</span> <span class="hljs-number">6849</span>
<span class="hljs-attr">PPid:</span> <span class="hljs-number">1990</span>
<span class="hljs-attr">TracerPid:</span> <span class="hljs-number">0</span>
<span class="hljs-attr">Uid:</span> <span class="hljs-number">1000 </span><span class="hljs-number">1000 </span><span class="hljs-number">1000 </span><span class="hljs-number">1000</span>
<span class="hljs-attr">Gid:</span> <span class="hljs-number">1000 </span><span class="hljs-number">1000 </span><span class="hljs-number">1000 </span><span class="hljs-number">1000</span>
</code></pre>
<p><code>limits</code>文件显示了为进程设置的当前限制：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:/proc/<span class="hljs-number">7882</span><span class="hljs-comment"># cat limits</span>
Limit                  Soft Limit   Hard Limit   Units
Max cpu time           unlimited    unlimited    seconds
Max file size          unlimited    unlimited    <span class="hljs-built_in">bytes</span>
Max data size          unlimited    unlimited    <span class="hljs-built_in">bytes</span>
Max stack size         <span class="hljs-number">8388608</span>      unlimited    <span class="hljs-built_in">bytes</span>
Max core file size     <span class="hljs-number">0</span>            unlimited    <span class="hljs-built_in">bytes</span>
Max resident <span class="hljs-built_in">set</span>       unlimited    unlimited    <span class="hljs-built_in">bytes</span>
Max processes          <span class="hljs-number">15599</span>        <span class="hljs-number">15599</span>        processes
Max <span class="hljs-built_in">open</span> files         <span class="hljs-number">4096</span>         <span class="hljs-number">4096</span>         files
Max locked memory      <span class="hljs-number">16777216</span>     <span class="hljs-number">16777216</span>     <span class="hljs-built_in">bytes</span>
Max address space      unlimited    unlimited    <span class="hljs-built_in">bytes</span>
Max file locks         unlimited    unlimited    locks
Max pending signals    <span class="hljs-number">15599</span>        <span class="hljs-number">15599</span>        signals
Max msgqueue size      <span class="hljs-number">819200</span>       <span class="hljs-number">819200</span>       <span class="hljs-built_in">bytes</span>
Max nice priority      <span class="hljs-number">0</span>            <span class="hljs-number">0</span> 
Max realtime priority  <span class="hljs-number">0</span>            <span class="hljs-number">0</span> 
Max realtime timeout   unlimited    unlimited    us
</code></pre>
<p><code>fd</code>目录将显示进程当前在系统上正在使用的所有文件：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/b80b52ee-796b-450e-8186-b7e7ee62705c.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：fd 目录</p>
<p>您还可以使用<code>lsof</code>命令列出进程当前正在使用的所有文件：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/cccfab95-38f4-4dd3-b54a-8116d9054551.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 5：lsof 命令</p>
<h1 id="知识检查-9">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>列出您正在运行的终端的进程 ID。</p>
</li>
<li>
<p>列出您正在运行的终端的父进程 ID。</p>
</li>
<li>
<p>使用<code>kill</code>命令关闭您的终端。</p>
</li>
<li>
<p>将 Firefox 作为后台进程启动。</p>
</li>
<li>
<p>将 Firefox 的优先级更改为最高优先级。</p>
</li>
</ol>
<p>Sudo 的威力</p>
<p>在本章中，您将学习如何为系统上的非 root 用户授予权限，以便他们可以运行特权命令。在现实生活中，系统管理员不应该将 root 密码给系统上的任何用户。但是，系统上的一些用户可能需要运行特权命令；现在的问题是：<em>非 root 用户如何可以运行特权命令而不获取对系统的 root 访问权限？</em>好吧，让我来告诉你！</p>
<h1 id="第十五章特权命令的示例">第十五章：特权命令的示例<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您会发现大多数需要 root 权限的命令在<code>/sbin</code>和<code>/usr/sbin</code>目录中。让我们切换到用户<code>smurf</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - smurf 
<span class="hljs-symbol">Password:</span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>现在让我们看看<code>smurf</code>是否可以向系统添加新用户：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">smurf@ubuntu-linux:~$ useradd bob </span>
<span class="hljs-section">useradd: Permission denied.</span>
</code></pre>
<p>用户<code>smurf</code>收到了权限被拒绝的错误。那是因为<code>useradd</code>命令是一个特权命令。好吧！让我们尝试安装<code>terminator</code>软件包，我必须说这是一个非常酷的终端仿真器：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-fsharp">smurf<span class="hljs-operator">@</span>ubuntu<span class="hljs-operator">-</span>linux<span class="hljs-operator">:</span><span class="hljs-operator">~</span><span class="hljs-operator">$</span> apt<span class="hljs-operator">-</span><span class="hljs-built_in">get</span> install terminator
E<span class="hljs-operator">:</span> Could <span class="hljs-built_in">not</span> <span class="hljs-keyword">open</span> <span class="hljs-built_in">lock</span> file <span class="hljs-operator">/</span>var<span class="hljs-operator">/</span>lib<span class="hljs-operator">/</span>dpkg<span class="hljs-operator">/</span><span class="hljs-built_in">lock</span><span class="hljs-operator">-</span>frontend <span class="hljs-operator">-</span> <span class="hljs-keyword">open</span>
 (<span class="hljs-number">13</span><span class="hljs-operator">:</span> Permission denied)
E<span class="hljs-operator">:</span> Unable <span class="hljs-keyword">to</span> acquire the dpkg frontend <span class="hljs-built_in">lock</span> (<span class="hljs-operator">/</span>var<span class="hljs-operator">/</span>lib<span class="hljs-operator">/</span>dpkg<span class="hljs-operator">/</span><span class="hljs-built_in">lock</span><span class="hljs-operator">-</span>frontend), 
are you root<span class="hljs-operator">?</span>
</code></pre>
<p>再次！用户<code>smurf</code>遇到了错误。没有 root 权限生活就不好玩，我听到你在说。</p>
<h1 id="使用-sudo-授予权限">使用 sudo 授予权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>用户<code>smurf</code>现在非常难过，因为他无法在系统上添加用户<code>bob</code>或安装<code>terminator</code>软件包。您可以使用<code>visudo</code>命令授予用户<code>smurf</code>运行他想要的两个特权命令的权限。</p>
<p>以 root 用户身份运行<code>visudo</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># visudo</span>
</code></pre>
<p>这将打开文件<code>/etc/sudoers</code>，以便您可以编辑它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl"><span class="hljs-comment"># This file MUST be edited with the 'visudo' command as root. </span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># Please consider adding local content in /etc/sudoers.d/ instead of </span>
<span class="hljs-comment"># directly modifying this file.</span>
<span class="hljs-comment">#</span>
<span class="hljs-comment"># See the man page for details on how to write a sudoers file. </span>
<span class="hljs-comment">#</span>
Defaults           env_reset
Defaults           mail_badpass 
<span class="hljs-comment"># Host alias specification </span>
<span class="hljs-comment"># User alias specification </span>
<span class="hljs-comment"># Cmnd alias specification</span>
<span class="hljs-comment"># User privilege specification </span>
root               ALL=(ALL:ALL) ALL
<span class="hljs-comment"># Members of the admin group may gain root privileges</span>
%admin             ALL=(ALL) ALL
<span class="hljs-comment"># Allow members of group sudo to execute any command</span>
%sudo              ALL=(ALL:ALL) ALL
<span class="hljs-comment"># See sudoers(5) for more information on "#include" directives: </span>
<span class="hljs-comment">#includedir /etc/sudoers.d</span>
</code></pre>
<p>所有以井号字符开头的行都是注释，因此只关注这些行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root   <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>:<span class="hljs-keyword">ALL</span>) <span class="hljs-keyword">ALL</span>
<span class="hljs-operator">%</span>admin <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>) <span class="hljs-keyword">ALL</span>
<span class="hljs-operator">%</span>sudo  <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>:<span class="hljs-keyword">ALL</span>) <span class="hljs-keyword">ALL</span>
</code></pre>
<p>第一行<code>root ALL=(ALL:ALL) ALL</code>是一个规则，授予用户<code>root</code>在系统上运行所有命令的权限。</p>
<p>现在我们可以添加一个规则，授予用户<code>smurf</code>运行<code>useradd</code>命令的权限。<code>/etc/sudoers</code>文件中规则的语法规范如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql"><span class="hljs-keyword">user</span> hosts<span class="hljs-operator">=</span>(<span class="hljs-keyword">user</span>:<span class="hljs-keyword">group</span>) commands
</code></pre>
<p>现在将以下规则添加到<code>/etc/sudoers</code>文件中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">smurf    <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>)       <span class="hljs-operator">/</span>usr<span class="hljs-operator">/</span>sbin<span class="hljs-operator">/</span>useradd
</code></pre>
<p><code>ALL</code>关键字表示没有限制。请注意，您还必须包括命令的完整路径。现在，保存并退出文件，然后切换到用户<code>smurf</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su - smurf </span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>现在在<code>useradd</code>命令之前加上<code>sudo</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>sudo useradd bob 
[sudo] password <span class="hljs-keyword">for</span> <span class="hljs-symbol">smurf:</span> 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>
</code></pre>
<p>它将提示用户<code>smurf</code>输入密码；输入密码，就这样！用户<code>bob</code>已添加：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>id bob
uid=<span class="hljs-number">1005</span>(bob) gid=<span class="hljs-number">1005</span>(bob) groups=<span class="hljs-number">1005</span>(bob) 
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>酷！所以<code>smurf</code>现在可以向系统添加用户；但是，他仍然无法在系统上安装任何软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">smurf<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ sudo apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> install terminator
Sorry, <span class="hljs-keyword">user</span> smurf <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> allowed <span class="hljs-keyword">to</span> <span class="hljs-keyword">execute</span> <span class="hljs-string">'/usr/bin/apt-get install 
terminator'</span> <span class="hljs-keyword">as</span> root <span class="hljs-keyword">on</span> ubuntu<span class="hljs-operator">-</span>linux.
</code></pre>
<p>现在让我们来修复这个问题。切换回 root 用户，并运行<code>visudo</code>命令来编辑用户<code>smurf</code>的<code>sudo</code>规则：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-javascript">smurf <span class="hljs-variable constant_">ALL</span>=(<span class="hljs-variable constant_">ALL</span>) <span class="hljs-attr">NOPASSWD</span>: <span class="hljs-regexp">/usr/</span>sbin/useradd, <span class="hljs-regexp">/usr/</span>bin/apt-get install terminator
</code></pre>
<p>请注意，我还添加了<code>NOPASSWD</code>，这样<code>smurf</code>就不会被提示输入密码。我还添加了安装<code>terminator</code>软件包的命令。现在，保存并退出，然后切换回用户<code>smurf</code>，尝试安装<code>terminator</code>软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">smurf@ubuntu-linux:~$ sudo apt-get <span class="hljs-keyword">install </span>terminator 
Reading package lists... Done
<span class="hljs-keyword">Building </span>dependency tree
Reading state information... Done
The following packages were automatically <span class="hljs-keyword">installed </span><span class="hljs-keyword">and </span>are no longer required: 
 gsfonts-x11 <span class="hljs-keyword">java-common
</span>Use <span class="hljs-string">'sudo apt autoremove'</span> to remove them. 
The following NEW packages will <span class="hljs-keyword">be </span><span class="hljs-keyword">installed:
</span> terminator
</code></pre>
<p>成功！请注意，<code>sudo</code>规则只授予<code>smurf</code>安装<code>terminator</code>软件包的权限。如果他尝试安装其他软件包，他将收到错误提示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vbnet">smurf@ubuntu-linux:~$ sudo apt-<span class="hljs-keyword">get</span> install cmatrix
Sorry, user smurf <span class="hljs-built_in">is</span> <span class="hljs-built_in">not</span> allowed <span class="hljs-keyword">to</span> execute <span class="hljs-comment">'/usr/bin/apt-get install cmatrix' </span>
<span class="hljs-keyword">as</span> root <span class="hljs-keyword">on</span> ubuntu-linux.
</code></pre>
<h1 id="用户和命令别名">用户和命令别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用用户别名在<code>/etc/sudoers</code>文件中引用多个用户。例如，您可以创建一个名为<code>MANAGERS</code>的用户别名，其中包括<code>usersmurf</code>和<code>bob</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java"><span class="hljs-type">User_Alias</span> <span class="hljs-variable">MANAGERS</span> <span class="hljs-operator">=</span> smurf,bob
</code></pre>
<p>您可以使用命令别名将多个命令分组在一起。例如，您可以创建一个名为<code>USER_CMDS</code>的命令别名，其中包括<code>useradd</code>、<code>userdel</code>和<code>usermod</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-javascript"><span class="hljs-title class_">Cmnd</span>_Alias <span class="hljs-variable constant_">USER_CMDS</span> = <span class="hljs-regexp">/usr/</span>sbin/useradd, <span class="hljs-regexp">/usr/</span>sbin/userdel, <span class="hljs-regexp">/usr/</span>sbin/usermod
</code></pre>
<p>现在您可以同时使用别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">MANAGERS <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>) USER_CMDS
</code></pre>
<p>授予用户<code>smurf</code>和<code>bob</code>运行<code>useradd</code>、<code>userdel</code>和<code>usermod</code>命令的权限。</p>
<h1 id="组权限">组权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以在<code>/etc/sudoers</code>文件中指定组。组名前面加上百分号字符，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql"><span class="hljs-operator">%</span><span class="hljs-keyword">group</span> hosts<span class="hljs-operator">=</span>(<span class="hljs-keyword">user</span>:<span class="hljs-keyword">group</span>) commands
</code></pre>
<p>以下规则将授予<code>developers</code>组在系统上安装任何软件包的权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql"><span class="hljs-operator">%</span>developers <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>) NOPASSWD: <span class="hljs-operator">/</span>usr<span class="hljs-operator">/</span>bin<span class="hljs-operator">/</span>apt<span class="hljs-operator">-</span><span class="hljs-keyword">get</span> install
</code></pre>
<p>以下规则将授予<code>developers</code>组在系统上运行任何命令的权限：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql"><span class="hljs-operator">%</span>developers <span class="hljs-keyword">ALL</span><span class="hljs-operator">=</span>(<span class="hljs-keyword">ALL</span>) NOPASSWD: <span class="hljs-keyword">ALL</span>
</code></pre>
<h1 id="列出用户权限">列出用户权限<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可以使用命令<code>sudo -lU</code>来显示用户可以运行的<code>sudo</code>命令列表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">sudo -lU username 
</code></pre>
<p>例如，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># sudo -lU smurf</span>
Matching Defaults entries <span class="hljs-keyword">for</span> smurf <span class="hljs-keyword">on</span> ubuntu-linux: 
 env_reset, mail_badpass

User smurf may run the following commands <span class="hljs-keyword">on</span> ubuntu-linux:
 (ALL) NOPASSWD: /usr/sbin/useradd, /usr/bin/apt-<span class="hljs-keyword">get</span> install terminator
</code></pre>
<p>列出用户<code>smurf</code>可以运行的所有<code>sudo</code>命令。</p>
<p>如果用户不被允许运行任何<code>sudo</code>命令，则<code>sudo-lU</code>命令的输出将如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># sudo -lU rachel</span>
User rachel <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> allowed to run sudo <span class="hljs-keyword">on</span> ubuntu-linux.
</code></pre>
<h1 id="visudo-与etcsudoers">visudo 与/etc/sudoers<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可能已经注意到，我使用<code>visudo</code>命令编辑文件<code>/etc/sudoers</code>，您可能会问自己一个非常合理的问题：为什么不直接编辑文件<code>/etc/sudoers</code>而不使用<code>visudo</code>？好吧，我将以实际的方式回答您的问题。</p>
<p>首先，运行<code>visudo</code>命令并添加以下行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">THISLINE</span>=WRONG
</code></pre>
<p>现在尝试保存并退出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">root@ubuntu-linux:~# visudo
&gt;&gt;&gt; /etc/sudoers: syntax <span class="hljs-literal">error</span> near <span class="hljs-literal">line</span> <span class="hljs-number">14</span> &lt;&lt;&lt; 
What now?
Options are:
 (e)dit sudoers <span class="hljs-keyword">file</span> again
 e(x)it without saving changes <span class="hljs-keyword">to</span> sudoers <span class="hljs-keyword">file</span> 
 (Q)uit <span class="hljs-keyword">and</span> save changes <span class="hljs-keyword">to</span> sudoers <span class="hljs-keyword">file</span> (DANGER!)
What now?
</code></pre>
<p>正如您所看到的，<code>visudo</code>命令检测到错误，并指定了错误发生的行号。</p>
<p>为什么这很重要？好吧，如果您保存了带有错误的文件，<code>/etc/sudoers</code>中的所有<code>sudo</code>规则都将无法工作！让我们按<code>Q</code>保存更改，然后尝试列出用户<code>smurf</code>可以运行的<code>sudo</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vbnet">What now? Q
root@ubuntu-linux:~# sudo -lU smurf
&gt;&gt;&gt; /etc/sudoers: syntax <span class="hljs-keyword">error</span> near line <span class="hljs-number">14</span> &lt;&lt;&lt; 
<span class="hljs-symbol">sudo:</span> parse <span class="hljs-keyword">error</span> <span class="hljs-keyword">in</span> /etc/sudoers near line <span class="hljs-number">14</span> 
<span class="hljs-symbol">sudo:</span> no valid sudoers sources found, quitting 
<span class="hljs-symbol">sudo:</span> unable <span class="hljs-keyword">to</span> initialize policy plugin
</code></pre>
<p>我们遇到了一个错误，所有的<code>sudo</code>规则现在都被破坏了！返回并运行<code>visudo</code>命令，删除包含错误的行。</p>
<p>如果您直接编辑文件<code>/etc/sudoers</code>而不使用<code>visudo</code>命令，它将不会检查语法错误，这可能会导致灾难性后果，就像您看到的那样。因此，这里的经验法则是：在编辑<code>/etc/sudoers</code>文件时始终使用<code>visudo</code>。</p>
<h1 id="知识检查-10">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>添加一个<code>sudo</code>规则，使用户<code>smurf</code>可以运行<code>fdisk</code>命令。</p>
</li>
<li>
<p>添加一个<code>sudo</code>规则，使<code>developers</code>组可以运行<code>apt-get</code>命令。</p>
</li>
<li>
<p>列出用户<code>smurf</code>的所有<code>sudo</code>命令。</p>
</li>
</ol>
<p>网络出了什么问题？</p>
<p>当网络出现问题时，我们都会感到愤怒。没有连接到互联网，这个世界就没有乐趣。在本章中，你将学习 Linux 网络的基础知识。你还将学习如何检查两个主机之间的网络连接，并获得对 DNS 工作原理的实际理解，以及更多！</p>
<h1 id="第十六章测试网络连接">第十六章：测试网络连接<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在 Linux 机器上检查是否有互联网访问的简单方法是尝试连接互联网上的任何远程主机（服务器）。这可以通过使用<code>ping</code>命令来完成。一般来说，<code>ping</code>命令的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css">ping <span class="hljs-selector-attr">[options]</span> host
</code></pre>
<p>例如，要测试你是否能够到达<code>google.com</code>，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping google.com</span>
PING google.com (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">38.7</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">38.7</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">40.4</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">4</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">36.6</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">5</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">40.8</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">6</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">38.6</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">7</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">38.9</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">8</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">37.1</span> ms
^C
--- google.com ping statistics ---
<span class="hljs-number">8</span> packets transmitted, <span class="hljs-number">8</span> received, <span class="hljs-number">0</span>% packet loss, time 66ms 
rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">36.555</span>/<span class="hljs-number">38.724</span>/<span class="hljs-number">40.821</span>/<span class="hljs-number">1.344</span> ms
</code></pre>
<p><code>ping</code>命令发送一个叫做<strong>ICMP 回显请求</strong>的数据包（数据单位）到指定的主机，并等待主机发送一个叫做<strong>ICMP 回显回复</strong>的数据包来确认它确实收到了初始数据包。如果主机像我们在例子中看到的那样回复，那么就证明我们能够到达主机。这就像你给朋友家寄一个包裹，等待朋友发短信确认收到一样。</p>
<p>请注意，没有任何选项，<code>ping</code>命令会持续发送数据包，直到你按下<em>Ctrl</em> + <em>C</em>。</p>
<p>你可以使用<code>-c</code>选项来指定你想发送到主机的数据包数量。例如，只向<code>google.com</code>发送三个数据包，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping -c 3 google.com</span>
PING google.com (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.

<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">39.3</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">49.7</span> ms 
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> iad23s25-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>): icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">40.8</span> ms

--- google.com ping statistics ---
<span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> received, <span class="hljs-number">0</span>% packet loss, time 59ms rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">39.323</span>/<span class="hljs-number">43.267</span>/<span class="hljs-number">49.708</span>/<span class="hljs-number">4.595</span> ms
</code></pre>
<p>如果你没有连接到互联网，你将从<code>ping</code>命令得到以下输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# ping google.com
<span class="hljs-attribute">ping</span>: google.<span class="hljs-attribute">com</span>: Name <span class="hljs-keyword">or</span> service <span class="hljs-keyword">not</span> known
</code></pre>
<h1 id="列出你的网络接口">列出你的网络接口<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以通过查看<code>/sys/class/net</code>目录的内容来列出系统上可用的网络接口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:~# ls /sys/<span class="hljs-class"><span class="hljs-keyword">class</span>/<span class="hljs-title">net</span> </span>
eth0 lo wlan0
</code></pre>
<p>我的系统上有三个网络接口：</p>
<ol>
<li>
<p><code>eth0</code>：以太网接口</p>
</li>
<li>
<p><code>lo</code>：回环接口</p>
</li>
<li>
<p><code>wlan0</code>：Wi-Fi 接口</p>
</li>
</ol>
<p>请注意，根据你的计算机硬件，你可能会得到不同的网络接口名称。</p>
<h2 id="ip-命令">ip 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>你也可以使用<code>ip link show</code>命令查看系统上可用的网络接口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# ip link show
<span class="hljs-number">1</span>: <span class="hljs-attribute">lo</span>: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="hljs-number">65536</span> qdisc noqueue state UNKNOWN mode DEFAULT group default qlen <span class="hljs-number">1000</span>
 link/loopback <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> brd <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
<span class="hljs-number">2</span>: eth0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu <span class="hljs-number">1500</span> qdisc pfifo_fast state DOWN mode DEFAULT group default qlen <span class="hljs-number">1000</span>
 link/ether f0:<span class="hljs-attribute">de</span>:f1:d3:e1:e1 brd <span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:ff
<span class="hljs-number">3</span>: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="hljs-number">1500</span> qdisc mq state UP mode DORMANT group default qlen <span class="hljs-number">1000</span>
 link/ether <span class="hljs-number">10</span>:<span class="hljs-number">0</span><span class="hljs-attribute">b</span>:a9:<span class="hljs-number">6</span><span class="hljs-attribute">c</span>:<span class="hljs-number">89</span>:a0 brd <span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:ff
</code></pre>
<h2 id="nmcli-命令">nmcli 命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>我更喜欢的另一种方法是使用<code>nmcli</code>设备状态命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">root@ubuntu-linux:~# nmcli device <span class="hljs-built_in">status</span> 
DEVICE TYPE STATE CONNECTION
wlan0 wifi      connected   SASKTEL0206<span class="hljs-number">-5</span>G 
eth0  ethernet  unavailable <span class="hljs-comment">--</span>
lo    loopback  unmanaged   <span class="hljs-comment">--</span>
</code></pre>
<p>你可以从输出中看到每个网络接口的连接状态。我目前是通过我的 Wi-Fi 接口连接到互联网的。</p>
<h1 id="检查你的-ip-地址">检查你的 IP 地址<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>没有手机号码，你就不能给朋友打电话；同样，你的计算机需要一个 IP 地址才能连接到互联网。你可以使用许多不同的方法来检查你的机器的 IP 地址。你可以使用老式（但仍然流行的）<code>ifconfig</code>命令，后面跟着连接到互联网的网络接口的名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># ifconfig wlan0</span>
<span class="hljs-symbol">wlan0:</span> flags=<span class="hljs-number">4163</span>&lt;UP,<span class="hljs-keyword">BROADCAST,RUNNING,MULTICAST&gt; </span>mtu <span class="hljs-number">1500</span>
 inet <span class="hljs-number">172</span>.<span class="hljs-number">16</span>.<span class="hljs-number">1</span>.<span class="hljs-number">73</span> netmask <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">broadcast </span><span class="hljs-number">172</span>.<span class="hljs-number">16</span>.<span class="hljs-number">1</span>.<span class="hljs-number">255</span> 
       inet6 fe80::<span class="hljs-number">3101</span>:<span class="hljs-number">321</span>b:<span class="hljs-number">5</span>ec3:cf9 <span class="hljs-keyword">prefixlen </span><span class="hljs-number">64</span> <span class="hljs-keyword">scopeid </span><span class="hljs-number">0x20</span>&lt;link&gt; 
       ether <span class="hljs-number">10</span>:<span class="hljs-number">0</span>b:a9:<span class="hljs-number">6</span>c:<span class="hljs-number">89</span>:<span class="hljs-built_in">a0</span> txqueuelen <span class="hljs-number">1000</span> (Ethernet)
 RX packets <span class="hljs-number">265</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">27284</span> (<span class="hljs-number">26</span>.<span class="hljs-number">6</span> KiB)
 RX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> frame <span class="hljs-number">0</span>
 TX packets <span class="hljs-number">165</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">28916</span> (<span class="hljs-number">28</span>.<span class="hljs-number">2</span> KiB)
 TX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> carrier <span class="hljs-number">0</span> collisions <span class="hljs-number">0</span>
</code></pre>
<p>你也可以使用<code>-a</code>选项列出所有网络接口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># ifconfig -a</span>
<span class="hljs-symbol">eth0:</span> flags=<span class="hljs-number">4099</span>&lt;UP,<span class="hljs-keyword">BROADCAST,MULTICAST&gt; </span>mtu <span class="hljs-number">1500</span>
 ether f0:de:f1:d3:e1:e1 txqueuelen <span class="hljs-number">1000</span> (Ethernet) 
      RX packets <span class="hljs-number">0</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">0</span> (<span class="hljs-number">0</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">B)
</span> RX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> frame <span class="hljs-number">0</span>
 TX packets <span class="hljs-number">0</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">0</span> (<span class="hljs-number">0</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">B)
</span> TX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> carrier <span class="hljs-number">0</span> collisions <span class="hljs-number">0</span> 
      device interrupt <span class="hljs-number">20</span> memory <span class="hljs-number">0xf2500000</span>-f2520000
<span class="hljs-symbol">
lo:</span> flags=<span class="hljs-number">73</span>&lt;UP,LOOPBACK,RUNNING&gt; mtu <span class="hljs-number">65536</span>
 inet <span class="hljs-number">127</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">1</span> netmask <span class="hljs-number">255</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>.<span class="hljs-number">0</span>
 inet6 ::<span class="hljs-number">1</span> <span class="hljs-keyword">prefixlen </span><span class="hljs-number">128</span> <span class="hljs-keyword">scopeid </span><span class="hljs-number">0x10</span>&lt;host&gt;
 loop txqueuelen <span class="hljs-number">1000</span> (Local Loopback) 
     RX packets <span class="hljs-number">4</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">156</span> (<span class="hljs-number">156</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">B)
</span> RX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> frame <span class="hljs-number">0</span>
 TX packets <span class="hljs-number">4</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">156</span> (<span class="hljs-number">156</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">B)
</span> TX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> carrier <span class="hljs-number">0</span> collisions <span class="hljs-number">0</span>
<span class="hljs-symbol">
wlan0:</span> flags=<span class="hljs-number">4163</span>&lt;UP,<span class="hljs-keyword">BROADCAST,RUNNING,MULTICAST&gt; </span>mtu <span class="hljs-number">1500</span>
 inet <span class="hljs-number">172</span>.<span class="hljs-number">16</span>.<span class="hljs-number">1</span>.<span class="hljs-number">73</span> netmask <span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">255</span>.<span class="hljs-number">0</span> <span class="hljs-keyword">broadcast </span><span class="hljs-number">172</span>.<span class="hljs-number">16</span>.<span class="hljs-number">1</span>.<span class="hljs-number">255</span> 
     inet6 fe80::<span class="hljs-number">3101</span>:<span class="hljs-number">321</span>b:<span class="hljs-number">5</span>ec3:cf9 <span class="hljs-keyword">prefixlen </span><span class="hljs-number">64</span> <span class="hljs-keyword">scopeid </span><span class="hljs-number">0x20</span>&lt;link&gt; 
     ether <span class="hljs-number">10</span>:<span class="hljs-number">0</span>b:a9:<span class="hljs-number">6</span>c:<span class="hljs-number">89</span>:<span class="hljs-built_in">a0</span> txqueuelen <span class="hljs-number">1000</span> (Ethernet)
 RX packets <span class="hljs-number">482</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">45500</span> (<span class="hljs-number">44</span>.<span class="hljs-number">4</span> KiB)
 RX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> frame <span class="hljs-number">0</span>
 TX packets <span class="hljs-number">299</span> <span class="hljs-keyword">bytes </span><span class="hljs-number">57788</span> (<span class="hljs-number">56</span>.<span class="hljs-number">4</span> KiB)
 TX errors <span class="hljs-number">0</span> dropped <span class="hljs-number">0</span> overruns <span class="hljs-number">0</span> carrier <span class="hljs-number">0</span> collisions <span class="hljs-number">0</span>
</code></pre>
<p>你可以从输出中看到，我只通过我的 Wi-Fi 接口（<code>wlan0</code>）连接到互联网，我的 IP 地址是<code>172.16.1.73</code>。</p>
<p><strong>回环是什么？</strong></p>
<p>回环（或<code>lo</code>）是计算机用来与自身通信的虚拟接口；它主要用于故障排除。回环接口的 IP 地址是<code>127.0.0.1</code>，如果你想 ping 自己！尽管 ping <code>127.0.0.1</code>。</p>
<p>你也可以使用更新的<code>ip</code>命令来检查你的机器的 IP 地址。例如，你可以运行<code>ip address show</code>命令来列出并显示所有的网络接口的状态：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# ip address show
<span class="hljs-number">1</span>: <span class="hljs-attribute">lo</span>: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu <span class="hljs-number">65536</span> qdisc noqueue state UNKNOWN 
    link/loopback <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span> brd <span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>:<span class="hljs-number">00</span>
 inet <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span>/<span class="hljs-number">8</span> scope host lo
 valid_lft forever preferred_lft forever 
    inet6 ::<span class="hljs-number">1</span>/<span class="hljs-number">128</span> scope host
 valid_lft forever preferred_lft forever
<span class="hljs-number">2</span>: eth0: &lt;NO-CARRIER,BROADCAST,MULTICAST,UP&gt; mtu <span class="hljs-number">1500</span> qdisc pfifo_fast state 
        DOWN link/ether f0:<span class="hljs-attribute">de</span>:f1:d3:e1:e1 brd <span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:ff
<span class="hljs-number">3</span>: wlan0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu <span class="hljs-number">1500</span> qdisc mq state 
    UP link/ether <span class="hljs-number">10</span>:<span class="hljs-number">0</span><span class="hljs-attribute">b</span>:a9:<span class="hljs-number">6</span><span class="hljs-attribute">c</span>:<span class="hljs-number">89</span>:a0 brd <span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:<span class="hljs-attribute">ff</span>:ff
 inet <span class="hljs-number">172.16</span>.<span class="hljs-number">1.73</span>/<span class="hljs-number">24</span> brd <span class="hljs-number">172.16</span>.<span class="hljs-number">1.255</span> scope global dynamic 
      noprefixroute wlan0 valid_lft <span class="hljs-number">85684s</span>ec preferred_lft <span class="hljs-number">85684s</span>ec
 inet6 fe80::<span class="hljs-number">3101</span>:<span class="hljs-number">321</span><span class="hljs-attribute">b</span>:<span class="hljs-number">5</span>ec3:cf9/<span class="hljs-number">64</span> scope link noprefixroute 
      valid_lft forever preferred_lft forever
</code></pre>
<h1 id="检查你的网关地址">检查你的网关地址<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你的计算机从路由器那里获取了一个 IP 地址；这个路由器也被称为默认网关，因为它将你连接到外部世界（互联网）。这些路由器随处可见；它们在你家、咖啡店、学校、医院等等。</p>
<p>你可以通过运行以下任一命令来检查你的默认网关的 IP 地址：</p>
<ul>
<li>
<p><code>route -n</code></p>
</li>
<li>
<p><code>netstat -rn</code></p>
</li>
<li>
<p><code>ip route</code></p>
</li>
</ul>
<p>让我们从第一个命令<code>route -n</code>开始：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># route <span class="hljs-operator">-</span>n Kernel IP routing <span class="hljs-keyword">table</span>
Destination Gateway       Genmask       Flags  Metric <span class="hljs-keyword">Ref</span> Use Iface
<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>     <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span>  <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>       UG     <span class="hljs-number">600</span>     <span class="hljs-number">0</span>   <span class="hljs-number">0</span> wlan0
<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>  <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>       <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span> U      <span class="hljs-number">600</span>     <span class="hljs-number">0</span>   <span class="hljs-number">0</span> wlan0
</code></pre>
<p>您可以从输出中看到我的默认网关 IP 地址为<code>172.16.1.254</code>。现在让我们尝试第二个命令<code>netstat -rn</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># netstat <span class="hljs-operator">-</span>rn 
Kernel IP routing <span class="hljs-keyword">table</span>
Destination   Gateway      Genmask       Flags  MSS <span class="hljs-keyword">Window</span> irtt Iface
<span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>       <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span> <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>       UG     <span class="hljs-number">0</span>   <span class="hljs-number">0</span>      <span class="hljs-number">0</span>    wlan0
<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.0</span>    <span class="hljs-number">0.0</span><span class="hljs-number">.0</span><span class="hljs-number">.0</span>      <span class="hljs-number">255.255</span><span class="hljs-number">.255</span><span class="hljs-number">.0</span> U      <span class="hljs-number">0</span>   <span class="hljs-number">0</span>      <span class="hljs-number">0</span>    wlan0
</code></pre>
<p>输出几乎看起来相同。现在输出与第三个命令<code>ip route</code>有一点不同：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># ip route</span>
default via <span class="hljs-number">172.16</span>.<span class="hljs-number">1.254</span> dev wlan<span class="hljs-number">0</span> proto dhcp metric <span class="hljs-number">600</span>
<span class="hljs-number">172.16</span>.<span class="hljs-number">1.0</span>/<span class="hljs-number">24</span> dev wlan<span class="hljs-number">0</span> proto kernel scope <span class="hljs-keyword">link</span> src <span class="hljs-number">172.16</span>.<span class="hljs-number">1.73</span> metric <span class="hljs-number">600</span>
</code></pre>
<p>默认网关 IP 地址显示在第一行：默认通过<code>172.16.1.254</code>。您还应该能够 ping 默认网关：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping -c 2 172.16.1.254</span>
PING <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">1.38</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">1.62</span> ms

--- <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span> ping statistics ---
<span class="hljs-number">2</span> packets transmitted, <span class="hljs-number">2</span> received, <span class="hljs-number">0</span>% packet loss, time 3ms rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">1.379</span>/<span class="hljs-number">1.501</span>/<span class="hljs-number">1.624</span>/<span class="hljs-number">0.128</span> ms
</code></pre>
<h1 id="使用-traceroute-飞行">使用 traceroute 飞行<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您现在已经准备好离开家去上班了。您必须通过不同的街道最终到达目的地，对吧？嗯，这与您尝试在互联网上到达主机（网站）时非常相似；您采取的路线从默认网关开始，以目的地结束。</p>
<p>您可以使用<code>traceroute</code>命令跟踪到任何目的地的路由。<code>traceroute</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">traceroute destination
</code></pre>
<p>例如，您可以通过运行以下命令跟踪从您的计算机到<code>google.com</code>的路由：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># traceroute google.com</span>
traceroute to google.com (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>), <span class="hljs-number">30</span> hops max, <span class="hljs-number">60</span> <span class="hljs-built_in">byte</span> packets
 <span class="hljs-number">1</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.254</span>) <span class="hljs-number">15.180</span> ms <span class="hljs-number">15.187</span> ms <span class="hljs-number">15.169</span> ms
 <span class="hljs-number">2</span> <span class="hljs-number">207</span><span class="hljs-number">-47</span><span class="hljs-number">-195</span><span class="hljs-number">-169.</span>ngai.<span class="hljs-keyword">static</span>.sasknet.sk.ca (<span class="hljs-number">207.47</span><span class="hljs-number">.195</span><span class="hljs-number">.169</span>) <span class="hljs-number">24.059</span> ms
 <span class="hljs-number">3</span> <span class="hljs-number">142.165</span><span class="hljs-number">.0</span><span class="hljs-number">.110</span> (<span class="hljs-number">142.165</span><span class="hljs-number">.0</span><span class="hljs-number">.110</span>) <span class="hljs-number">50.060</span> ms <span class="hljs-number">54.305</span> ms <span class="hljs-number">54.903</span> ms
 <span class="hljs-number">4</span> <span class="hljs-number">72.14</span><span class="hljs-number">.203</span><span class="hljs-number">.189</span> (<span class="hljs-number">72.14</span><span class="hljs-number">.203</span><span class="hljs-number">.189</span>) <span class="hljs-number">53.720</span> ms <span class="hljs-number">53.997</span> ms <span class="hljs-number">53.948</span> ms
 <span class="hljs-number">5</span> <span class="hljs-number">108.170</span><span class="hljs-number">.250</span><span class="hljs-number">.241</span> (<span class="hljs-number">108.170</span><span class="hljs-number">.250</span><span class="hljs-number">.241</span>) <span class="hljs-number">54.185</span> ms <span class="hljs-number">35.506</span> ms <span class="hljs-number">108.170</span><span class="hljs-number">.250</span><span class="hljs-number">.225</span>
 <span class="hljs-number">6</span> <span class="hljs-number">216.239</span><span class="hljs-number">.35</span><span class="hljs-number">.233</span> (<span class="hljs-number">216.239</span><span class="hljs-number">.35</span><span class="hljs-number">.233</span>) <span class="hljs-number">37.005</span> ms <span class="hljs-number">35.729</span> ms <span class="hljs-number">38.655</span> ms
 <span class="hljs-number">7</span> yyz10s14-<span class="hljs-keyword">in</span>-f14<span class="hljs-number">.1e100</span>.net (<span class="hljs-number">172.217</span><span class="hljs-number">.1</span><span class="hljs-number">.14</span>) <span class="hljs-number">41.739</span> ms <span class="hljs-number">41.667</span> ms <span class="hljs-number">41.581</span> ms
</code></pre>
<p>正如您所看到的，我的机器花了七次旅行（跳跃）才到达我的最终目的地<code>google.com</code>。请注意，第一跳是我的默认网关，最后一跳是目的地。</p>
<p>当您在解决连接问题时，<code>traceroute</code>命令非常有用。例如，要到达特定目的地可能需要很长时间；在这种情况下，<code>traceroute</code>可以帮助您检测到达目的地路径上的任何故障点。</p>
<h1 id="破坏您的-dns">破坏您的 DNS<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>互联网上的每个网站（目的地）都必须有一个 IP 地址。然而，我们人类对数字不太擅长，所以我们发明了<strong>域名系统</strong>（<strong>DNS</strong>）。DNS 的主要功能是将名称（域名）与 IP 地址关联起来；这样，我们在浏览互联网时就不需要记住 IP 地址了...感谢上帝的 DNS！</p>
<p>每次您在浏览器上输入域名时，DNS 都会将（解析）域名转换为其相应的 IP 地址。您的 DNS 服务器的 IP 地址存储在文件<code>/etc/resolv.conf</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/resolv.conf </span>
<span class="hljs-comment"># Generated by NetworkManager</span>
nameserver <span class="hljs-number">142.165</span>.<span class="hljs-number">200.5</span>
</code></pre>
<p>我正在使用由我的<strong>互联网服务提供商</strong>（<strong>ISP</strong>）提供的 DNS 服务器<code>142.165.200.5</code>。您可以使用<code>nslookup</code>命令来查看 DNS 的工作情况。<code>nslookup</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">nslookup domain_name
</code></pre>
<p><code>nslookup</code>命令使用 DNS 获取域名的 IP 地址。例如，要获取<code>facebook.com</code>的 IP 地址，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# nslookup facebook.com 
<span class="hljs-attribute">Server</span>: <span class="hljs-number">142.165</span>.<span class="hljs-number">200.5</span>
<span class="hljs-attribute">Address</span>: <span class="hljs-number">142.165</span>.<span class="hljs-number">200.5</span>#<span class="hljs-number">53</span>

Non-authoritative <span class="hljs-attribute">answer</span>:
<span class="hljs-attribute">Name</span>: facebook.com 
<span class="hljs-attribute">Address</span>: <span class="hljs-number">157.240</span>.<span class="hljs-number">3.35</span> 
<span class="hljs-attribute">Name</span>: facebook.com
<span class="hljs-attribute">Address</span>: <span class="hljs-number">2</span>a03:<span class="hljs-number">2880</span>:f101:<span class="hljs-number">83</span>:<span class="hljs-attribute">face</span>:b00<span class="hljs-attribute">c</span>:<span class="hljs-number">0</span>:<span class="hljs-number">25</span>de
</code></pre>
<p>请注意，它在输出的第一行显示了我的 DNS 服务器的 IP 地址。您还可以看到<code>facebook.com</code>的 IP 地址<code>157.240.3.35</code>。</p>
<p>您还可以 ping<code>facebook.com</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping -c 2 facebook.com</span>
PING facebook.com (<span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> edge-star-mini-shv-01-sea1.facebook.com (<span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>): 
icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">34.6</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> edge-star-mini-shv-01-sea1.facebook.com (<span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>): 
icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">33.3</span> ms

--- facebook.com ping statistics ---

<span class="hljs-number">2</span> packets transmitted, <span class="hljs-number">2</span> received, <span class="hljs-number">0</span>% packet loss, time 2ms 
rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">33.316</span>/<span class="hljs-number">33.963</span>/<span class="hljs-number">34.611</span>/<span class="hljs-number">0.673</span> ms
</code></pre>
<p>现在让我们破坏一切！我妈妈曾经告诉我，我必须破坏一切，这样我才能理解它们是如何工作的。让我们看看没有 DNS 的生活是什么样子，通过清空文件<code>/etc/resolv.conf</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># echo &gt; /etc/resolv.conf </span>
root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/resolv.conf</span>

root@ubuntu-linux:~<span class="hljs-comment">#</span>
</code></pre>
<p>现在让我们对<code>facebook.com</code>进行<code>nslookup</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># nslookup facebook.com</span>
</code></pre>
<p>您会看到它挂起，因为它无法再解析域名。现在让我们尝试 ping<code>facebook.com</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# ping facebook.com
<span class="hljs-attribute">ping</span>: facebook.<span class="hljs-attribute">com</span>: Temporary failure in name <span class="hljs-attribute">resolution</span>
</code></pre>
<p>您会收到错误消息<code>名称解析临时失败</code>，这是说您的 DNS 出了问题的一种花哨方式！但是，您仍然可以通过使用其 IP 地址来 ping<code>facebook.com</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping -c 2 157.240.3.35</span>
PING <span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span> (<span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>: icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">134</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span>: icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">55</span> time=<span class="hljs-number">34.4</span> ms

--- <span class="hljs-number">157.240</span><span class="hljs-number">.3</span><span class="hljs-number">.35</span> ping statistics ---
<span class="hljs-number">2</span> packets transmitted, <span class="hljs-number">2</span> received, <span class="hljs-number">0</span>% packet loss, time 2ms 
rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">34.429</span>/<span class="hljs-number">84.150</span>/<span class="hljs-number">133.872</span>/<span class="hljs-number">49.722</span> ms
</code></pre>
<p>让我们修复我们的 DNS，但这次我们将不使用我们的 ISP 的 DNS 服务器；相反，我们将使用 Google 的公共 DNS 服务器<code>8.8.8.8</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># echo "nameserver 8.8.8.8" &gt; /etc/resolv.conf </span>
root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/resolv.conf</span>
nameserver <span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span>
</code></pre>
<p>现在让我们再次对<code>facebook.com</code>进行<code>nslookup</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# nslookup facebook.com <span class="hljs-attribute">Server</span>: <span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span>
<span class="hljs-attribute">Address</span>: <span class="hljs-number">8.8</span>.<span class="hljs-number">8.8</span>#<span class="hljs-number">53</span>

Non-authoritative <span class="hljs-attribute">answer</span>:
<span class="hljs-attribute">Name</span>: facebook.com 
<span class="hljs-attribute">Address</span>: <span class="hljs-number">31.13</span>.<span class="hljs-number">80.36</span> 
<span class="hljs-attribute">Name</span>: facebook.com
<span class="hljs-attribute">Address</span>: <span class="hljs-number">2</span>a03:<span class="hljs-number">2880</span>:f10<span class="hljs-attribute">e</span>:<span class="hljs-number">83</span>:<span class="hljs-attribute">face</span>:b00<span class="hljs-attribute">c</span>:<span class="hljs-number">0</span>:<span class="hljs-number">25</span>de
</code></pre>
<p>请注意，我的活动 DNS 现在已更改为<code>8.8.8.8</code>。我还得到了<code>facebook.com</code>的不同 IP 地址，这是因为 Facebook 在世界各地的许多不同服务器上运行。</p>
<h1 id="更改您的主机名">更改您的主机名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>每个网站都有一个在互联网上唯一标识它的域名；同样，计算机有一个在网络上唯一标识它的主机名。</p>
<p>您计算机的主机名存储在文件<code>/etc/hostname</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/hostname </span>
ubuntu-linux
</code></pre>
<p>您可以使用主机名来访问同一网络（子网）中的其他计算机。例如，我有另一台计算机，主机名为<code>backdoor</code>，目前正在运行，我可以 ping 它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping backdoor</span>
PING backdoor (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span>): icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">3.27</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span>): icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">29.3</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span>): icmp_seq=<span class="hljs-number">3</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">51.4</span> ms
^C
--- backdoor ping statistics ---
<span class="hljs-number">3</span> packets transmitted, <span class="hljs-number">3</span> received, <span class="hljs-number">0</span>% packet loss, time 20ms 
rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">3.272</span>/<span class="hljs-number">27.992</span>/<span class="hljs-number">51.378</span>/<span class="hljs-number">19.662</span> ms
</code></pre>
<p>请注意，<code>backdoor</code>位于相同的网络（子网）并且具有 IP 地址<code>172.16.1.67</code>。我也可以 ping 自己：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># ping ubuntu-linux</span>
PING ubuntu-linux (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.73</span>) <span class="hljs-number">56</span>(<span class="hljs-number">84</span>) <span class="hljs-built_in">bytes</span> of data.
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.73</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.73</span>): icmp_seq=<span class="hljs-number">1</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.025</span> ms
<span class="hljs-number">64</span> <span class="hljs-built_in">bytes</span> <span class="hljs-keyword">from</span> <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.73</span> (<span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.73</span>): icmp_seq=<span class="hljs-number">2</span> ttl=<span class="hljs-number">64</span> time=<span class="hljs-number">0.063</span> ms
^C
--- ubuntu-linux ping statistics ---
<span class="hljs-number">2</span> packets transmitted, <span class="hljs-number">2</span> received, <span class="hljs-number">0</span>% packet loss, time 14ms 
rtt <span class="hljs-built_in">min</span>/avg/<span class="hljs-built_in">max</span>/mdev = <span class="hljs-number">0.025</span>/<span class="hljs-number">0.044</span>/<span class="hljs-number">0.063</span>/<span class="hljs-number">0.019</span> ms
</code></pre>
<p>这是一种聪明的方法来显示您计算机的 IP 地址-简单地 ping 自己！</p>
<p>您可以使用<code>hostnamectl</code>命令来查看和设置计算机的主机名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# hostnamectl 
    Static <span class="hljs-attribute">hostname</span>: ubuntu-linux
 Icon <span class="hljs-attribute">name</span>: computer-vm 
            <span class="hljs-attribute">Chassis</span>: vm
 Machine <span class="hljs-attribute">ID</span>: <span class="hljs-number">106</span>fd80252e541faafa4e54a250d1216 
            Boot <span class="hljs-attribute">ID</span>: c5508514af114b4b80c55d4267c25dd4
 <span class="hljs-attribute">Virtualization</span>: oracle
 Operating <span class="hljs-attribute">System</span>: Ubuntu <span class="hljs-number">18.04</span>.<span class="hljs-number">3</span> LTS 
             <span class="hljs-attribute">Kernel</span>: Linux <span class="hljs-number">4.15</span>.<span class="hljs-number">0</span>-<span class="hljs-number">66</span>-generic
 <span class="hljs-attribute">Architecture</span>: x86-<span class="hljs-number">64</span>
</code></pre>
<p>要更改计算机的主机名，您可以使用<code>hostnamectl set-hostname</code>命令，然后跟上新的主机名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp">hostnamectl set-hostname new_hostname
</code></pre>
<p>例如，您可以通过运行以下命令将计算机的主机名更改为<code>myserver</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># hostnamectl set-hostname myserver </span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-comment"># su -</span>
root<span class="hljs-variable">@myserver</span><span class="hljs-symbol">:~</span><span class="hljs-comment">#</span>
</code></pre>
<p>请记住，您需要打开一个新的 shell 会话，以便您的 shell 提示显示新的主机名。您还可以看到文件<code>/etc/hostname</code>已更新，因为它包含新的主机名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cat /etc/hostname </span>
myserver
</code></pre>
<h1 id="重新启动您的网络接口">重新启动您的网络接口<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>这可能是一种被滥用的方法，但有时重新启动是许多与计算机相关的问题的最快解决方法！我自己也常常滥用重新启动解决大部分计算机问题。</p>
<p>您可以使用<code>ifconfig</code>命令将网络接口关闭；您必须在网络接口名称后面跟随<code>down</code>标志，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-x86asm">ifconfig interface_name <span class="hljs-meta">down</span>
</code></pre>
<p>例如，我可以通过运行以下命令关闭我的 Wi-Fi 接口<code>wlan0</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@myserver</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># ifconfig wlan0 down</span>
</code></pre>
<p>您可以使用<code>up</code>标志来启用网络接口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-x86asm">ifconfig interface_name <span class="hljs-meta">up</span>
</code></pre>
<p>例如，我可以通过运行以下命令重新启动我的 Wi-Fi 接口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@myserver</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># ifconfig wlan0 up</span>
</code></pre>
<p>您可能还希望同时重新启动所有网络接口。这可以通过以下方式重新启动<code>NetworkManager</code>服务来完成：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@myserver</span><span class="hljs-symbol">:~</span><span class="hljs-comment"># systemctl restart NetworkManager</span>
</code></pre>
<p>现在是时候通过一个可爱的知识检查练习来测试您对 Linux 网络的理解了。</p>
<h1 id="知识检查-11">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>将您的主机名更改为<code>darkarmy</code>。</p>
</li>
<li>
<p>显示您的默认网关的 IP 地址。</p>
</li>
<li>
<p>从您的计算机到<code>www.ubuntu.com</code>的路由跟踪。</p>
</li>
<li>
<p>显示您的 DNS 的 IP 地址。</p>
</li>
<li>
<p>显示<code>www.distrowatch.com</code>的 IP 地址。</p>
</li>
<li>
<p>关闭您的以太网接口。</p>
</li>
<li>
<p>重新启动您的以太网接口。</p>
</li>
</ol>
<p>Bash 脚本很有趣</p>
<p>在 Linux 中完成特定任务时，你经常会发现自己一遍又一遍地运行相同的一组命令。这个过程会浪费很多宝贵的时间。在本章中，你将学习如何创建 bash 脚本，以便在 Linux 中更加高效。</p>
<h1 id="第十七章创建简单脚本">第十七章：创建简单脚本<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们的第一个 bash 脚本将是一个简单的脚本，它将在屏幕上输出一行“你好，朋友！”。在艾略特的主目录中，创建一个名为<code>hello.sh</code>的文件，并插入以下两行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> hello.sh 
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello Friend!"</span>
</code></pre>
<p>现在我们需要将脚本设置为可执行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">chmod</span> a+<span class="hljs-keyword">x</span> hello.sh
</code></pre>
<p>最后，运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./hello.sh 
Hello Friend!
</code></pre>
<p>恭喜！你现在已经创建了你的第一个 bash 脚本！让我们花一分钟时间讨论一些事情；每个 bash 脚本必须做到以下几点：</p>
<ul>
<li>
<p><code>#!/bin/bash</code></p>
</li>
<li>
<p>要可执行</p>
</li>
</ul>
<p>你必须在任何 bash 脚本的第一行插入<code>#!/bin/bash</code>；字符序列<code>#!</code>被称为 shebang 或 hashbang，后面跟着 bash shell 的路径。</p>
<h1 id="path-变量">PATH 变量<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可能已经注意到我使用了<code>./hello.sh</code>来运行脚本；如果省略前导的<code>./</code>，你会得到一个错误：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ hello.sh </span>
<span class="hljs-section">hello.sh: command not found</span>
</code></pre>
<p>shell 找不到命令<code>hello.sh</code>。当你在终端上运行一个命令时，shell 会在存储在<code>PATH</code>变量中的一组目录中寻找该命令。</p>
<p>你可以使用<code>echo</code>命令查看你的<code>PATH</code>变量的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ echo $PATH
/usr/local/<span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">bin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">bin</span>:<span class="hljs-regexp">/sbin:/</span>bin
</code></pre>
<p>冒号字符分隔每个目录的路径。你不需要包括这些目录中任何命令或脚本（或任何可执行文件）的完整路径。到目前为止，你学到的所有命令都驻留在<code>/bin</code>和<code>/sbin</code>中，它们都存储在你的<code>PATH</code>变量中。因此，你可以运行<code>pwd</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">pwd</span>
/home/elliot
</code></pre>
<p>没有必要包含它的完整路径：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ /bin/pwd
/home/elliot
</code></pre>
<p>好消息是你可以很容易地将一个目录添加到你的<code>PATH</code>变量中。例如，要将<code>/home/elliot</code>添加到你的<code>PATH</code>变量中，你可以使用<code>export</code>命令如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>export PATH=<span class="hljs-variable">$PATH</span><span class="hljs-symbol">:/home/elliot</span>
</code></pre>
<p>现在你不需要前导的<code>./</code>来运行<code>hello.sh</code>脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>hello.sh 
Hello Friend!
</code></pre>
<p>它将运行，因为 shell 现在也在<code>/home/elliot</code>目录中寻找可执行文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ echo $PATH
/usr/local/<span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span>local/<span class="hljs-attr">bin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">sbin</span>:<span class="hljs-regexp">/usr/</span><span class="hljs-attr">bin</span>:<span class="hljs-regexp">/sbin:/</span><span class="hljs-attr">bin</span>:<span class="hljs-regexp">/home/</span>elliot
</code></pre>
<p>好了！现在让我们创建几个更多的 bash 脚本。我们将创建一个名为<code>hello2.sh</code>的脚本，它打印出“你好，朋友！”然后显示你当前的工作目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> hello2.sh 
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello Friend!"</span> 
<span class="hljs-built_in">pwd</span>
</code></pre>
<p>现在让我们运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:~$ hello2.sh
<span class="hljs-attribute">-bash</span>: /home/elliot/hello2.<span class="hljs-attribute">sh</span>: Permission denied
</code></pre>
<p>糟糕！我忘记了要将其设置为可执行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x hello2.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./hello2.sh
Hello Friend!
<span class="hljs-regexp">/home/elliot</span>
</code></pre>
<h1 id="读取用户输入">读取用户输入<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们创建我们的<code>hello.sh</code>脚本的更好版本。我们将让用户输入他/她的名字，然后我们将向用户打招呼；创建一个名为<code>greet.sh</code>的脚本，包含以下几行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> greet.sh 
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Please enter your name:"</span> 
<span class="hljs-built_in">read</span> name
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello <span class="hljs-variable">$name</span>!"</span>
</code></pre>
<p>现在让脚本可执行，然后运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x greet.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./greet.sh
Please enter your <span class="hljs-symbol">name:</span>
</code></pre>
<p>当你运行脚本时，它会提示你输入你的名字；我输入了<code>Elliot</code>作为我的名字：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./greet.sh 
Please enter your <span class="hljs-symbol">name:</span>
Elliot
Hello Elliot!
</code></pre>
<p>脚本向我打招呼说“你好，艾略特！”。我们使用<code>read</code>命令获取用户输入，并注意在<code>echo</code>语句中，我们使用了美元符号<code>$</code>来打印变量<code>name</code>的值。</p>
<p>让我们创建另一个脚本，从用户那里读取文件名，然后输出文件的大小（以字节为单位）；我们将命名我们的脚本为<code>size.sh</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> size.sh
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Please enter a file path:"</span> 
<span class="hljs-built_in">read</span> file
filesize=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$file</span>| <span class="hljs-built_in">cut</span> -f1)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"The file size is <span class="hljs-variable">$filesize</span> bytes"</span>
</code></pre>
<p>并且永远不要忘记将脚本设置为可执行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">chmod</span> a+<span class="hljs-keyword">x</span> size.sh
</code></pre>
<p>现在让我们运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-delphi">elliot@ubuntu-linux:~$ size.sh 
Please enter a <span class="hljs-keyword">file</span> path
/home/elliot/size.sh
The <span class="hljs-keyword">file</span> size <span class="hljs-keyword">is</span> <span class="hljs-number">128</span> bytes
</code></pre>
<p>我使用<code>size.sh</code>作为文件路径，输出为 128 字节；是真的吗？让我们来检查一下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ du -<span class="hljs-keyword">bs </span>size.<span class="hljs-keyword">sh
</span><span class="hljs-number">128</span> size.<span class="hljs-keyword">sh
</span></code></pre>
<p>的确如此；请注意脚本中的以下一行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">filesize=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$file</span>| <span class="hljs-built_in">cut</span> -f1)
</code></pre>
<p>它将<code>du -bs $file | cut -f1</code>命令的结果存储在变量<code>filesize</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">du</span> -bs size.sh | <span class="hljs-built_in">cut</span> -f1 
128
</code></pre>
<p>还要注意，命令<code>du -bs $file cut -f1</code>被括号和美元符号（在左边）包围；这被称为命令替换。一般来说，命令替换的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">var</span>=$(command)
</code></pre>
<p><code>command</code>的结果将存储在变量<code>var</code>中。</p>
<h1 id="向脚本传递参数">向脚本传递参数<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>除了从用户那里读取输入，你还可以将参数传递给 bash 脚本。例如，让我们创建一个名为<code>size2.sh</code>的 bash 脚本，它做的事情与脚本<code>size.sh</code>相同，但是不是从用户那里读取文件，而是将其作为参数传递给脚本<code>size2.sh</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> size2.sh 
<span class="hljs-comment">#!/bin/bash</span>
filesize=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$1</span>| <span class="hljs-built_in">cut</span> -f1)
<span class="hljs-built_in">echo</span> <span class="hljs-string">"The file size is <span class="hljs-variable">$filesize</span> bytes"</span>
</code></pre>
<p>现在让我们将脚本设置为可执行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">chmod</span> a+<span class="hljs-keyword">x</span> size2.sh
</code></pre>
<p>最后，你可以运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ size2.sh /home/elliot/size.sh 
The file size <span class="hljs-keyword">is</span> <span class="hljs-number">128</span> bytes
</code></pre>
<p>你将得到与<code>size.sh</code>相同的输出。注意我们提供了文件路径</p>
<p><code>/home/elliot/size.sh</code>作为脚本<code>size2.sh</code>的参数。</p>
<p>我们在脚本<code>size2.sh</code>中只使用了一个参数，它由<code>$1</code>引用。你也可以传递多个参数；让我们创建另一个脚本<code>size3.sh</code>，它接受两个文件（两个参数）并输出每个文件的大小：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> size3.sh <span class="hljs-comment">#!/bin/bash</span>
filesize1=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$1</span>| <span class="hljs-built_in">cut</span> -f1) 
filesize2=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$2</span>| <span class="hljs-built_in">cut</span> -f1) 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is <span class="hljs-variable">$filesize1</span> bytes"</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$2</span> is <span class="hljs-variable">$filesize2</span> bytes"</span>
</code></pre>
<p>现在使脚本可执行并运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ size3.sh /home/elliot/size.sh /home/elliot/size3.sh
/home/elliot/size.sh is 128 bytes
/home/elliot/size3.sh is 136 bytes
</code></pre>
<p>太棒了！如你所见，第一个参数由<code>$1</code>引用，第二个参数由<code>$2</code>引用。所以一般来说：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">bash_script.sh argument1 argument2 argument3 ...
 <span class="hljs-variable">$1</span>         <span class="hljs-variable">$2</span>         <span class="hljs-variable">$3</span>
</code></pre>
<h1 id="使用-if-条件">使用 if 条件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以通过使其在不同的情况下表现不同来为你的 bash 脚本增加智能。为此，我们使用条件<code>if</code>语句。</p>
<p>一般来说，<code>if 条件</code>的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-keyword">if</span> [ condition <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span> ]; then 
    <span class="hljs-keyword">do</span> <span class="hljs-keyword">this</span> ...
fi
</code></pre>
<p>例如，让我们创建一个名为<code>empty.sh</code>的脚本，它将检查文件是否为空：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> empty.sh 
<span class="hljs-comment">#!/bin/bash</span>
filesize=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$1</span> | <span class="hljs-built_in">cut</span> -f1) 
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$filesize</span> -eq 0 ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is empty!"</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<p>现在让我们使脚本可执行，并创建一个名为<code>zero.txt</code>的空文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x empty.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch zero.txt
</code></pre>
<p>现在让我们在文件<code>zero.txt</code>上运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ ./empty.sh zero.txt 
zero.txt <span class="hljs-keyword">is</span> empty!
</code></pre>
<p>如你所见，脚本正确地检测到<code>zero.txt</code>是一个空文件；这是因为在这种情况下测试条件为真，因为文件<code>zero.txt</code>的确是零字节大小的：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$filesize</span> -eq 0 ];
</code></pre>
<p>我们使用了<code>-eq</code>来测试相等。现在如果你在一个非空文件上运行脚本，将不会有输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./empty.sh size.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$
</span></code></pre>
<p>我们需要修改脚本<code>empty.sh</code>，以便在传递非空文件时显示输出；为此，我们将使用<code>if-else</code>语句：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-keyword">if</span> [ condition <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span> ]; then 
    <span class="hljs-keyword">do</span> <span class="hljs-keyword">this</span> ...
<span class="hljs-keyword">else</span>
    <span class="hljs-keyword">do</span> <span class="hljs-keyword">this</span> instead ...
fi
</code></pre>
<p>让我们通过添加以下<code>else</code>语句来编辑<code>empty.sh</code>脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> empty.sh 
<span class="hljs-comment">#!/bin/bash</span>
filesize=$(<span class="hljs-built_in">du</span> -bs <span class="hljs-variable">$1</span> | <span class="hljs-built_in">cut</span> -f1) 
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$filesize</span> -eq 0 ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is empty!"</span>
<span class="hljs-keyword">else</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is not empty!"</span> 
<span class="hljs-keyword">fi</span>
</code></pre>
<p>现在让我们重新运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ ./empty.sh size.sh 
size.sh <span class="hljs-keyword">is</span> not empty!
<span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ ./empty.sh zero.txt 
zero.txt <span class="hljs-keyword">is</span> empty!
</code></pre>
<p>如你所见，现在它完美地运行了！</p>
<p>你也可以使用<code>elif</code>（<strong>else-if</strong>）语句来创建多个测试条件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-keyword">if</span> [ condition <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span> ]; then 
    <span class="hljs-keyword">do</span> <span class="hljs-keyword">this</span> ...
elif [ condition <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span>]; then 
    <span class="hljs-keyword">do</span> <span class="hljs-keyword">this</span> instead ...
fi
</code></pre>
<p>让我们创建一个名为<code>filetype.sh</code>的脚本，它检测文件类型。脚本将输出文件是普通文件、软链接还是目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> filetype.sh 
<span class="hljs-comment">#!/bin/bash</span>
file=<span class="hljs-variable">$1</span>
<span class="hljs-keyword">if</span> [ -f <span class="hljs-variable">$1</span> ]; <span class="hljs-keyword">then</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is a regular file"</span> 
<span class="hljs-keyword">elif</span> [ -L <span class="hljs-variable">$1</span> ]; <span class="hljs-keyword">then</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is a soft link"</span> 
<span class="hljs-keyword">elif</span> [ -d <span class="hljs-variable">$1</span> ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$1</span> is a directory"</span> 
<span class="hljs-keyword">fi</span>
</code></pre>
<p>现在让我们使脚本可执行，并创建一个指向<code>/tmp</code>的软链接，名为<code>tempfiles</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x filetype.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ln -s /tmp tempfiles
</code></pre>
<p>现在在任何目录上运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ ./filetype.sh /bin
/bin is a directory
</code></pre>
<p>它正确地检测到<code>/bin</code>是一个目录。现在在任何普通文件上运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">elliot@</span>ubuntu-linux:~$ ./filetype.sh zero.txt 
zero.txt <span class="hljs-keyword">is</span> a regular file
</code></pre>
<p>它正确地检测到<code>zero.txt</code>是一个普通文件。最后，在任何软链接上运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ ./filetype.sh tempfiles 
tempfiles is a soft <span class="hljs-built_in">link</span>
</code></pre>
<p>它正确地检测到<code>tempfiles</code>是一个软链接。</p>
<p>以下<code>man</code>页面包含了所有的测试条件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man test
</code></pre>
<p>所以永远不要死记硬背！利用并使用 man 页面。</p>
<h1 id="在-bash-脚本中循环">在 bash 脚本中循环<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>循环的能力是 bash 脚本的一个非常强大的特性。例如，假设你想要在终端上打印出"Hello world"这一行 20 次；一个天真的方法是创建一个有 20 个<code>echo</code>语句的脚本。幸运的是，循环提供了一个更聪明的解决方案。</p>
<h2 id="使用-for-循环">使用 for 循环<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>for</code>循环有几种不同的语法。如果你熟悉 C++或 C 编程，那么你会认出以下<code>for</code>循环的语法：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">for</span> ((initialize ; condition ; increment)); <span class="hljs-keyword">do</span>
// <span class="hljs-keyword">do</span> something 
<span class="hljs-keyword">done</span>
</code></pre>
<p>使用前面提到的 C 风格语法；以下<code>for</code>循环将打印出"Hello World"二十次：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">for</span> ((i = 0 ; i &lt; 20 ; i++)); <span class="hljs-keyword">do</span> 
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello World"</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>循环将整数变量<code>i</code>初始化为<code>0</code>，然后测试条件（<code>i &lt; 20</code>）；如果为真，则执行 echo "Hello World"这一行，并递增变量<code>i</code>一次，然后循环再次运行，直到<code>i</code>不再小于<code>20</code>。</p>
<p>现在让我们创建一个名为<code>hello20.sh</code>的脚本，其中包含我们刚讨论的<code>for</code>循环：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> hello20.sh 
<span class="hljs-comment">#!/bin/bash</span>
<span class="hljs-keyword">for</span> ((i = 0 ; i &lt; 20 ; i++)); <span class="hljs-keyword">do</span> 
 <span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello World"</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>现在使脚本可执行并运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x hello20.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>hello20.sh
Hello World 
Hello World
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World 
Hello World
</code></pre>
<p>它输出了"Hello World"这一行二十次，正如我们所预期的那样。除了 C 风格的语法，你也可以在<code>for</code>循环中使用范围语法：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {1..20}; <span class="hljs-keyword">do</span> 
    <span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello World"</span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>这也将输出"Hello World"20 次。这种范围语法在处理文件列表时特别有用。为了演示，创建以下五个文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>touch one.doc two.doc three.doc four.doc five.doc
</code></pre>
<p>现在假设我们想要将所有五个文件的扩展名从<code>.doc</code>改为</p>
<p><code>.document</code>。我们可以创建一个名为<code>rename.sh</code>的脚本，其中包含以下<code>for</code>循环：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> /home/elliot/*.doc; <span class="hljs-keyword">do</span>
    <span class="hljs-built_in">mv</span> <span class="hljs-variable">$i</span> $(<span class="hljs-built_in">echo</span> <span class="hljs-variable">$i</span> | <span class="hljs-built_in">cut</span> -d. -f1).document
<span class="hljs-keyword">done</span>
</code></pre>
<p>使脚本可执行并运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>
elliot@ubuntu-linux:~$ <span class="hljs-built_in">chmod</span> a+x rename.sh 
elliot@ubuntu-linux:~$ ./rename.sh 
elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> *.document
five.document four.document one.document three.document two.document
</code></pre>
<p>正如你所看到的，它将所有扩展名为<code>.doc</code>的文件重命名为<code>.document</code>。现在想象一下，如果你想对一百万个文件执行此操作。如果你不懂 bash 脚本，你可能要花十年的时间。我们都应该感谢 Linux 之神的 bash 脚本。</p>
<h2 id="使用while循环">使用<code>while</code>循环<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>while</code>循环是另一个流行且直观的循环。<code>while</code>循环的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">while</span> [ condition is <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">do</span>
  // <span class="hljs-keyword">do</span> something 
<span class="hljs-keyword">done</span>
</code></pre>
<p>例如，我们可以创建一个简单的脚本<code>numbers.sh</code>，打印从一到十的数字：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> numbers.sh 
<span class="hljs-comment">#!/bin/bash</span>
number=1
<span class="hljs-keyword">while</span> [ <span class="hljs-variable">$number</span> -le 10 ]; <span class="hljs-keyword">do</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-variable">$number</span> 
number=$((<span class="hljs-variable">$number</span>+<span class="hljs-number">1</span>))
<span class="hljs-keyword">done</span>
</code></pre>
<p>使脚本可执行并运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x numbers.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./numbers.sh
<span class="hljs-number">1</span>
<span class="hljs-number">2</span>
<span class="hljs-number">3</span>
<span class="hljs-number">4</span>
<span class="hljs-number">5</span>
<span class="hljs-number">6</span>
<span class="hljs-number">7</span>
<span class="hljs-number">8</span>
<span class="hljs-number">9</span>
<span class="hljs-number">10</span>
</code></pre>
<p>脚本很容易理解；我们首先将变量 number 初始化为<code>1</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">number</span>=<span class="hljs-number">1</span>
</code></pre>
<p>然后我们创建了一个测试条件，只要变量<code>number</code>小于或等于 10，<code>while</code>循环将继续运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">while</span> [ <span class="hljs-variable">$number</span> -le 10 ]; <span class="hljs-keyword">do</span>
</code></pre>
<p>在<code>while</code>循环的主体中，我们首先打印变量<code>number</code>的值，然后将其增加 1。请注意，要评估算术表达式，它需要在双括号内，如<code>$((arithmetic-expression))</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-variable">$number</span> 
number=$((<span class="hljs-variable">$number</span>+<span class="hljs-number">1</span>))
</code></pre>
<p>现在是时候玩一些有趣的东西了！我们将创建一个猜数字游戏。但在我们开始之前，让我向你介绍一个非常酷的命令。你可以使用<code>shuf</code>命令来生成随机排列。例如，要生成 1 到 10 之间数字的随机排列，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>shuf -i <span class="hljs-number">1</span>-<span class="hljs-number">10</span> 
<span class="hljs-number">1</span>
<span class="hljs-number">6</span>
<span class="hljs-number">5</span>
<span class="hljs-number">2</span>
<span class="hljs-number">10</span>
<span class="hljs-number">8</span>
<span class="hljs-number">3</span>
<span class="hljs-number">9</span>
<span class="hljs-number">7</span>
<span class="hljs-number">4</span>
</code></pre>
<p>请记住，我的输出很可能与你的输出不同，因为它是随机的！你有一百万分之一的机会和我有相同的输出。</p>
<p>现在我们可以使用<code>-n</code>选项从排列中选择一个数字。这个数字也将是随机的。因此，要生成 1 到 10 之间的随机数，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>shuf -i <span class="hljs-number">1</span>-<span class="hljs-number">10</span> -n <span class="hljs-number">1</span>
<span class="hljs-number">6</span>
</code></pre>
<p>输出将是 1 到 10 之间的一个随机数。<code>shuf</code>命令将在我们的游戏中发挥关键作用。我们将生成 1 到 10 之间的随机数，然后我们将看看用户（玩家）猜中随机数需要多少次尝试。</p>
<p>这是我们精心制作的脚本<code>game.sh</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> game.sh 
<span class="hljs-comment">#!/bin/bash</span>
random=$(<span class="hljs-built_in">shuf</span> -i 1-10 -n 1) <span class="hljs-comment">#generate a random number between 1 and 10\. </span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Welcome to the Number Guessing Game"</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"The lucky number is between 1 and 10."</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Can you guess it?"</span>
tries=1
<span class="hljs-keyword">while</span> [ <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">do</span>
<span class="hljs-built_in">echo</span> -n <span class="hljs-string">"Enter a Number between 1-10: "</span> 
<span class="hljs-built_in">read</span> number
<span class="hljs-keyword">if</span> [ <span class="hljs-variable">$number</span> -gt <span class="hljs-variable">$random</span> ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Too high!"</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$number</span> -lt <span class="hljs-variable">$random</span> ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Too low!"</span>
<span class="hljs-keyword">else</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Correct! You got it in <span class="hljs-variable">$tries</span> tries"</span> 
<span class="hljs-built_in">break</span> <span class="hljs-comment">#exit the loop</span>
<span class="hljs-keyword">fi</span> 
tries=$((<span class="hljs-variable">$tries</span>+<span class="hljs-number">1</span>)) 
<span class="hljs-keyword">done</span>
</code></pre>
<p>现在使脚本可执行并运行它来开始游戏：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ chmod a+x game.<span class="hljs-property">sh</span> 
elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ game.<span class="hljs-property">sh</span>
<span class="hljs-title class_">Welcome</span> to the <span class="hljs-title class_">Number</span> <span class="hljs-title class_">Guessing</span> <span class="hljs-title class_">Game</span> 
<span class="hljs-title class_">The</span> lucky <span class="hljs-built_in">number</span> is between <span class="hljs-number">1</span> and <span class="hljs-number">10</span>\. 
<span class="hljs-title class_">Can</span> you guess it?
<span class="hljs-title class_">Enter</span> a <span class="hljs-title class_">Number</span> between <span class="hljs-number">1</span>-<span class="hljs-number">10</span>: <span class="hljs-number">4</span> 
<span class="hljs-title class_">Too</span> low!
<span class="hljs-title class_">Enter</span> a <span class="hljs-title class_">Number</span> between <span class="hljs-number">1</span>-<span class="hljs-number">10</span>: <span class="hljs-number">7</span> 
<span class="hljs-title class_">Too</span> low!
<span class="hljs-title class_">Enter</span> a <span class="hljs-title class_">Number</span> between <span class="hljs-number">1</span>-<span class="hljs-number">10</span>: <span class="hljs-number">9</span> 
<span class="hljs-title class_">Too</span> high!
<span class="hljs-title class_">Enter</span> a <span class="hljs-title class_">Number</span> between <span class="hljs-number">1</span>-<span class="hljs-number">10</span>: <span class="hljs-number">8</span> 
<span class="hljs-title class_">Correct</span>! <span class="hljs-title class_">You</span> got it <span class="hljs-keyword">in</span> <span class="hljs-number">4</span> tries
</code></pre>
<p>在我的第一次尝试游戏中，我猜了四次；我打赌你可以轻松地击败我！</p>
<p>让我们逐行查看我们的游戏脚本。我们首先生成一个 1 到 10 之间的随机数，并将其赋值给变量<code>random</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-verilog">random=$(shuf -i <span class="hljs-number">1</span>-<span class="hljs-number">10</span> -n <span class="hljs-number">1</span>) #<span class="hljs-keyword">generate</span> a random number between <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> <span class="hljs-number">10</span>.
</code></pre>
<p>请注意，你可以在你的 bash 脚本中添加注释，就像我在这里使用井号字符，后面跟上你的注释一样。</p>
<p>然后我们打印三行来向玩家解释游戏规则：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">"Welcome to the Number Guessing Game"</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"The lucky number is between 1 and 10."</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Can you guess it?"</span>
</code></pre>
<p>接下来，我们将变量<code>tries</code>初始化为<code>1</code>，以便我们可以跟踪玩家猜了多少次：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">tries</span>=<span class="hljs-number">1</span>
</code></pre>
<p>然后我们进入游戏循环：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">while</span> [ <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">do</span>
</code></pre>
<p>请注意，测试条件<code>while [ true ]</code>将始终为<code>true</code>，因此循环将永远运行（无限循环）。</p>
<p>游戏循环中我们做的第一件事是要求玩家输入 1 到 10 之间的数字：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">echo</span> -n <span class="hljs-string">"Enter a Number between 1-10: "</span> 
<span class="hljs-built_in">read</span> number
</code></pre>
<p>然后我们测试玩家输入的数字是大于、小于还是等于<code>random</code>数字：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$number</span> -gt <span class="hljs-variable">$random</span> ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Too high!"</span>
<span class="hljs-keyword">elif</span> [ <span class="hljs-variable">$number</span> -lt <span class="hljs-variable">$random</span> ]; <span class="hljs-keyword">then</span> 
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Too low!"</span>
<span class="hljs-keyword">else</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Correct! You got it in <span class="hljs-variable">$tries</span> tries"</span> 
<span class="hljs-built_in">break</span> <span class="hljs-comment">#exit the loop</span>
<span class="hljs-keyword">fi</span>
</code></pre>
<p>如果<code>number</code>大于<code>random</code>，我们告诉玩家猜测太高，以便玩家下次更容易猜对。同样，如果<code>number</code>小于<code>random</code>，我们告诉玩家猜测太低。否则，如果是正确的猜测，那么我们打印玩家用来做出正确猜测的总次数，并且我们从循环中退出。</p>
<p>请注意，你需要<code>break</code>语句来退出无限循环。没有<code>break</code>语句，循环将永远运行。</p>
<p>最后，我们每次猜错（高或低）都会将<code>tries</code>的数量增加 1：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ini"><span class="hljs-attr">tries</span>=$((<span class="hljs-variable">$tries</span>+<span class="hljs-number">1</span>))
</code></pre>
<p>我必须警告你，这个游戏很容易上瘾！特别是当你和朋友一起玩时，看谁能在最少的尝试次数中猜对。</p>
<h2 id="使用until循环">使用<code>until</code>循环<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p><code>for</code>和<code>while</code>循环都会在测试条件为<code>true</code>时运行。相反，<code>until</code>循环会在测试条件为<code>false</code>时继续运行。也就是说，它会在测试条件为<code>true</code>时停止运行。</p>
<p><code>until</code>循环的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">until [condition <span class="hljs-keyword">is</span> <span class="hljs-literal">true</span>]; <span class="hljs-keyword">do</span> 
  [<span class="hljs-meta">commands</span>]
done
</code></pre>
<p>例如，我们可以创建一个简单的脚本<code>3x10.sh</code>，打印出<code>3</code>的前十个倍数：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> 3x10.sh 
<span class="hljs-comment">#!/bin/bash</span>
counter=1
until [ <span class="hljs-variable">$counter</span> -gt 10 ]; <span class="hljs-keyword">do</span> 
<span class="hljs-built_in">echo</span> $((<span class="hljs-variable">$counter</span> * <span class="hljs-number">3</span>)) 
counter=$((<span class="hljs-variable">$counter</span>+<span class="hljs-number">1</span>))
<span class="hljs-keyword">done</span>
</code></pre>
<p>现在让脚本可执行，然后运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x 3x10.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>3x10.sh
<span class="hljs-number">3</span>
<span class="hljs-number">6</span>
<span class="hljs-number">9</span>
<span class="hljs-number">12</span>
<span class="hljs-number">15</span>
<span class="hljs-number">18</span>
<span class="hljs-number">21</span>
<span class="hljs-number">24</span>
<span class="hljs-number">27</span>
<span class="hljs-number">30</span>
</code></pre>
<p>脚本很容易理解，但你可能会在尝试理解<code>until</code>循环的测试条件时有点困惑：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl"><span class="hljs-keyword">until</span> [ $counter -<span class="hljs-keyword">gt</span> <span class="hljs-number">10</span> ]; <span class="hljs-keyword">do</span>
</code></pre>
<p>测试条件基本上是这样说的：“直到<code>counter</code>大于 10，继续运行！”</p>
<p>请注意，我们可以使用具有相反测试条件的<code>while</code>循环来实现相同的结果。你只需否定<code>until</code>循环的测试条件，就会得到<code>while</code>循环的等价形式：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-keyword">while</span> [ <span class="hljs-variable">$counter</span> -le 10 ]; <span class="hljs-keyword">do</span>
</code></pre>
<p>在数学中，大于（<code>&gt;</code>）的相反（否定）是小于或等于（<code>≤</code>）。很多人忘记了<code>等于</code>部分。不要成为那些人中的一个！</p>
<h1 id="bash-脚本函数">Bash 脚本函数<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>当你的脚本变得越来越大时，事情可能会变得非常混乱。为了克服这个问题，你可以使用 bash 函数。函数的理念是你可以重用脚本的部分，从而产生更有组织和可读性的脚本。</p>
<p>bash 函数的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-xml">function_name () {
<span class="hljs-tag">&lt;<span class="hljs-name">commands</span>&gt;</span>
}
</code></pre>
<p>让我们创建一个名为<code>hello</code>的函数，打印出“Hello World”这一行。我们将<code>hello</code>函数放在一个名为<code>fun1.sh</code>的新脚本中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> fun1.sh 
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-function"><span class="hljs-title">hello</span></span> () {
<span class="hljs-built_in">echo</span> <span class="hljs-string">"Hello World"</span>
}

hello     <span class="hljs-comment"># Call the function hello() </span>
hello     <span class="hljs-comment"># Call the function hello() </span>
hello     <span class="hljs-comment"># Call the function hello()</span>
</code></pre>
<p>现在让脚本可执行，然后运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x fun1.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./fun1.sh
Hello World 
Hello World 
Hello World
</code></pre>
<p>该脚本将在终端上输出“Hello World”三次。请注意，我们调用（使用）了函数<code>hello</code>三次。</p>
<h2 id="传递函数参数">传递函数参数<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>函数也可以像脚本一样接受参数。为了演示，我们将创建一个名为<code>math.sh</code>的脚本，其中有两个函数<code>add</code>和<code>sub</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ cat math.sh 
<span class="hljs-comment">#!/bin/bash</span>

add () {
echo <span class="hljs-string">"$1 + $2 ="</span> $(($1+$2))
}

<span class="hljs-function"><span class="hljs-keyword">sub</span> () </span>{
echo <span class="hljs-string">"$1 - $2 ="</span> $(($1-$2))
}

add <span class="hljs-number">7</span> <span class="hljs-number">2</span>
<span class="hljs-function"><span class="hljs-keyword">sub</span> 7 2
</span></code></pre>
<p>使脚本可执行，然后运行它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x math.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./math.sh
<span class="hljs-number">7</span> + <span class="hljs-number">2</span> = <span class="hljs-number">9</span>
<span class="hljs-number">7</span> - <span class="hljs-number">2</span> = <span class="hljs-number">5</span>
</code></pre>
<p>该脚本有两个函数<code>add</code>和<code>sub</code>。<code>add</code>函数计算并输出任意两个数字的总和。另一方面，<code>sub</code>函数计算并输出任意两个数字的差。</p>
<h1 id="你不能浏览网页">你不能浏览网页<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们将用一个相当酷的 bash 脚本<code>noweb.sh</code>来结束本章，确保没有用户在 Firefox 浏览器上浏览网页时玩得开心：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> noweb.sh 
<span class="hljs-comment">#!/bin/bash</span>

<span class="hljs-function"><span class="hljs-title">shutdown_firefox</span></span>() { 
killall firefox 2&gt; /dev/null
}

<span class="hljs-keyword">while</span> [ <span class="hljs-literal">true</span> ]; <span class="hljs-keyword">do</span> 
shutdown_firefox
<span class="hljs-built_in">sleep</span> 10 <span class="hljs-comment">#wait for 10 seconds </span>
<span class="hljs-keyword">done</span>
</code></pre>
<p>现在将 Firefox 作为后台进程打开：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>firefox &amp; 
[<span class="hljs-number">1</span>] <span class="hljs-number">30436</span>
</code></pre>
<p>最后，使脚本可执行，并在后台运行脚本：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>chmod a+x noweb.sh 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>./noweb.sh &amp;
[<span class="hljs-number">1</span>] <span class="hljs-number">30759</span>
</code></pre>
<p>一旦运行你的脚本，Firefox 就会关闭。此外，如果以<code>root</code>用户身份运行脚本，系统用户将无法享受 Firefox！</p>
<h1 id="知识检查-12">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>创建一个 bash 脚本，显示当前月份的日历。</p>
</li>
<li>
<p>修改你的脚本，以便显示任何年份（作为参数传递）的日历。</p>
</li>
<li>
<p>修改你的脚本，以便显示从<code>2000</code>年到<code>2020</code>年的所有年份的日历。</p>
</li>
</ol>
<p>您需要一个 Cron 作业</p>
<p>在本章中，您将学习如何通过使用 cron 作业自动化 Linux 中的乏味任务，这是 Linux 中最有用和强大的实用程序之一。由于 cron 作业，Linux 系统管理员可以在周末休息，并与他们所爱的人一起度假。Cron 作业允许您安排任务在特定时间运行。使用 cron 作业，您可以安排运行备份，监视系统资源等任务。</p>
<h1 id="第十八章我们的第一个-cron-作业">第十八章：我们的第一个 cron 作业<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>以下图表显示了 cron 作业的典型格式：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/368be940-510d-44f8-93c7-aa92c3ba3270.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：Cron 作业格式</p>
<p>Cron 作业是特定于用户的，因此每个用户都有自己的 cron 作业列表。例如，用户<code>elliot</code>可以运行命令<code>crontab -l</code>来显示他们的 cron 作业：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ crontab -l 
<span class="hljs-keyword">no</span> crontab <span class="hljs-keyword">for</span> elliot
</code></pre>
<p>目前，用户<code>elliot</code>没有任何 cron 作业。</p>
<p>让我们继续创建 Elliot 的第一个 cron 作业。我们将创建一个每分钟运行一次的 cron 作业，它将简单地将“一分钟已经过去。”这一行追加到文件<code>/home/elliot/minutes.txt</code>中。</p>
<p>您可以运行命令<code>crontab -e</code>来编辑或创建 cron 作业：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>crontab -e
</code></pre>
<p>现在添加以下行，然后保存并退出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">* * * * * <span class="hljs-built_in">echo</span> <span class="hljs-string">"A minute has passed."</span> &gt;&gt; /home/elliot/minutes.txt
</code></pre>
<p>退出后，您将看到消息：“crontab：正在安装新的 cron 表”：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">elliot<span class="hljs-meta">@ubuntu</span>-linux:~$ crontab -e 
crontab: installing <span class="hljs-keyword">new</span> <span class="hljs-title class_">crontab</span>
</code></pre>
<p>最后，用户<code>elliot</code>可以列出他们的 cron 作业，以验证新的 cron 作业是否已安排：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ crontab -l
* * * * * echo <span class="hljs-string">"A minute has passed."</span> &gt;&gt; <span class="hljs-regexp">/home/</span>elliot/minutes.<span class="hljs-property">txt</span>
</code></pre>
<p>现在，等待几分钟，然后检查文件<code>/home/el- liot/minutes.txt</code>的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ cat <span class="hljs-operator">/</span>home<span class="hljs-operator">/</span>elliot<span class="hljs-operator">/</span>minutes.txt 
A <span class="hljs-keyword">minute</span> has passed.
A <span class="hljs-keyword">minute</span> has passed. 
A <span class="hljs-keyword">minute</span> has passed. 
A <span class="hljs-keyword">minute</span> has passed. 
A <span class="hljs-keyword">minute</span> has passed.
</code></pre>
<p>我等了五分钟，然后查看文件，看到“一分钟已经过去。”这一行被添加了五次到文件<code>minutes.txt</code>中，所以我知道 cron 作业运行正常。</p>
<h1 id="每五分钟运行一次">每五分钟运行一次<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们创建另一个每五分钟运行一次的 cron 作业。例如，您可能希望创建一个每五分钟检查系统负载平均值的 cron 作业。</p>
<p>运行命令<code>crontab -e</code>以添加新的 cron 作业：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>crontab -e
</code></pre>
<p>现在添加以下行，然后保存并退出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">*/5 * * * * <span class="hljs-built_in">uptime</span> &gt;&gt; /home/elliot/load.txt
</code></pre>
<p>最后，让我们查看已安装的 cron 作业列表，以验证新的 cron 作业是否已安排：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ crontab -e 
<span class="hljs-attr">crontab</span>: installing <span class="hljs-keyword">new</span> crontab 
elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ crontab -l
* * * * * echo <span class="hljs-string">"A minute has passed"</span> &gt;&gt; <span class="hljs-regexp">/home/</span>elliot/minutes.<span class="hljs-property">txt</span>
*<span class="hljs-regexp">/5 * * * * uptime &gt;&gt; /</span>home/elliot/load.<span class="hljs-property">txt</span>
</code></pre>
<p>现在我们可以看到为用户<code>elliot</code>安装了两个 cron 作业。</p>
<p>等待五到十分钟，然后检查文件<code>/home/elliot/load.txt</code>的内容。如果您没有秒表，运行命令<code>sleep 300</code>并等待直到完成：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">sleep</span> <span class="hljs-number">300</span>
</code></pre>
<p>我给自己泡了一些绿茶，然后十分钟后回来查看文件<code>/home/elliot/load.txt</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">cat</span> /home/elliot/load.txt
14:40:01 up 1 day, 5:13, 2 <span class="hljs-built_in">users</span>, load average: 0.41, 0.40, 0.37
14:45:01 up 1 day, 5:18, 2 <span class="hljs-built_in">users</span>, load average: 0.25, 0.34, 0.35
</code></pre>
<p>预期内，这个 cron 作业在这十分钟内运行了两次；我建议您再过二十四小时再次查看文件<code>/home/elliot/load.txt</code>，您将看到一份关于系统负载平均值的可爱报告。</p>
<h1 id="更多-cron-示例">更多 cron 示例<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以安排 cron 作业以在多个时间间隔运行。例如，以下 cron 作业将在星期日的每个小时的<code>5</code>、<code>20</code>和<code>40</code>分钟运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-basic"><span class="hljs-number">5</span>,<span class="hljs-number">20</span>,<span class="hljs-number">40</span> * * * sun task-<span class="hljs-keyword">to</span>-<span class="hljs-keyword">run</span>
</code></pre>
<p>您还可以指定时间范围。例如，一个在<code>工作日</code>（星期一-&gt;星期五）的<code>6:30</code> PM 运行的 cron 作业将具有以下格式：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-basic"><span class="hljs-symbol">30 </span><span class="hljs-number">18</span> * * <span class="hljs-number">1</span>-<span class="hljs-number">5</span> task-<span class="hljs-keyword">to</span>-<span class="hljs-keyword">run</span>
</code></pre>
<p>注意<code>0</code>是星期日，<code>1</code>是星期一，依此类推。</p>
<p>要查看更多 cron 示例，可以查看<code>crontab</code>手册的第五部分：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>man <span class="hljs-number">5</span> crontab
</code></pre>
<h1 id="自动化系统打补丁">自动化系统打补丁<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>作为 Linux 系统管理员，您经常需要打补丁（更新）系统。有时，生产服务器安排在不愉快的时间更新，比如周末的午夜，凌晨<code>04:00</code>，凌晨<code>02:00</code>等，这可能会让您发疯。自动化这样繁忙的任务并多睡一会儿会很好，对吧？</p>
<p>让我们切换到<code>root</code>用户，然后创建一个名为<code>auto_patch.sh</code>的 bash 脚本</p>
<p>在<code>/root</code>中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># cat auto_patch.sh </span>
<span class="hljs-meta">#!/bin/bash</span>
apt-<span class="hljs-keyword">get</span> -y update 
apt-<span class="hljs-keyword">get</span> -y upgrade 
shutdown -r now
</code></pre>
<p>注意脚本<code>auto_patch.sh</code>很小，只有三行。我们已经使用了</p>
<p><code>-y</code>选项与<code>apt-get</code>命令一起使用，这将自动回答系统更新期间的所有提示为“是”；这很重要，因为在脚本运行时你不会坐在电脑前！</p>
<p>现在使脚本可执行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># chmod +x auto_patch.sh</span>
</code></pre>
<p>最后，您需要安排一个 cron 作业来运行<code>auto_patch.sh</code>脚本。假设系统已安排在每周六凌晨 01:00 更新。在这种情况下，您可以创建以下 cron 作业：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-basic"><span class="hljs-symbol">0 </span><span class="hljs-number">1</span> * * sat /root/auto_patch.sh
</code></pre>
<p>请记住，<code>auto_patch.sh</code>永远不会部署在任何真实的服务器上。我只是在向您介绍自动化的概念。您需要编辑<code>auto_patch.sh</code>以检查命令退出代码，因为期望一切都会顺利进行是天真的。一个优秀的系统管理员总是创建能处理各种预期错误的健壮脚本。</p>
<h1 id="运行一次作业">运行一次作业<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您必须在<code>auto_patch.sh</code>运行后的某个时间删除 cron 作业，否则它将每周继续更新系统！为此，还存在另一个专门用途的实用程序<code>at</code>；即，安排运行一次作业。</p>
<p>我们首先需要安装<code>at</code>软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:~# apt-<span class="hljs-keyword">get</span> -y install at
</code></pre>
<p>现在，您可以安排在本周六凌晨 01:00 运行<code>auto_patch.sh</code>脚本，使用以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># at 01:00 AM Sat -f /root/patch.sh</span>
</code></pre>
<p>请记住，<code>at</code>作业只运行一次，因此在周六之后，<code>auto_patch.sh</code>脚本将不会再次运行。</p>
<p>您可以通过阅读其手册页了解更多关于<code>at</code>的信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># man at</span>
</code></pre>
<h1 id="知识检查-13">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开您的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>为 root 用户创建一个 cron 作业，每 10 分钟运行一次。该 cron 作业将简单地将行“已经过去 10 分钟！”附加到文件<code>/root/minutes.txt</code>中。</p>
</li>
<li>
<p>为 root 用户创建一个 cron 作业，每年圣诞节（12 月 25 日凌晨 1 点）运行一次。该 cron 作业将简单地将行“圣诞快乐！”附加到文件<code>/root/holidays.txt</code>中。</p>
</li>
</ol>
<p>存档和压缩文件</p>
<p>在本章中，您将学习如何将一组文件放在一个单独的存档中。您还将学习如何使用各种压缩方法压缩存档文件。</p>
<h1 id="第十九章创建存档">第十九章：创建存档<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们为<code>/home/elliot</code>目录中的所有 bash 脚本创建一个备份。作为<code>root</code>用户，在<code>/root</code>中创建一个名为<code>backup</code>的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mkdir /root/backup</span>
</code></pre>
<p>要创建存档，我们使用磁带存档命令<code>tar</code>。创建存档的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -cf archive_name files
</code></pre>
<p><code>-c</code>选项是<code>--create</code>的简写，用于创建存档。<code>-f</code>选项是<code>--file</code>的简写，用于指定存档名称。</p>
<p>现在让我们在<code>/root/backup</code>中为<code>/home/elliot</code>中的所有 bash 脚本创建一个名为<code>scripts.tar</code>的存档。为此，我们首先切换到<code>/home/elliot</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /home/elliot </span>
root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment">#</span>
</code></pre>
<p>然后我们运行命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment"># tar -cf /root/backup/scripts.tar *.sh</span>
</code></pre>
<p>这将在<code>/root/backup</code>中创建存档文件<code>scripts.tar</code>，并且不会有命令输出：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/home/elliot<span class="hljs-comment"># ls -l /root/backup/scripts.tar</span>
-rw-r--r-- 1 root root 20480 Nov 1 23:12 /root/backup/scripts.tar
</code></pre>
<p>我们还可以添加<code>-v</code>选项以查看正在存档的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment"># tar -cvf /root/backup/scripts.tar *.sh </span>
<span class="hljs-number">3</span>x1<span class="hljs-number">0</span>.sh
detect.sh 
empty.sh 
filetype.sh 
fun1.sh 
game.sh 
hello2<span class="hljs-number">0</span>.sh 
hello2.sh 
hello3.sh 
hello.sh 
math.sh 
mydate.sh 
noweb.sh 
numbers.sh 
rename.sh 
size2.sh 
size3.sh 
size.sh
</code></pre>
<h1 id="查看存档内容">查看存档内容<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可能想要查看存档的内容。为此，您可以使用<code>-t</code>选项以及后跟存档名称的<code>-f</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -tf archive
</code></pre>
<p>例如，要查看我们刚刚创建的<code>scripts.tar</code>存档的内容，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/home/</span>elliot<span class="hljs-comment"># tar -tf /root/backup/scripts.tar </span>
<span class="hljs-number">3</span>x1<span class="hljs-number">0</span>.sh
detect.sh 
empty.sh 
filetype.sh 
fun1.sh 
game.sh 
hello2<span class="hljs-number">0</span>.sh 
hello2.sh 
hello3.sh 
hello.sh 
math.sh 
mydate.sh 
noweb.sh 
numbers.sh 
rename.sh 
size2.sh 
size3.sh 
size.sh
</code></pre>
<p>如您所见，它列出了<code>scripts.tar</code>存档中的所有文件。</p>
<h1 id="提取存档文件">提取存档文件<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您可能还想从存档中提取文件。为了演示，让我们在<code>/root</code>中创建一个名为<code>myscripts</code>的目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# mkdir /</span>root/myscripts
</code></pre>
<p>要从存档中提取文件，我们使用<code>-x</code>选项以及后跟存档名称的<code>-f</code>选项。然后，我们使用<code>-C</code>选项，后跟目标目录，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -xf archive -C destination
</code></pre>
<p>因此，要将<code>scripts.tar</code>存档中的所有文件提取到<code>/root/myscripts</code>目录中，您可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# tar -xf /</span>root/backup/scripts.<span class="hljs-property">tar</span> -C /root/myscripts
</code></pre>
<p><code>-x</code>选项是<code>--extract</code>的简写，用于从存档中提取文件。我们还使用了<code>-C</code>选项，它在执行任何操作之前基本上会切换到<code>/root/myscripts</code>目录，因此文件被提取到<code>/root/myscripts</code>而不是当前目录。</p>
<p>现在让我们验证文件确实提取到了<code>/root/myscripts</code>目录中：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# ls /</span>root/myscripts
3x10.<span class="hljs-property">sh</span> 
empty.<span class="hljs-property">sh</span> 
fun1.<span class="hljs-property">sh</span> 
hello20.<span class="hljs-property">sh</span> 
hello3.<span class="hljs-property">sh</span> 
math.<span class="hljs-property">sh</span> 
noweb.<span class="hljs-property">sh</span> 
rename.<span class="hljs-property">sh</span> 
size3.<span class="hljs-property">sh</span> 
detect.<span class="hljs-property">sh</span> 
filetype.<span class="hljs-property">sh</span> 
game.<span class="hljs-property">sh</span> 
hello2.<span class="hljs-property">sh</span> 
hello.<span class="hljs-property">sh</span> 
mydate.<span class="hljs-property">sh</span> 
numbers.<span class="hljs-property">sh</span> 
size2.<span class="hljs-property">sh</span> 
size.<span class="hljs-property">sh</span>
</code></pre>
<p>果然，我们在<code>/root/myscripts</code>目录中看到了所有的 bash 脚本！</p>
<h1 id="使用-gzip-进行压缩">使用 gzip 进行压缩<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>单独将文件放在存档中并不会节省磁盘空间。我们需要压缩存档以节省磁盘空间。在 Linux 上有许多压缩方法可供我们使用。但是，我们只将介绍三种最流行的压缩方法。</p>
<p>在 Linux 上最受欢迎的压缩方法可能是<code>gzip</code>，好处是它非常快速。您可以使用<code>tar</code>命令的<code>-z</code>选项将存档文件压缩为<code>gzip</code>，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -czf compressed_archive archive_name
</code></pre>
<p>因此，要将<code>scripts.tar</code>存档压缩为名为<code>scripts.tar.gz</code>的<code>gzip</code>压缩存档，您首先需要切换到<code>/root/backup</code>目录，然后运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># tar -czf scripts.tar.gz scripts.tar</span>
</code></pre>
<p>现在，如果列出<code>backup</code>目录的内容，您将看到新创建的<code>gzip</code>压缩存档<code>scripts.tar.gz</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># ls </span>
scripts.tar scripts.tar.gz
</code></pre>
<p>通过使用<code>-z</code>选项进行了魔术操作，该选项使用<code>gzip</code>压缩方法压缩了存档。就是这样！请注意，这与创建存档非常相似：我们只是添加了<code>-z</code>选项-这是唯一的区别。</p>
<p>现在让我们在两个存档上运行<code>file</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~/backup# file scripts.tar 
scripts.<span class="hljs-attribute">tar</span>: POSIX tar archive (GNU) 
root<span class="hljs-keyword">@ubuntu-linux</span>:~/backup# file scripts.tar.gz
scripts.tar.<span class="hljs-attribute">gz</span>: gzip compressed data, last <span class="hljs-attribute">modified</span>: Sat Nov <span class="hljs-number">2</span> <span class="hljs-number">22</span>:<span class="hljs-number">13</span>:<span class="hljs-number">44</span> <span class="hljs-number">2019</span>, 
from Unix
</code></pre>
<p>如您所见，<code>file</code>命令检测到了两个存档的类型。现在让我们比较一下两个存档的大小（以字节为单位）：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># du -b scripts.tar scripts.tar.gz </span>
20480 scripts.tar
1479 scripts.tar.gz
</code></pre>
<p>与未压缩存档<code>scripts.tar</code>相比，压缩存档<code>scripts.tar.gz</code>的大小要小得多，这是我们预期的。如果要将压缩存档<code>scripts.tar.gz</code>中的文件提取到<code>/root/myscripts</code>，可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~<span class="hljs-regexp">/backup# tar -xf scripts.tar.gz -C /</span>root/myscripts
</code></pre>
<p>请注意，这与提取未压缩存档的内容的方式完全相同。</p>
<h1 id="使用-bzip2-进行压缩">使用 bzip2 进行压缩<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>bzip2</code>是 Linux 上另一种流行的压缩方法。平均而言，<code>bzip2</code>比<code>gzip</code>慢；然而，<code>bzip2</code>在将文件压缩到更小的大小方面做得更好。</p>
<p>你可以使用<code>tar</code>命令的<code>-j</code>选项来使用<code>bzip2</code>压缩压缩存档，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -cjf compressed_archive archive_name
</code></pre>
<p>注意这里唯一的区别是我们使用<code>bzip2</code>压缩的<code>-j</code>选项，而不是<code>gzip</code>压缩的<code>-z</code>选项。</p>
<p>因此，要将<code>scripts.tar</code>存档压缩成名为<code>scripts.tar.bz2</code>的<code>bzip2</code>压缩存档，你首先需要切换到<code>/root/backup</code>目录，然后运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># tar -cjf scripts.tar.bz2 scripts.tar</span>
</code></pre>
<p>现在，如果你列出<code>backup</code>目录的内容，你会看到新创建的<code>bzip2</code>压缩的存档<code>scripts.tar.bz2</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># ls</span>
scripts.tar scripts.tar.bz2 scripts.tar.gz
</code></pre>
<p>让我们在<code>bzip2</code>压缩的存档<code>scripts.tar.bz2</code>上运行<code>file</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># file scripts.tar.bz2 </span>
scripts.tar.bz2: bzip2 compressed data, block size = 900k
</code></pre>
<p>它正确地检测到了用于存档<code>scripts.tar.bz2</code>的压缩方法。太棒了-现在让我们比较<code>gzip</code>压缩的存档<code>scripts.tar.gz</code>和<code>bzip2</code>压缩的存档<code>scripts.tar.bz2</code>的大小（以字节为单位）：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># du -b scripts.tar.bz2 scripts.tar.gz </span>
1369 scripts.tar.bz2
1479 scripts.tar.gz
</code></pre>
<p>注意<code>bzip2</code>压缩的存档<code>scripts.tar.bz2</code>比<code>gzip</code>压缩的存档<code>scripts.tar.gz</code>要小。如果你想要将压缩存档<code>scripts.tar.bz2</code>中的文件提取到<code>/root/myscripts</code>，你可以运行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~<span class="hljs-regexp">/backup# tar -xf scripts.tar.bz2 -C /</span>root/myscripts
</code></pre>
<p>注意它与提取<code>gzip</code>压缩的存档的内容的方式完全相同。</p>
<h1 id="使用-xz-压缩">使用 xz 压缩<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>xz</code>压缩方法是 Linux 上另一种流行的压缩方法。平均而言，<code>xz</code>压缩在减小（压缩）文件大小方面做得比所有三种压缩方法中的其他方法都要好。</p>
<p>你可以使用<code>tar</code>命令的<code>-J</code>选项来使用<code>xz</code>压缩压缩存档，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">tar -cJf compressed_name archive_name
</code></pre>
<p>注意这里我们使用大写字母<code>J</code>与<code>xz</code>压缩。因此，要将<code>scripts.tar</code>存档压缩成名为<code>scripts.tar.xz</code>的<code>xz</code>压缩存档，你首先需要切换到<code>/root/backup</code>目录，然后运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># tar -cJf scripts.tar.xz scripts.tar</span>
</code></pre>
<p>现在，如果你列出<code>backup</code>目录的内容，你会看到新创建的<code>xz</code>压缩的存档<code>scripts.tar.xz</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># ls</span>
scripts.tar scripts.tar.bz2 scripts.tar.gz scripts.tar.xz
</code></pre>
<p>让我们在<code>scripts.tar.xz</code>上运行<code>file</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># file scripts.tar.xz </span>
scripts.tar.xz: XZ compressed data
</code></pre>
<p>它正确地检测到了用于存档<code>scripts.tar.xz</code>的压缩方法。</p>
<h1 id="性能测量">性能测量<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用<code>time</code>命令来测量命令（或程序）执行所需的时间。<code>time</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css"><span class="hljs-selector-tag">time</span> command_or_program
</code></pre>
<p>例如，要测量<code>date</code>命令执行所需的时间，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># <span class="hljs-type">time</span> <span class="hljs-type">date</span> 
Sun Nov <span class="hljs-number">3</span> <span class="hljs-number">16</span>:<span class="hljs-number">36</span>:<span class="hljs-number">33</span> CST <span class="hljs-number">2019</span>

<span class="hljs-type">real</span> <span class="hljs-number">0</span>m0<span class="hljs-number">.004</span>s 
<span class="hljs-keyword">user</span> <span class="hljs-number">0</span>m0<span class="hljs-number">.003</span>s 
sys <span class="hljs-number">0</span>m0<span class="hljs-number">.000</span>s
</code></pre>
<p>在我的系统上运行<code>date</code>命令只用了四毫秒；这相当快！</p>
<p><code>gzip</code>压缩方法是所有三种压缩方法中最快的；好吧，让我们看看我是在撒谎还是在说实话！切换到<code>/root/backup</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /root/backup </span>
root@ubuntu-linux:~/backup<span class="hljs-comment">#</span>
</code></pre>
<p>现在让我们看看为<code>/boot</code>中的所有文件创建一个<code>gzip</code>压缩的存档文件需要多长时间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>backup# <span class="hljs-type">time</span> tar <span class="hljs-operator">-</span>czf boot.tar.gz <span class="hljs-operator">/</span>boot 
<span class="hljs-type">real</span> <span class="hljs-number">0</span>m4<span class="hljs-number">.717</span>s
<span class="hljs-keyword">user</span> <span class="hljs-number">0</span>m4<span class="hljs-number">.361</span>s 
sys <span class="hljs-number">0</span>m0<span class="hljs-number">.339</span>s
</code></pre>
<p>在我的系统上，运行<code>gzip</code>花了 4.717 秒！现在让我们测量创建相同目录<code>/boot</code>的<code>bzip2</code>压缩存档所需的时间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>backup# <span class="hljs-type">time</span> tar <span class="hljs-operator">-</span>cjf boot.tar.bz2 <span class="hljs-operator">/</span>boot 
<span class="hljs-type">real</span> <span class="hljs-number">0</span>m19<span class="hljs-number">.306</span>s
<span class="hljs-keyword">user</span> <span class="hljs-number">0</span>m18<span class="hljs-number">.809</span>s 
sys   <span class="hljs-number">0</span>m0<span class="hljs-number">.359</span>s
</code></pre>
<p><code>bzip2</code>花了巨大的 19.306 秒！你可以看到<code>gzip</code>压缩比<code>bzip2</code>快得多。现在让我们看看创建相同目录<code>/boot</code>的<code>xz</code>压缩存档所需的时间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span><span class="hljs-operator">/</span>backup# <span class="hljs-type">time</span> tar <span class="hljs-operator">-</span>cJf boot.tar.xz <span class="hljs-operator">/</span>boot 
<span class="hljs-type">real</span> <span class="hljs-number">0</span>m53<span class="hljs-number">.745</span>s
<span class="hljs-keyword">user</span> <span class="hljs-number">0</span>m52<span class="hljs-number">.679</span>s 
sys   <span class="hljs-number">0</span>m0<span class="hljs-number">.873</span>s
</code></pre>
<p><code>xz</code>几乎花了整整一分钟！我们可以得出结论，<code>gzip</code>绝对是我们讨论的所有三种压缩方法中最快的。</p>
<p>最后，让我们检查三个压缩存档的大小（以字节为单位）：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~/backup<span class="hljs-comment"># du -b boot.* </span>
97934386 boot.tar.bz2
98036178 boot.tar.gz
94452156 boot.tar.xz
</code></pre>
<p>正如你所看到的，<code>xz</code>在压缩文件方面做得最好。<code>bzip2</code>排名第二，<code>gzip</code>排名最后。</p>
<h1 id="知识检查-14">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>在<code>/root</code>中为<code>/var</code>中的所有文件创建一个名为<code>var.tar.gz</code>的<code>gzip</code>存档。</p>
</li>
<li>
<p>在<code>/root</code>中为<code>/tmp</code>中的所有文件创建一个名为<code>tmp.tar.bz2</code>的<code>bzip2</code>存档。</p>
</li>
<li>
<p>在<code>/root</code>目录中为<code>/etc</code>目录中的所有文件创建一个名为<code>etc.tar.xz</code>的<code>xz</code>归档文件。</p>
</li>
</ol>
<p>创建你自己的命令</p>
<p>有时，你可能会很难记住一个命令。其他时候，你会发现自己一遍又一遍地运行一个非常长的命令，这让你发疯。在本章中，你将学习如何创建<em>自己</em>的命令，因为你才是真正的老板。</p>
<h1 id="第二十章你的第一个别名">第二十章：你的第一个别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>假设你总是忘记<code>free -h</code>命令显示系统的内存信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ free -h</span>
 total     used     free     shared     buff/cache     available
<span class="hljs-section">Mem:       3.9G     939M     2.2G       6.6M           752M         2.7G</span>
<span class="hljs-section">Swap:      947M       0B     947M </span>
</code></pre>
<p>也许你会问自己：“为什么我不能只输入<code>memory</code>来显示内存信息，而不是<code>free -h</code>？”。好吧，你当然可以通过创建一个<code>alias</code>来做到这一点。</p>
<p><code>alias</code>命令指示 shell 用另一个字符串（单词）替换一个字符串。那么这有什么用呢？让我告诉你；如果你运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> memory=<span class="hljs-string">"free -h"</span>
</code></pre>
<p>那么每次你输入<code>memory</code>，你的 shell 都会将其替换为<code>free -h</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">elliot@ubuntu-linux:~$ memory</span>
 total     used     free     shared     buff/cache     available
<span class="hljs-section">Mem:       3.9G     936M     2.2G       6.6M           756M         2.7G</span>
<span class="hljs-section">Swap:      947M       0B     947M</span>
</code></pre>
<p>哇！现在你已经实现了你的梦想！你可以为任何你难以记住的 Linux 命令创建一个别名。请注意，<code>alias</code>命令的一般格式如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">alias</span> alias_name=<span class="hljs-string">"command(s)_to_run"</span>
</code></pre>
<h1 id="一个别名对应多个命令">一个别名对应多个命令<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以使用分号在同一行上运行多个命令。例如，要一次创建一个名为<code>newdir</code>的新目录并切换到<code>newdir</code>，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">mkdir</span> newdir; <span class="hljs-built_in">cd</span> newdir 
elliot@ubuntu-linux:~/newdir$
</code></pre>
<p>你可以使用分号来分隔每个命令。一般来说，运行同一行上的多个命令的语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">command1<span class="hljs-comment">; command2; command3; command4; ....</span>
</code></pre>
<p>我们经常想同时查看日历和日期，对吧？为此，我们将创建一个名为<code>date</code>的别名，这样每次运行<code>date</code>时，它将同时运行<code>date</code>和<code>calendar</code>命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> date=<span class="hljs-string">"date;cal"</span>
</code></pre>
<p>现在让我们运行<code>date</code>，看看发生了什么：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/2a649e7b-4342-4086-8a87-f9c53771b55f.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>请注意，这里我们使用了别名<code>date</code>，这已经是一个现有命令的名称；这对于别名来说是完全可以的。</p>
<h1 id="列出所有别名">列出所有别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你还应该知道，别名是特定于用户的。因此，由<code>elliot</code>创建的别名对<code>smurf</code>用户不起作用；看一下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>su - smurf 
<span class="hljs-symbol">Password:</span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date 
Mon Nov <span class="hljs-number">4</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">33</span><span class="hljs-symbol">:</span><span class="hljs-number">36</span> CST <span class="hljs-number">2019</span>
smurf<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>memory
Command <span class="hljs-string">'memory'</span> <span class="hljs-keyword">not</span> found, did you <span class="hljs-symbol">mean:</span> 
 command <span class="hljs-string">'lmemory'</span> from deb lmemory
<span class="hljs-symbol">Try:</span> apt install &lt;deb name&gt;
</code></pre>
<p>正如你所看到的，<code>smurf</code>不能使用用户<code>elliot</code>的别名。所以每个用户都有自己的一组别名。现在，让我们退出到用户<code>elliot</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">smurf@ubuntu-linux:~$ exit </span>
logout
<span class="hljs-section">elliot@ubuntu-linux:~$ memory</span>
 total     used     free     shared     buff/cache     available
<span class="hljs-section">Mem:      3.9G     937M     2.0G       6.6M      990M               2.7G</span>
<span class="hljs-section">Swap:     947M       0B     947M </span>
</code></pre>
<p>你可以运行<code>alias</code>命令来列出当前登录用户可以使用的所有别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">alias</span> 
<span class="hljs-keyword">alias</span> date=<span class="hljs-symbol">'date</span>;cal'
<span class="hljs-keyword">alias</span> egrep=<span class="hljs-symbol">'egrep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> fgrep=<span class="hljs-symbol">'fgrep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> grep=<span class="hljs-symbol">'grep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> l=<span class="hljs-symbol">'ls</span> -CF'
<span class="hljs-keyword">alias</span> la=<span class="hljs-symbol">'ls</span> -A' 
<span class="hljs-keyword">alias</span> ll=<span class="hljs-symbol">'ls</span> -alF'
<span class="hljs-keyword">alias</span> ls=<span class="hljs-symbol">'ls</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> memory=<span class="hljs-symbol">'free</span> -h'
</code></pre>
<h1 id="创建永久别名">创建永久别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>到目前为止，我们一直在创建临时别名；也就是说，我们创建的<code>memory</code>和<code>date</code>这两个别名是临时的，只在当前终端会话中有效。一旦关闭终端，这两个别名就会消失。</p>
<p>打开一个新的终端会话，然后尝试运行我们创建的两个别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>date 
Mon Nov <span class="hljs-number">4</span> <span class="hljs-number">13</span><span class="hljs-symbol">:</span><span class="hljs-number">43</span><span class="hljs-symbol">:</span><span class="hljs-number">46</span> CST <span class="hljs-number">2019</span>
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>memory

Command <span class="hljs-string">'memory'</span> <span class="hljs-keyword">not</span> found, did you <span class="hljs-symbol">mean:</span> 
 command <span class="hljs-string">'lmemory'</span> from deb lmemory
<span class="hljs-symbol">Try:</span> sudo apt install &lt;deb name&gt;
</code></pre>
<p>如你所见，它们都消失了！它们甚至不再在你的别名列表中了：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-vhdl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">alias</span> 
<span class="hljs-keyword">alias</span> egrep=<span class="hljs-symbol">'egrep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> fgrep=<span class="hljs-symbol">'fgrep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> grep=<span class="hljs-symbol">'grep</span> <span class="hljs-comment">--color=auto' </span>
<span class="hljs-keyword">alias</span> l=<span class="hljs-symbol">'ls</span> -CF'
<span class="hljs-keyword">alias</span> la=<span class="hljs-symbol">'ls</span> -A' 
<span class="hljs-keyword">alias</span> ll=<span class="hljs-symbol">'ls</span> -alF'
<span class="hljs-keyword">alias</span> ls=<span class="hljs-symbol">'ls</span> <span class="hljs-comment">--color=auto'</span>
</code></pre>
<p>要为用户创建一个永久别名，你需要将其包含在用户主目录中的隐藏<code>.bashrc</code>文件中。因此，要永久添加我们的两个别名，你必须在<code>/home/el- liot/.bashrc</code>文件的最末尾添加以下两行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">alias</span> memory = <span class="hljs-string">"free -h"</span> 
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">date</span> = <span class="hljs-string">"date;cal"</span>
</code></pre>
<p>你可以通过运行以下两个<code>echo</code>命令来实现：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ echo <span class="hljs-string">'alias memory="free -h"'</span> &gt;&gt; <span class="hljs-regexp">/home/</span>elliot/.<span class="hljs-property">bashrc</span> 
elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ echo <span class="hljs-string">'alias date="date;cal"'</span> &gt;&gt; <span class="hljs-regexp">/home/</span>elliot/.<span class="hljs-property">bashrc</span>
</code></pre>
<p>在将这两个别名添加到<code>/home/elliot/.bashrc</code>文件后，你需要在<code>/home/elliot/.bashrc</code>文件上运行<code>source</code>命令，以使当前会话中的更改生效：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">source</span> /home/elliot/.bashrc
</code></pre>
<p>现在你可以永远使用你的两个别名<code>memory</code>和<code>date</code>，而不必担心在关闭当前终端会话后它们会消失：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/905df331-38f0-4953-a3e8-378e979374b5.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<h1 id="删除别名">删除别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们创建另一个临时别名，名为<code>lastline</code>，它将显示文件中的最后一行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> lastline=<span class="hljs-string">"tail -n 1"</span>
</code></pre>
<p>现在让我们在<code>/home/elliot/.bashrc</code>文件上尝试我们的新别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ lastline /home/elliot/.bashrc 
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">date</span>=<span class="hljs-string">"date;cal"</span>
</code></pre>
<p>好了！它运行得很好。现在，如果你想删除别名，你可以运行<code>unalias</code>命令，然后跟上别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>unalias lastline
</code></pre>
<p>现在<code>lastline</code>别名已经被删除：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ lastline /home/elliot/.bashrc 
lastline: <span class="hljs-built_in">command</span> not found
</code></pre>
<p>你还可以使用<code>unalias</code>命令临时停用永久别名。例如，如果你运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>unalias memory
</code></pre>
<p>现在，永久别名<code>memory</code>将在当前终端会话中不起作用：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">elliot<span class="hljs-keyword">@ubuntu-linux</span>:~$ memory

Command <span class="hljs-string">'memory'</span> <span class="hljs-keyword">not</span> found, did you <span class="hljs-attribute">mean</span>: 
 command <span class="hljs-string">'lmemory'</span> from deb lmemory
<span class="hljs-attribute">Try</span>: sudo apt install &lt;deb name&gt;
</code></pre>
<p>然而，别名<code>memory</code>将在新的终端会话中回来。要删除永久别名，你需要从<code>.bashrc</code>文件中删除它。</p>
<h1 id="一些有用的别名">一些有用的别名<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在让我们创建一些有用的别名，让我们在 Linux 命令行上工作时更加愉快。</p>
<p>很多人讨厌记住所有<code>tar</code>命令选项，所以让我们为这些人简化一下。我们将创建一个名为<code>extract</code>的别名，它将从存档中提取文件。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> extract=<span class="hljs-string">"tar -xvf"</span>
</code></pre>
<p>你可以在任何存档上尝试这个别名，它会像魔术一样起作用。</p>
<p>同样地，你可以创建一个名为<code>compress_gzip</code>的别名，它将创建一个 gzip 压缩的存档：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> compress_gzip=<span class="hljs-string">"tar -czvf"</span>
</code></pre>
<p>你可能还想创建一个名为<code>soft</code>的别名，它将创建软链接：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> soft=<span class="hljs-string">"ln -s"</span>
</code></pre>
<p>你可以使用软别名来创建一个名为<code>logfiles</code>的软链接，指向<code>/var/logs</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>soft /var/logs logfiles 
elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>ls -l logfiles
lrwxrwxrwx <span class="hljs-number">1</span> elliot elliot <span class="hljs-number">9</span> Nov <span class="hljs-number">4</span> <span class="hljs-number">15</span><span class="hljs-symbol">:</span>08 logfiles -&gt; <span class="hljs-regexp">/var/logs</span>
</code></pre>
<p>现在让我们创建一个名为<code>LISTEN</code>的别名，它将列出系统上所有正在监听的端口：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> LISTEN=<span class="hljs-string">"netstat -tulpen| grep -i listen"</span>
</code></pre>
<p>现在让我们尝试运行<code>LISTEN</code>别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span>LISTEN
tcp     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.53</span><span class="hljs-symbol">:</span><span class="hljs-number">53</span>     <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>     LISTEN
tcp     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:</span><span class="hljs-number">22</span>        <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>     LISTEN
tcp     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">631</span>     <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>     LISTEN
tcp     <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-number">127.0</span>.<span class="hljs-number">0.1</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span>      <span class="hljs-number">0.0</span>.<span class="hljs-number">0.0</span><span class="hljs-symbol">:*</span>     LISTEN
tcp6    <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-number">22</span>             <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:*</span>          LISTEN
tcp6    <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-number">631</span>           <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:*</span>          LISTEN
tcp6    <span class="hljs-number">0</span>     <span class="hljs-number">0</span> <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-number">1</span><span class="hljs-symbol">:</span><span class="hljs-number">25</span>            <span class="hljs-symbol">:</span><span class="hljs-symbol">:</span><span class="hljs-symbol">:*</span>          LISTEN
</code></pre>
<p>这很酷！让我们创建一个最终别名<code>sort_files</code>，它将按大小（按降序）列出当前目录中的所有文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-built_in">alias</span> sort_files=<span class="hljs-string">"du -bs * | sort -rn"</span>
</code></pre>
<p>现在让我们尝试运行<code>sort_files</code>别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">elliot@ubuntu-linux:~$ sort_files 
<span class="hljs-number">9628732</span> Downloads
<span class="hljs-number">2242937</span> Pictures
<span class="hljs-number">65080</span> minutes.txt
<span class="hljs-number">40393</span> load.txt
<span class="hljs-number">32768</span> <span class="hljs-keyword">dir1
</span><span class="hljs-number">20517</span> Desktop
<span class="hljs-number">20480</span> small
<span class="hljs-number">8192</span> hackers
<span class="hljs-number">476</span> game.<span class="hljs-keyword">sh
</span><span class="hljs-number">168</span> practise.txt
<span class="hljs-number">161</span> filetype.<span class="hljs-keyword">sh
</span><span class="hljs-number">142</span> noweb.<span class="hljs-keyword">sh
</span><span class="hljs-number">108</span> <span class="hljs-number">3</span>x10.<span class="hljs-keyword">sh
</span><span class="hljs-number">92</span> rename.<span class="hljs-keyword">sh
</span><span class="hljs-number">92</span> numbers.<span class="hljs-keyword">sh
</span><span class="hljs-number">88</span> detect.<span class="hljs-keyword">sh
</span><span class="hljs-number">74</span> hello3.<span class="hljs-keyword">sh
</span><span class="hljs-number">66</span> fun1.<span class="hljs-keyword">sh
</span><span class="hljs-number">59</span> hello20.<span class="hljs-keyword">sh
</span><span class="hljs-number">37</span> hello2.<span class="hljs-keyword">sh
</span><span class="hljs-number">33</span> hello.<span class="hljs-keyword">sh
</span><span class="hljs-number">17</span> mydate.<span class="hljs-keyword">sh
</span><span class="hljs-number">16</span> honey
<span class="hljs-number">9</span> logs
<span class="hljs-number">6</span> softdir1
<span class="hljs-number">0</span> empty
</code></pre>
<p>如你所见，当前目录中的文件按大小（即最大的文件先）降序列出。当你在系统上进行清理并想要检查哪些文件占用了最多空间时，这将特别有用。</p>
<h1 id="添加安全网">添加安全网<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你也可以使用别名来防止愚蠢的错误。例如，为了防止误删重要文件，你可以添加以下别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> rm=<span class="hljs-string">"rm -i"</span>
</code></pre>
<p>现在每次你尝试删除一个文件时都会被要求确认：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> <span class="hljs-built_in">rm</span> *
<span class="hljs-built_in">rm</span>: remove regular file <span class="hljs-string">'3x10.sh'</span>?
</code></pre>
<h1 id="用别名发疯">用别名发疯<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你也可以通过别名来玩一些有趣的东西，让用户发疯；看看这个别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> nano=<span class="hljs-string">"vi"</span>
</code></pre>
<p>现在当用户<code>elliot</code>尝试打开<code>nano</code>编辑器时，将会打开<code>vi</code>编辑器！用户<code>elliot</code>可以通过输入<code>nano</code>编辑器的完整路径来克服这个困境。这里是另一个有趣的别名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">elliot<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>~<span class="hljs-variable">$ </span><span class="hljs-keyword">alias</span> exit=<span class="hljs-string">"echo No I am not exiting ..."</span>
</code></pre>
<p>现在看看当用户<code>elliot</code>尝试退出终端时会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">elliot@ubuntu-linux:~$ <span class="hljs-keyword">exit</span> 
No I am <span class="hljs-keyword">not</span> exiting ... 
elliot@ubuntu-linux:~$ <span class="hljs-keyword">exit</span> 
No I am <span class="hljs-keyword">not</span> exiting ...
</code></pre>
<p>我会让你自己处理这个问题；我就是这么邪恶！哈哈。</p>
<h1 id="知识检查-15">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于以下练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>为<code>apt-get install</code>命令创建一个临时别名<code>ins</code>。</p>
</li>
<li>
<p>为<code>dpkg -l</code>命令创建一个临时别名<code>packages</code>。</p>
</li>
<li>
<p>创建一个名为<code>clean</code>的永久别名，它将删除<code>/tmp</code>目录中的所有文件。</p>
</li>
</ol>
<p>每个人都需要磁盘空间</p>
<p>在本章中，您将学习如何在 Linux 中管理硬盘。您将学习如何在驱动器上创建新分区。然后您将学习如何创建和挂载文件系统。最后，您将学习如何使用 LVM 创建逻辑卷。</p>
<h1 id="第二十一章您的设备在哪里">第二十一章：您的设备在哪里？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>正如我们现在都知道的那样，在 Linux 中，文件代表一切，设备也不例外。所有设备都位于<code>/dev</code>目录中；这包括您的键盘、鼠标、终端、硬盘、USB 设备、CD-ROM 等。</p>
<p>您现在正在使用的终端实际上是一个设备。如果运行<code>w</code>命令，您将在输出的第二列中看到您连接到的终端的名称。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">elliot<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span>$ w
<span class="hljs-number">11</span>:<span class="hljs-number">38</span>:<span class="hljs-number">59</span> up <span class="hljs-number">17</span> min, <span class="hljs-number">1</span> <span class="hljs-keyword">user</span>, load average: <span class="hljs-number">0.00</span>, <span class="hljs-number">0.00</span>, <span class="hljs-number">0.02</span>
<span class="hljs-keyword">USER</span>   TTY       <span class="hljs-keyword">FROM</span>             LOGIN@  IDLE  JCPU  PCPU  WHAT
elliot pts<span class="hljs-operator">/</span><span class="hljs-number">0</span>     <span class="hljs-number">172.16</span><span class="hljs-number">.1</span><span class="hljs-number">.67</span>      <span class="hljs-number">11</span>:<span class="hljs-number">22</span>   <span class="hljs-number">0.00</span>s <span class="hljs-number">0.06</span>s <span class="hljs-number">0.00</span>s w
</code></pre>
<p>在我的情况下，它是<code>pts/0</code>；<strong>pts</strong>是<strong>伪终端</strong>的缩写。现在，这个终端由文件<code>/dev/pts/0</code>表示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">elliot@ubuntu-linux:~$ <span class="hljs-built_in">ls</span> -l /dev/pts/0
crw------- 1 elliot <span class="hljs-built_in">tty</span> 136, 0 Nov 7 11:40 /dev/pts/0
</code></pre>
<p>我将把<code>Hello Friend</code>这一行回显到<code>/dev/pts/0</code>，并密切关注接下来会发生什么：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">elliot<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:~$ echo <span class="hljs-string">"Hello Friend"</span> &gt; <span class="hljs-regexp">/dev/</span>pts/<span class="hljs-number">0</span> 
<span class="hljs-title class_">Hello</span> <span class="hljs-title class_">Friend</span>
</code></pre>
<p>正如您所看到的，<code>Hello Friend</code>被打印到我的终端！现在您可以在系统上与其他用户玩这个游戏。您可以运行<code>w</code>命令来找出他们正在使用的终端，然后开始发送消息给他们！</p>
<h1 id="您的硬盘在哪里">您的硬盘在哪里？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>要知道哪个文件代表您的硬盘，您需要运行<code>lsblk</code>命令，这是<strong>列出块</strong>的缩写：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> lsblk
NAME   MAJ:MIN  <span class="hljs-built_in">RM</span> SIZE RO  <span class="hljs-built_in">TYPE</span> MOUNTPOINT
sda      <span class="hljs-number">8</span>:<span class="hljs-number">0</span>     <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  disk
| sda1   <span class="hljs-number">8</span>:<span class="hljs-number">1</span>     <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  part /
sr0      <span class="hljs-number">11</span>:<span class="hljs-number">0</span>    <span class="hljs-number">1</span> <span class="hljs-number">1024</span>M <span class="hljs-number">0</span>  rom
</code></pre>
<p>从输出中，我可以看到我的硬盘设备的名称是<strong>sda</strong>，这是<strong>SCSI Disk A</strong>的缩写。现在您需要明白，根据您的硬盘驱动器类型，您可能会得到不同的名称。<code>图 1</code>总结了不同类型硬盘驱动器的 Linux 命名策略：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/82b56fd7-4fe7-4523-872b-b91c61bce092.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 1：Linux 中的硬盘命名</p>
<p>因此，从<code>lsblk</code>命令的输出中，您可以得出结论，我在我的虚拟机上只有一个磁盘（<code>sda</code>）。现在我们不想操作这个磁盘，因为它包含了根文件系统，所以让我们为学习目的向我们的虚拟机添加另一个磁盘。</p>
<h1 id="向虚拟机添加磁盘">向虚拟机添加磁盘<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>要成功向虚拟机添加新磁盘，您需要遵循一些步骤。您必须按照特定顺序执行这些步骤：</p>
<ol>
<li>
<p>关闭您的虚拟机。</p>
</li>
<li>
<p>转到虚拟机设置|存储|创建新磁盘。</p>
</li>
<li>
<p>启动您的虚拟机。</p>
</li>
</ol>
<p>因此，第一步非常简单；关闭您的虚拟机，因为在虚拟机仍在运行时无法向其添加新磁盘。对于第二步，您需要进入虚拟机设置，然后点击存储，然后选择您的磁盘控制器，右键单击，然后按<code>图 2</code>所示创建新磁盘：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/024cef9e-10f2-4238-8345-1497975ccc2c.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 2：在虚拟机上创建新磁盘</p>
<p>然后您将被要求选择新磁盘的大小。您可以选择任何大小。我在我的主机机器上有大量的磁盘空间，所以我将向我的虚拟机添加一个 10 GB 的磁盘。完成后，最后一步是再次启动您的虚拟机。</p>
<p>只要您的虚拟机启动，您应该能够看到您的新磁盘：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell">elliot@ubuntu<span class="hljs-literal">-linux</span>:~<span class="hljs-variable">$</span> lsblk
NAME    MAJ:MIN <span class="hljs-built_in">RM</span> SIZE RO <span class="hljs-built_in">TYPE</span> MOUNTPOINT
sda       <span class="hljs-number">8</span>:<span class="hljs-number">0</span>   <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  disk
| sda1    <span class="hljs-number">8</span>:<span class="hljs-number">1</span>   <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  part /
sdb       <span class="hljs-number">8</span>:<span class="hljs-number">16</span>  <span class="hljs-number">0</span>  <span class="hljs-number">10</span>G  <span class="hljs-number">0</span>  disk
sr0      <span class="hljs-number">11</span>:<span class="hljs-number">0</span>   <span class="hljs-number">1</span> <span class="hljs-number">1024</span>M <span class="hljs-number">0</span>  rom
</code></pre>
<p>我的新磁盘得到了名称<code>sdb</code>，因为它是我虚拟机上的第二个磁盘，您还可以看到它的大小为 10 GB。</p>
<h1 id="创建新磁盘分区">创建新磁盘分区<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>现在让我们来玩一下我们刚刚创建的新磁盘。您可能想要做的第一件事是创建一个新分区。要创建一个新分区，我们使用<code>fdisk</code>命令，后面跟着磁盘名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css">fdisk <span class="hljs-selector-attr">[options]</span> device
</code></pre>
<p>因此，要在<code>/dev/sdb</code>磁盘上创建一个新分区，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># fdisk <span class="hljs-operator">/</span>dev<span class="hljs-operator">/</span>sdb

Welcome <span class="hljs-keyword">to</span> fdisk (util<span class="hljs-operator">-</span>linux <span class="hljs-number">2.31</span><span class="hljs-number">.1</span>).
Changes will remain <span class="hljs-keyword">in</span> memory <span class="hljs-keyword">only</span>, until you decide <span class="hljs-keyword">to</span> write them. 
Be careful before <span class="hljs-keyword">using</span> the write command.

Device does <span class="hljs-keyword">not</span> contain a recognized <span class="hljs-keyword">partition</span> table. 
Created a <span class="hljs-keyword">new</span> DOS disklabel <span class="hljs-keyword">with</span> disk identifier <span class="hljs-number">0xb13d9b6a</span>.

Command (m <span class="hljs-keyword">for</span> help):
</code></pre>
<p>这打开了<code>fdisk</code>实用程序。如果你不确定该怎么做，可以输入<code>m</code>来获取帮助：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">Command (m <span class="hljs-keyword">for</span> help): m 
Help:
 DOS (MBR)
 a   toggle a bootable flag
 b   edit nested BSD disklabel
 c   toggle the dos compatibility flag

 Generic
 d   <span class="hljs-keyword">delete</span> a <span class="hljs-keyword">partition</span>
 F   list <span class="hljs-keyword">free</span> unpartitioned space l list known <span class="hljs-keyword">partition</span> types
 n   <span class="hljs-keyword">add</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">partition</span>
 p   print the <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span> t change a <span class="hljs-keyword">partition</span> type
 v   verify the <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span>
 i   print information about a <span class="hljs-keyword">partition</span>

 Save <span class="hljs-operator">&amp;</span> Exit
 w   write <span class="hljs-keyword">table</span> <span class="hljs-keyword">to</span> disk <span class="hljs-keyword">and</span> exit 
 q   quit <span class="hljs-keyword">without</span> saving changes

 <span class="hljs-keyword">Create</span> a <span class="hljs-keyword">new</span> label
 g   <span class="hljs-keyword">create</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">empty</span> GPT <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span>
 G   <span class="hljs-keyword">create</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">empty</span> SGI (IRIX) <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span> 
 o   <span class="hljs-keyword">create</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">empty</span> DOS   <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span>
 s   <span class="hljs-keyword">create</span> a <span class="hljs-keyword">new</span> <span class="hljs-keyword">empty</span> Sun <span class="hljs-keyword">partition</span> <span class="hljs-keyword">table</span>
</code></pre>
<p>我们想创建一个新分区，所以输入<code>n</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">Command (m <span class="hljs-keyword">for</span> help): n 
<span class="hljs-keyword">Partition</span> type
 p <span class="hljs-keyword">primary</span> (<span class="hljs-number">0</span> <span class="hljs-keyword">primary</span>, <span class="hljs-number">0</span> extended, <span class="hljs-number">4</span> <span class="hljs-keyword">free</span>)
 e extended (container <span class="hljs-keyword">for</span> logical partitions) 
<span class="hljs-keyword">Select</span> (<span class="hljs-keyword">default</span> p):
</code></pre>
<p>然后它会问你是要主分区还是扩展分区。我们会接受默认选择（主分区），所以只需按<em>Enter</em>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql"><span class="hljs-keyword">Using</span> <span class="hljs-keyword">default</span> response p. 
<span class="hljs-keyword">Partition</span> number (<span class="hljs-number">1</span><span class="hljs-number">-4</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">1</span>):
</code></pre>
<p>然后它会要求您选择一个分区号。我们也会接受默认值，即分区号<code>1</code>，所以只需按<em>Enter</em>。请注意，您可以在给定磁盘上创建最多四个主分区：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-java">Partition <span class="hljs-title function_">number</span> <span class="hljs-params">(<span class="hljs-number">1</span>-<span class="hljs-number">4</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">1</span>)</span>:
First <span class="hljs-title function_">sector</span> <span class="hljs-params">(<span class="hljs-number">2048</span>-<span class="hljs-number">20971519</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">2048</span>)</span>:
</code></pre>
<p>然后您将被提示选择您希望新分区从哪个扇区开始；按<em>Enter</em>接受默认值（<code>2048</code>）：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-cpp"><span class="hljs-function">First <span class="hljs-title">sector</span> <span class="hljs-params">(<span class="hljs-number">2048</span><span class="hljs-number">-20971519</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">2048</span>)</span>:
Last sector, +sectors or +size{</span>K,M,G,T,P} (<span class="hljs-number">2048</span><span class="hljs-number">-20971519</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">20971519</span>):
</code></pre>
<p>现在您将被要求选择新分区的大小；我想要一个 2GB 的分区，所以我会输入<code>+2G</code>，然后按<em>Enter</em>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-go">Last sector, +sectors or +size{K,M,G,T,P} (<span class="hljs-number">2048</span><span class="hljs-number">-20971519</span>, <span class="hljs-keyword">default</span> <span class="hljs-number">20971519</span>): +<span class="hljs-number">2</span>G

Created a <span class="hljs-built_in">new</span> partition <span class="hljs-number">1</span> of <span class="hljs-keyword">type</span> <span class="hljs-string">'Linux'</span> and of size <span class="hljs-number">2</span> GiB. 
Command (m <span class="hljs-keyword">for</span> help):
</code></pre>
<p>最后，您需要按<code>w</code>保存配置：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-lua">Command (m <span class="hljs-keyword">for</span> help): w
The partition <span class="hljs-built_in">table</span> has been altered. 
Calling ioctl() to re-<span class="hljs-built_in">read</span> partition <span class="hljs-built_in">table</span>. 
Syncing disks.
</code></pre>
<p>现在您可以运行<code>lsblk</code>来查看您刚刚创建的新分区：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-dart">root<span class="hljs-meta">@ubuntu</span>-linux:~# lsblk
NAME   MAJ:MIN RM SIZE  RO TYPE MOUNTPOINT
sda      <span class="hljs-number">8</span>:<span class="hljs-number">0</span>   <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G   <span class="hljs-number">0</span>  disk
| sda1   <span class="hljs-number">8</span>:<span class="hljs-number">1</span>   <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G   <span class="hljs-number">0</span>  <span class="hljs-keyword">part</span> /
sdb      <span class="hljs-number">8</span>:<span class="hljs-number">16</span>  <span class="hljs-number">0</span>  <span class="hljs-number">10</span>G   <span class="hljs-number">0</span>  disk
| sdb1   <span class="hljs-number">8</span>:<span class="hljs-number">17</span>  <span class="hljs-number">0</span>  <span class="hljs-number">2</span>G    <span class="hljs-number">0</span>  <span class="hljs-keyword">part</span>
sr0     <span class="hljs-number">11</span>:<span class="hljs-number">0</span>   <span class="hljs-number">1</span> <span class="hljs-number">1024</span>M  <span class="hljs-number">0</span>  rom
</code></pre>
<p>您可以看到 2GB 分区<code>sdb1</code>列在<code>sdb</code>下。您还可以使用<code>fdisk</code>命令的<code>-l</code>选项打印出磁盘的分区表：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-python">root@ubuntu-linux:~<span class="hljs-comment"># fdisk -l /dev/sdb</span>
Disk /dev/sdb: <span class="hljs-number">10</span> GiB, <span class="hljs-number">10737418240</span> <span class="hljs-built_in">bytes</span>, <span class="hljs-number">20971520</span> sectors
Units: sectors of <span class="hljs-number">1</span> * <span class="hljs-number">512</span> = <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span>
Sector size (logical/physical): <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> / <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> 
I/O size (minimum/optimal): <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> / <span class="hljs-number">512</span> <span class="hljs-built_in">bytes</span> 
Disklabel <span class="hljs-built_in">type</span>: dos
Disk identifier: <span class="hljs-number">0xb13d9b6a</span>

Device      Boot Start    End Sectors  Size  Id <span class="hljs-type">Type</span>
/dev/sdb1        <span class="hljs-number">2048</span> <span class="hljs-number">4196351</span> <span class="hljs-number">4194304</span>   2G   <span class="hljs-number">83</span> Linux
</code></pre>
<h1 id="创建新文件系统">创建新文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我现在还不能在我的<code>/dev/sdb1</code>分区上创建文件和目录；首先，我需要创建一个文件系统。文件系统基本上决定了数据在磁盘（或分区）上的组织和存储方式。一个很好的类比是飞机上的乘客；航空公司不能让乘客（数据）自己在飞机（分区）上就座；那将是一团糟。</p>
<p>在 Linux 上有许多不同类型的文件系统可用。重要的是要注意，<code>ext4</code>和<code>xfs</code>是最常用的文件系统。<code>图 3</code>向您展示了 Linux 支持的一些可用文件系统：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/0169a0bc-a2a3-4d85-b34a-6bf083622441.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 3：Linux 文件系统</p>
<p>您可以在文件系统的<code>man</code>页面中阅读每种 Linux 文件系统类型的描述：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># man filesystems</span>
</code></pre>
<p>要创建文件系统，我们使用<code>mkfs</code>命令，它是 make filesystem 的缩写。<code>mkfs</code>命令的一般语法如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css">mkfs <span class="hljs-attr">--type</span> <span class="hljs-selector-attr">[fstype]</span> disk_or_partition
</code></pre>
<p>现在让我们在我们的新分区<code>/dev/sdb1</code>上创建一个<code>ext4</code>文件系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># mkfs --type ext4 /dev/sdb1 </span>
mke<span class="hljs-symbol">2f</span>s <span class="hljs-number">1</span>.<span class="hljs-number">44</span>.<span class="hljs-number">1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Creating filesystem with <span class="hljs-number">524288</span> <span class="hljs-number">4</span>k <span class="hljs-keyword">blocks </span><span class="hljs-keyword">and </span><span class="hljs-number">131072</span> inodes 
Filesystem UUID: <span class="hljs-number">61</span>d<span class="hljs-symbol">947b</span>b<span class="hljs-number">-0</span>cd1<span class="hljs-number">-41</span>e1<span class="hljs-number">-90</span>e0-c<span class="hljs-symbol">9895b</span>6de428 
Superblock <span class="hljs-keyword">backups </span>stored on <span class="hljs-keyword">blocks:
</span><span class="hljs-number">32768</span>, <span class="hljs-number">98304</span>, <span class="hljs-number">163840</span>, <span class="hljs-number">229376</span>, <span class="hljs-number">294912</span>

Allocating group tables: done 
Writing inode tables: done
Creating <span class="hljs-keyword">journal </span>(<span class="hljs-number">16384</span> <span class="hljs-keyword">blocks): </span>done
Writing superblocks <span class="hljs-keyword">and </span>filesystem accounting information: done
</code></pre>
<p>我们已经在我们的分区<code>/dev/sdb1</code>上创建了一个<code>ext4</code>文件系统。我们可以通过在<code>/dev/sdb1</code>分区上运行<code>file -s</code>命令来验证我们的工作：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-makefile"><span class="hljs-section">root@ubuntu-linux:~# file -s /dev/sdb1</span>
<span class="hljs-section">/dev/sdb1: Linux rev 1.0 ext4 filesystem data,</span>
UUID=61d947bb-0cd1-41e1-90e0-c9895b6de428 (extents) (64bit) (large files) (huge files)
</code></pre>
<p>如您所见，它显示<code>/dev/sdb1</code>分区上有一个<code>ext4</code>文件系统。</p>
<p>您可以使用<code>wipefs</code>命令来删除（擦除）文件系统。例如，如果您想要删除我们刚在<code>/dev/sdb1</code>上创建的<code>ext4</code>文件系统，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># wipefs -a /dev/sdb1</span>
/dev/sdb1: 2 bytes were erased at offset 0x00000438 (ext4): 53 ef
</code></pre>
<p>现在如果您在<code>/dev/sdb1</code>分区上重新运行<code>file -s</code>，您将看到没有文件系统签名：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># file -s /dev/sdb1</span>
/dev/sdb1: data
</code></pre>
<p>让我们重新在<code>/dev/sdb1</code>上创建一个<code>ext4</code>文件系统并保留它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># mkfs --type ext4 /dev/sdb1 </span>
mke<span class="hljs-symbol">2f</span>s <span class="hljs-number">1</span>.<span class="hljs-number">44</span>.<span class="hljs-number">1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Creating filesystem with <span class="hljs-number">524288</span> <span class="hljs-number">4</span>k <span class="hljs-keyword">blocks </span><span class="hljs-keyword">and </span><span class="hljs-number">131072</span> inodes 
Filesystem UUID: <span class="hljs-number">811</span>aef62-d9ca<span class="hljs-number">-4</span>db3-<span class="hljs-keyword">b305-bd896d1c8545 </span>
Superblock <span class="hljs-keyword">backups </span>stored on <span class="hljs-keyword">blocks:
</span><span class="hljs-number">32768</span>, <span class="hljs-number">98304</span>, <span class="hljs-number">163840</span>, <span class="hljs-number">229376</span>, <span class="hljs-number">294912</span>

Allocating group tables: done 
Writing inode tables: done
Creating <span class="hljs-keyword">journal </span>(<span class="hljs-number">16384</span> <span class="hljs-keyword">blocks): </span>done
Writing superblocks <span class="hljs-keyword">and </span>filesystem accounting information: done
</code></pre>
<h1 id="挂载文件系统">挂载文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>我们已经在分区<code>/dev/sdb1</code>上创建了一个<code>ext4</code>文件系统。现在我们需要在 Linux 目录树中的某个地方挂载我们的文件系统。</p>
<p><strong>什么是挂载？</strong></p>
<p>挂载是指将任何文件系统或任何存储设备（如 USB 闪存驱动器、CD 等）附加到目录的过程。</p>
<p>但是为什么我们需要挂载？我的意思是，我们刚刚在 2GB 分区<code>/dev/sdb1</code>上创建了一个<code>ext4</code>文件系统。我们不能直接开始在<code>/dev/sdb1</code>上创建文件吗？答案是否定的！请记住，<code>/dev/sdb1</code>只是一个代表分区的文件。</p>
<p>要挂载文件系统，我们使用如下的 mount 命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-powershell"><span class="hljs-built_in">mount</span> filesystem mount_directory
</code></pre>
<p>所以假设我们将使用文件系统<code>/dev/sdb1</code>来存储我们的游戏。在这种情况下，让我们创建一个新目录<code>/games</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mkdir /games</span>
</code></pre>
<p>现在唯一剩下的就是将我们的文件系统<code>/dev/sdb1</code>挂载到<code>/games</code>目录上：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# mount /</span>dev/sdb1 /games
</code></pre>
<p>我们可以通过运行<code>lsblk</code>命令来验证我们的工作：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-dart">root<span class="hljs-meta">@ubuntu</span>-linux:~# lsblk
NAME   MAJ:MIN  RM SIZE RO TYPE MOUNTPOINT
sda      <span class="hljs-number">8</span>:<span class="hljs-number">0</span>    <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  disk
| sda1   <span class="hljs-number">8</span>:<span class="hljs-number">1</span>    <span class="hljs-number">0</span>  <span class="hljs-number">20</span>G  <span class="hljs-number">0</span>  <span class="hljs-keyword">part</span> /
sdb      <span class="hljs-number">8</span>:<span class="hljs-number">16</span>   <span class="hljs-number">0</span>  <span class="hljs-number">10</span>G  <span class="hljs-number">0</span>  disk
| sdb1   <span class="hljs-number">8</span>:<span class="hljs-number">17</span>   <span class="hljs-number">0</span>  <span class="hljs-number">2</span>G   <span class="hljs-number">0</span>  <span class="hljs-keyword">part</span> /games
sr0     <span class="hljs-number">11</span>:<span class="hljs-number">0</span>    <span class="hljs-number">1</span> <span class="hljs-number">1024</span>M <span class="hljs-number">0</span>  rom
</code></pre>
<p>如您所见，<code>/dev/sdb1</code>确实挂载在<code>/games</code>上。</p>
<p>您还可以使用<code>mount</code>命令本身来列出系统上已挂载的所有文件系统。例如，要验证<code>/dev/sdb1</code>是否挂载在<code>/games</code>上，可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/<span class="hljs-comment"># mount | grep sdb1</span>
/dev/sdb1 on /games <span class="hljs-built_in">type</span> ext4 (rw,relatime,data=ordered)
</code></pre>
<p>我们现在有 2GB 可供我们在<code>/games</code>中使用，您可以使用<code>df</code>命令来显示文件系统磁盘空间的使用情况：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># df -h /games</span>
Filesystem     Size Used Avail Use% Mounted on
/dev/sdb1      2.0G 6.0M 1.8G   1%  /games
</code></pre>
<p>现在让我们在<code>/games</code>中创建三个文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /games</span>
root@ubuntu-linux:/games<span class="hljs-comment"># touch game1 game2 game3</span>
</code></pre>
<h1 id="卸载文件系统">卸载文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>您还可以卸载（与挂载相反）文件系统。正如您可能已经猜到的，卸载是指分离文件系统或存储设备的过程。要卸载文件系统，您可以使用<code>umount</code>如下：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-undefined">umount filesystem
</code></pre>
<p>切换到<code>/games</code>目录并尝试卸载<code>/dev/sdb1</code>文件系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/games<span class="hljs-comment"># umount /dev/sdb1 </span>
umount: /games: target is busy.
</code></pre>
<p>哎呀！它说目标正忙！那是因为我在挂载点<code>/games</code>内；我将备份到上一级目录，然后再试一次：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-ruby">root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/games<span class="hljs-comment"># cd .. </span>
root<span class="hljs-variable">@ubuntu</span>-<span class="hljs-symbol">linux:</span>/<span class="hljs-comment"># umount /dev/sdb1</span>
</code></pre>
<p>这次成功了！您必须小心，永远不要在文件系统或任何存储设备正在被使用时卸载它；否则，您可能会丢失数据！</p>
<p>现在让我们验证文件系统<code>/dev/sdb1</code>确实已卸载：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:<span class="hljs-regexp">/# lsblk
NAME   MAJ:MIN RM SIZE  RO TYPE MOUNTPOINT
sda      8:0   0  20G   0  disk
| sda1   8:1   0  20G   0  part /</span>
sdb      <span class="hljs-number">8</span>:<span class="hljs-number">16</span>  <span class="hljs-number">0</span>  <span class="hljs-number">10</span>G   <span class="hljs-number">0</span>  disk
| sdb1   <span class="hljs-number">8</span>:<span class="hljs-number">17</span>  <span class="hljs-number">0</span>  <span class="hljs-number">2</span>G    <span class="hljs-number">0</span>  part
sr<span class="hljs-number">0</span>     <span class="hljs-number">11</span>:<span class="hljs-number">0</span>   <span class="hljs-number">1</span> <span class="hljs-number">1024</span>M  <span class="hljs-number">0</span>  rom
root@ubuntu-linux:/<span class="hljs-comment"># mount | grep sdb1</span>
</code></pre>
<p>是的！它肯定已经卸载了！现在让我们列出<code>/games</code>目录的内容：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/# ls /g</span>ames
</code></pre>
<p>什么都没有！但不要惊慌或担心！我们创建的三个文件仍然存在于<code>/dev/sdb1</code>文件系统中。我们需要重新挂载文件系统，然后您将看到这些文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/sdb1 /games </span>
root@ubuntu-linux:~<span class="hljs-comment"># ls /games</span>
game1 game2 game3 lost+found
</code></pre>
<h1 id="永久挂载文件系统">永久挂载文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p><code>mount</code>命令只会临时挂载文件系统；也就是说，使用<code>mount</code>命令挂载的文件系统不会在系统重新启动后保留。如果要永久挂载文件系统，那么您需要将其包含在文件系统表文件<code>/etc/fstab</code>中。</p>
<p><code>/etc/fstab</code>中的每个条目（或行）代表一个不同的文件系统，每行由以下六个字段组成：</p>
<ul>
<li>
<p><code>filesystem</code></p>
</li>
<li>
<p><code>mount_dir</code></p>
</li>
<li>
<p><code>fstype</code></p>
</li>
<li>
<p><code>mount_options</code></p>
</li>
<li>
<p><code>dump</code></p>
</li>
<li>
<p><code>check_fs</code></p>
</li>
</ul>
<p>因此，例如，要永久将我们的<code>/dev/sdb1</code>文件系统挂载到<code>/games</code>上，您需要在<code>/etc/fstab</code>中包含以下行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">/dev/sdb1 /games ext4 defaults 0 0
</code></pre>
<p>您应该将该行添加到<code>/etc/fstab</code>文件的末尾：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># tail -1 /etc/fstab</span>
/dev/sdb1   /games ext4   defaults   0   0
</code></pre>
<p>现在让我们卸载<code>/dev/sdb1</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># umount /dev/sdb1</span>
</code></pre>
<p>最后，您现在可以通过运行以下命令永久挂载<code>/dev/sdb1</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/sdb1</span>
</code></pre>
<p>请注意，这次我们没有指定挂载目标；那是因为挂载目标已经在<code>/etc/fstab</code>文件中指定了。您可以在<code>mount</code>命令中使用<code>-a</code>选项：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mount -a</span>
</code></pre>
<p>要挂载<code>/etc/fstab</code>中包含的所有文件系统。它还用于检查语法错误。例如，如果您在<code>/etc/fstab</code>中写错了<code>/dev/sdx1</code>，而不是<code>/dev/sdb1</code>，它将显示以下错误：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># mount -a</span>
mount: /games: special device /dev/sdx1 does not exist.
</code></pre>
<p>所有在<code>/etc/fstab</code>中指定的挂载点都是永久的，它们将在系统重新启动后保留。您还可以参考<code>fstab</code>手册页，了解有关<code>/etc/fstab</code>的更多信息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># man fstab</span>
</code></pre>
<h1 id="空间用完">空间用完<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>让我们创建巨大的文件，以消耗<code>/games</code>中所有可用的磁盘空间。</p>
<p>在 Linux 中快速创建大文件的一种方法是使用<code>dd</code>命令。为了演示，让我们首先切换到<code>/games</code>目录：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># cd /games </span>
root@ubuntu-linux:/games<span class="hljs-comment">#</span>
</code></pre>
<p>现在，您可以运行以下命令创建一个名为<code>bigGame</code>的<code>1</code>GB 文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/games<span class="hljs-comment"># dd if=/dev/zero of=bigGame bs=1G count=1 </span>
1+0 records <span class="hljs-keyword">in</span>
1+0 records out
1073741824 bytes (1.1 GB, 1.0 GiB) copied, 1.44297 s, 744 MB/s
</code></pre>
<p>我们现在已经使用了<code>/games</code>中超过一半的可用空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/games<span class="hljs-comment"># df -h /games </span>
Filesystem    Size Used Avail Use% Mounted on
/dev/sdb1     2.0G 1.1G 868M  55%  /games
</code></pre>
<p>现在让我们尝试创建另一个名为<code>bigFish</code>的大小为<code>3</code>GB 的文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/games<span class="hljs-comment"># dd if=/dev/zero of=bigFish bs=1G count=3 </span>
<span class="hljs-built_in">dd</span>: error writing <span class="hljs-string">'bigFish'</span>: No space left on device
1+0 records <span class="hljs-keyword">in</span>
0+0 records out
1016942592 bytes (1.0 GB, 970 MiB) copied, 1.59397 s, 638 MB/s
</code></pre>
<p>我们遇到了错误，因为空间用完了：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/games<span class="hljs-comment"># df -h /games </span>
Filesystem    Size Used Avail Use% Mounted on
/dev/sdb1     2.0G 2.0G  0    100% /games
</code></pre>
<p>现在我们甚至无法创建一个带有<code>Hello</code>一词的小文件：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:/games# echo Hello &gt; greeting.txt
<span class="hljs-attribute">-su</span>: <span class="hljs-attribute">echo</span>: write <span class="hljs-attribute">error</span>: No space left on device
</code></pre>
<h1 id="损坏和修复文件系统">损坏和修复文件系统<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>在一些不幸的情况下，您可能会遇到系统由于文件系统损坏而无法启动的问题。在这种情况下，您必须修复文件系统，以便系统正常启动。我将向您展示如何损坏文件系统，然后向您展示如何修复它。</p>
<p>通过向其写入随机数据，轻松损坏文件系统。</p>
<p>以下命令肯定会损坏您的<code>/dev/sdb1</code>文件系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-typescript">root<span class="hljs-meta">@ubuntu</span>-<span class="hljs-attr">linux</span>:<span class="hljs-regexp">/games# dd if=/</span>dev/urandom <span class="hljs-keyword">of</span>=<span class="hljs-regexp">/dev/</span>sdb1 count=10k
</code></pre>
<p>您的<code>/dev/sdb1</code>文件系统现在已损坏！如果您不相信我，卸载它，然后再尝试重新挂载它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># umount /dev/sdb1</span>
</code></pre>
<p>好的，它成功卸载了！让我们看看它是否会挂载：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/sdb1 /games</span>
mount: /games: wrong fs <span class="hljs-built_in">type</span>, bad option, bad superblock on /dev/sdb1, 
missing codepage or helper program, or other error.
</code></pre>
<p>正如您所看到的，它无法挂载，因为它会输出错误消息。</p>
<p>恭喜！您的文件系统已损坏。现在我们能做什么？好吧，我们肯定可以修复它！</p>
<p>您可以使用文件系统检查命令<code>fsck</code>来检查和修复文件系统。因此，让我们在我们损坏的文件系统上运行<code>fsck</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># fsck /dev/sdb1 </span>
fsck <span class="hljs-keyword">from</span> util-linux <span class="hljs-number">2.31</span><span class="hljs-number">.1</span>
e2fsck <span class="hljs-number">1.44</span><span class="hljs-number">.1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
/dev/sdb1 was <span class="hljs-keyword">not</span> cleanly unmounted, check forced.
fsck.ext4: Inode checksum does <span class="hljs-keyword">not</span> match inode <span class="hljs-keyword">while</span> reading bad blocks inode 
This doesn<span class="hljs-string">'t bode well, but we'</span>ll <span class="hljs-keyword">try</span> to go <span class="hljs-keyword">on</span>...
Pass <span class="hljs-number">1</span>: Checking inodes, blocks, <span class="hljs-keyword">and</span> sizes 
Inode <span class="hljs-number">1</span> seems to contain garbage. Clear&lt;y&gt;?
</code></pre>
<p>如您所见，它指出文件系统包含垃圾数据，并询问您是否要清除错误。您可以按<em>Y</em>，但它会一遍又一遍地询问您是否要清除每个修复的 inode！您可以使用<code>-y</code>选项来避免这种情况，该选项会在修复过程中自动回答是。</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># fsck -y /dev/sdb1</span>
</code></pre>
<p>运行时，您会看到屏幕上出现很多数字。不用担心！它正在修复您损坏的文件系统。它基本上是在浏览成千上万的 inode。</p>
<p>完成后，您可以重新运行<code>fsck</code>来验证文件系统现在已经干净：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># fsck /dev/sdb1 </span>
fsck from util-linux 2.31.1
e2fsck 1.44.1 (24-Mar-2018)
/dev/sdb1: clean, 11/131072 files, 9769/524288 blocks
</code></pre>
<p>太棒了！现在让我们尝试挂载它：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/sdb1 /games</span>
</code></pre>
<p>这次成功挂载了。任务完成！我们成功修复了文件系统。</p>
<h1 id="lvm-来拯救">LVM 来拯救<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>当文件系统的空间用完时，情况可能会变得非常糟糕。我们已经在<code>/games</code>中用完了空间，使用标准分区没有简单的解决方案来增加更多的空间。幸运的是，<strong>逻辑卷管理器</strong>（<strong>LVM</strong>）为管理文件系统提供了更好的替代方案。</p>
<h2 id="安装-lvm-软件包">安装 LVM 软件包<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>在我们开始使用 LVM 之前，首先需要安装<code>lvm2</code>软件包：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-kotlin"><span class="hljs-symbol">root@</span>ubuntu-linux:~# apt-<span class="hljs-keyword">get</span> install lvm2
</code></pre>
<p>安装完成后，您可以运行<code>lvm version</code>命令来验证安装是否成功：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-scss">root<span class="hljs-keyword">@ubuntu-linux</span>:~# lvm version
 LVM <span class="hljs-attribute">version</span>:     <span class="hljs-number">2.02</span>.<span class="hljs-number">176</span>(<span class="hljs-number">2</span>) (<span class="hljs-number">2017</span>-<span class="hljs-number">11</span>-<span class="hljs-number">03</span>)
 Library <span class="hljs-attribute">version</span>: <span class="hljs-number">1.02</span>.<span class="hljs-number">145</span> (<span class="hljs-number">2017</span>-<span class="hljs-number">11</span>-<span class="hljs-number">03</span>)
 Driver <span class="hljs-attribute">version</span>:  <span class="hljs-number">4.37</span>.<span class="hljs-number">0</span>
</code></pre>
<h2 id="三层抽象">三层抽象<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>要理解 LVM 的工作原理，首先需要将其可视化。LVM 就像是由三层组成的蛋糕，如<code>图 4</code>所示。</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/2cd58b01-8016-44de-8b93-83690b286996.png" alt="" loading="lazy" class="medium-zoom-image"></p>
<p>图 4：LVM 可视化</p>
<p>物理卷构成了 LVM 蛋糕的第一（基础）层。物理卷可以是整个磁盘（<code>/dev/sdb</code>，<code>/dev/sdc</code>等）或分区（<code>/dev/sdb2</code>，<code>/dev/sdc3</code>等）。</p>
<p><strong>卷组</strong>层是 LVM 蛋糕中的第二层，也是最大的一层，它位于<strong>物理卷</strong>层的顶部。一个卷组可以跨多个物理卷；也就是说，一个卷组可以由一个或多个物理卷组成。</p>
<p><strong>逻辑卷</strong>层构成了 LVM 蛋糕的第三层，也是最后一层。多个逻辑卷可以属于同一个卷组，如<code>图 4</code>所示。最后，您可以在逻辑卷上创建文件系统。</p>
<h2 id="创建物理卷">创建物理卷<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>创建物理卷的步骤非常简单；您只需要一个磁盘或一个分区。我们已经创建了一个<code>2</code>GB 的分区<code>/dev/sdb1</code>。现在继续在<code>/dev/sdb</code>下创建三个大小为<code>2</code>GB 的分区。</p>
<p>最终结果应该是这样的：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-dart">root<span class="hljs-meta">@ubuntu</span>-linux:~# lsblk
NAME    MAJ:MIN  RM  SIZE  RO  TYPE MOUNTPOINT
sda       <span class="hljs-number">8</span>:<span class="hljs-number">0</span>    <span class="hljs-number">0</span>   <span class="hljs-number">20</span>G   <span class="hljs-number">0</span>   disk
| sda1    <span class="hljs-number">8</span>:<span class="hljs-number">1</span>    <span class="hljs-number">0</span>   <span class="hljs-number">20</span>G   <span class="hljs-number">0</span>   <span class="hljs-keyword">part</span> /
sdb       <span class="hljs-number">8</span>:<span class="hljs-number">16</span>   <span class="hljs-number">0</span>   <span class="hljs-number">10</span>G   <span class="hljs-number">0</span>   disk
| sdb1    <span class="hljs-number">8</span>:<span class="hljs-number">17</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span>G   <span class="hljs-number">0</span>   <span class="hljs-keyword">part</span> /games
| sdb2    <span class="hljs-number">8</span>:<span class="hljs-number">18</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span>G   <span class="hljs-number">0</span>   <span class="hljs-keyword">part</span>
| sdb3    <span class="hljs-number">8</span>:<span class="hljs-number">19</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span>G   <span class="hljs-number">0</span>   <span class="hljs-keyword">part</span>
| sdb4    <span class="hljs-number">8</span>:<span class="hljs-number">20</span>   <span class="hljs-number">0</span>    <span class="hljs-number">2</span>G   <span class="hljs-number">0</span>   <span class="hljs-keyword">part</span>
sr0      <span class="hljs-number">11</span>:<span class="hljs-number">0</span>    <span class="hljs-number">1</span>  <span class="hljs-number">1024</span>M  <span class="hljs-number">0</span>   rom
</code></pre>
<p>要创建物理卷，我们使用<code>pvcreate</code>命令，后面跟着一个磁盘或一个分区：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">pvcreate <span class="hljs-keyword">disk_or_partition
</span></code></pre>
<p>我们将创建三个物理卷：<code>/dev/sdb2</code>，<code>/dev/sdb3</code>和<code>/dev/sdb4</code>。您可以使用一个命令创建所有三个：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-dockerfile">root@ubuntu-linux:~<span class="hljs-comment"># pvcreate /dev/sdb2 /dev/sdb3 /dev/sdb4 </span>
 Physical <span class="hljs-keyword">volume</span><span class="language-bash"> <span class="hljs-string">"/dev/sdb2"</span> successfully created.</span>
 Physical <span class="hljs-keyword">volume</span><span class="language-bash"> <span class="hljs-string">"/dev/sdb3"</span> successfully created.</span>
 Physical <span class="hljs-keyword">volume</span><span class="language-bash"> <span class="hljs-string">"/dev/sdb4"</span> successfully created.</span>
</code></pre>
<p>很酷！您还可以使用<code>pvs</code>命令列出所有物理卷：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># pvs</span>
 PV       VG Fmt Attr PSize PFree
/dev/sdb2    lvm2 --- 2.00g 2.00g
/dev/sdb3    lvm2 --- 2.00g 2.00g
/dev/sdb4    lvm2 --- 2.00g 2.00g
</code></pre>
<p>好了！到目前为止一切看起来都很好。</p>
<h2 id="创建卷组">创建卷组<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>一个卷组可以跨多个物理卷。因此，让我们创建一个卷组，它将由两个物理卷<code>/dev/sdb2</code>和<code>/dev/sdb3</code>组成。</p>
<p>要创建卷组，我们使用<code>vgcreate</code>命令，后面跟着新卷组的名称，然后是物理卷：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-erlang">vgcreate vg_name PV1 PV2 PV3 ...
</code></pre>
<p>让我们创建一个名为<code>myvg</code>的卷组，它将跨越<code>/dev/sdb2</code>和<code>/de- v/sdb3</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># vgcreate myvg /dev/sdb2 /dev/sdb3 </span>
 Volume <span class="hljs-keyword">group</span> <span class="hljs-string">"myvg"</span> successfully created
</code></pre>
<p>太棒了！您还可以使用<code>vgs</code>命令列出所有卷组：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-less"><span class="hljs-selector-tag">root</span>@<span class="hljs-selector-tag">ubuntu-linux</span>:~# <span class="hljs-selector-tag">vgs</span>
 <span class="hljs-selector-tag">VG</span>   <span class="hljs-selector-id">#PV</span> <span class="hljs-selector-id">#LV</span> <span class="hljs-selector-id">#SN</span> <span class="hljs-selector-tag">Attr</span>   <span class="hljs-selector-tag">VSize</span> <span class="hljs-selector-tag">VFree</span> 
 <span class="hljs-selector-tag">myvg</span>   <span class="hljs-number">2</span>   <span class="hljs-number">0</span>   <span class="hljs-number">0</span> <span class="hljs-selector-tag">wz--n-</span> <span class="hljs-number">3.99</span><span class="hljs-selector-tag">g</span> <span class="hljs-number">3.99</span><span class="hljs-selector-tag">g</span>
</code></pre>
<p>请注意，卷组<code>myvg</code>的大小等于<code>4</code>GB，这是<code>/dev/sdb2</code>和<code>/dev/sdb3</code>的总大小。</p>
<h2 id="创建逻辑卷">创建逻辑卷<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>现在我们可以在我们的<code>mvg</code>卷组上创建逻辑卷。</p>
<p>要创建逻辑卷，我们使用<code>lvcreate</code>命令，后面跟着逻辑卷的大小、逻辑卷的名称，最后是卷组名称：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-css">lvcreate <span class="hljs-attr">--size</span> <span class="hljs-number">2</span>G <span class="hljs-attr">--name</span> lv_name vg_name
</code></pre>
<p>让我们创建一个名为<code>mybooks</code>的逻辑卷，大小为<code>2</code>GB：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># lvcreate --size 2G --name mybooks myvg </span>
 Logical volume <span class="hljs-string">"mybooks"</span> created.
</code></pre>
<p>现在创建另一个名为<code>myprojects</code>的逻辑卷，大小为<code>500</code>MB：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># lvcreate --size 500M --name myprojects myvg </span>
 Logical volume <span class="hljs-string">"myprojects"</span> created.
</code></pre>
<p>您可以使用<code>lvs</code>命令列出所有逻辑卷：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># lvs
 LV         VG   Attr       LSize Pool Origin Data<span class="hljs-operator">%</span> Meta<span class="hljs-operator">%</span> Move Log 
 mybooks    myvg <span class="hljs-operator">-</span>wi<span class="hljs-operator">-</span>a<span class="hljs-comment">----- 2.00g</span>
 myprojects myvg <span class="hljs-operator">-</span>wi<span class="hljs-operator">-</span>a<span class="hljs-comment">----- 500.00m</span>
</code></pre>
<p>还有最后一步，就是在我们的逻辑卷上创建文件系统。</p>
<p>你的逻辑卷在设备映射目录<code>/dev/mapper</code>中表示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># ls /dev/mapper </span>
myvg-mybooks myvg-myprojects
</code></pre>
<p>让我们在<code>mybooks</code>逻辑卷上创建一个<code>ext4</code>文件系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># mkfs --type ext4 /dev/mapper/myvg-mybooks </span>
mke<span class="hljs-symbol">2f</span>s <span class="hljs-number">1</span>.<span class="hljs-number">44</span>.<span class="hljs-number">1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Creating filesystem with <span class="hljs-number">524288</span> <span class="hljs-number">4</span>k <span class="hljs-keyword">blocks </span><span class="hljs-keyword">and </span><span class="hljs-number">131072</span> inodes 
Filesystem UUID: d<span class="hljs-symbol">1b</span>43462<span class="hljs-number">-6</span>d5c<span class="hljs-number">-4329</span>-<span class="hljs-keyword">b027-7ee2ecebfd9a </span>
Superblock <span class="hljs-keyword">backups </span>stored on <span class="hljs-keyword">blocks:
</span><span class="hljs-number">32768</span>, <span class="hljs-number">98304</span>, <span class="hljs-number">163840</span>, <span class="hljs-number">229376</span>, <span class="hljs-number">294912</span>

Allocating group tables: done 
Writing inode tables: done
Creating <span class="hljs-keyword">journal </span>(<span class="hljs-number">16384</span> <span class="hljs-keyword">blocks): </span>done
Writing superblocks <span class="hljs-keyword">and </span>filesystem accounting information: done
</code></pre>
<p>同样地，我们可以在<code>myprojects</code>逻辑卷上创建一个<code>ext4</code>文件系统：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-mipsasm">root@ubuntu-linux:~<span class="hljs-comment"># mkfs --type ext4 /dev/mapper/myvg-myprojects </span>
mke<span class="hljs-symbol">2f</span>s <span class="hljs-number">1</span>.<span class="hljs-number">44</span>.<span class="hljs-number">1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Creating filesystem with <span class="hljs-number">512000</span> <span class="hljs-number">1</span>k <span class="hljs-keyword">blocks </span><span class="hljs-keyword">and </span><span class="hljs-number">128016</span> inodes 
Filesystem UUID: <span class="hljs-number">5</span>bbb0826-c845<span class="hljs-number">-4</span>ef9<span class="hljs-number">-988</span>a-d784cc<span class="hljs-symbol">72f</span>258 
Superblock <span class="hljs-keyword">backups </span>stored on <span class="hljs-keyword">blocks:
</span><span class="hljs-number">8193</span>, <span class="hljs-number">24577</span>, <span class="hljs-number">40961</span>, <span class="hljs-number">57345</span>, <span class="hljs-number">73729</span>, <span class="hljs-number">204801</span>, <span class="hljs-number">221185</span>, <span class="hljs-number">401409</span>

Allocating group tables: done 
Writing inode tables: done
Creating <span class="hljs-keyword">journal </span>(<span class="hljs-number">8192</span> <span class="hljs-keyword">blocks): </span>done
Writing superblocks <span class="hljs-keyword">and </span>filesystem accounting information: done
</code></pre>
<p>我们必须在某个地方挂载两个文件系统，所以我们将创建两个新目录，<code>/books</code>和<code>/projects</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mkdir /books /projects</span>
</code></pre>
<p>现在我们可以挂载两个文件系统了：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/mapper/myvg-mybooks /books </span>
root@ubuntu-linux:~<span class="hljs-comment"># mount /dev/mapper/myvg-myprojects /projects</span>
</code></pre>
<p>我们可以检查<code>mount</code>命令输出的最后两行：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># mount | tail -n 2</span>
/dev/mapper/myvg-mybooks on /books <span class="hljs-built_in">type</span> ext4 (rw,relatime,data=ordered)
/dev/mapper/myvg-myprojects on /projects <span class="hljs-built_in">type</span> ext4 (rw,relatime,data=ordered)
</code></pre>
<p>确实！两个文件系统都已挂载。</p>
<p>总结一下；这些是你需要遵循的创建 LVM 逻辑卷的步骤：</p>
<ol>
<li>
<p>创建一个物理卷。</p>
</li>
<li>
<p>创建一个卷组。</p>
</li>
<li>
<p>创建一个逻辑卷。</p>
</li>
<li>
<p>在逻辑卷上创建一个文件系统。</p>
</li>
<li>
<p>挂载文件系统。</p>
</li>
</ol>
<p>相当容易，对吧？</p>
<h2 id="扩展逻辑卷">扩展逻辑卷<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>现在是欣赏的时刻。在你迄今为止所付出的辛苦工作之后，你会明白为什么 LVM 在 Linux 中如此重要。</p>
<p>让我们消耗掉<code>/books</code>中所有可用的空间。注意我们只有 2 GB 可用：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:~<span class="hljs-comment"># df -h /books</span>
Filesystem               Size Used Avail Use% Mounted on
/dev/mapper/myvg-mybooks 2.0G 6.0M 1.8G   1% /books
</code></pre>
<p>切换到<code>/books</code>目录并创建一个名为<code>book1</code>的 1 GB 文件，如下所示：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># dd if=/dev/zero of=book1 bs=1G count=1 </span>
1+0 records <span class="hljs-keyword">in</span>
1+0 records out
1073741824 bytes (1.1 GB, 1.0 GiB) copied, 1.47854 s, 726 MB/s
</code></pre>
<p>现在创建另一个大小为 900 MB 的文件<code>book2</code>：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># dd if=/dev/zero of=book2 bs=900M count=1 </span>
1+0 records <span class="hljs-keyword">in</span>
1+0 records out
943718400 bytes (944 MB, 900 MiB) copied, 1.34533 s, 701 MB/s
</code></pre>
<p>我们现在的磁盘空间不够了！如果你尝试创建一个 100 MB 的文件，你会收到一个错误：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># dd if=/dev/zero of=book3 bs=100M count=1 dd: error writing 'book3': No space left on device</span>
1+0 records <span class="hljs-keyword">in</span>
0+0 records out
6103040 bytes (6.1 MB, 5.8 MiB) copied, 0.0462688 s, 132 MB/s
</code></pre>
<p>我们现在在<code>/books</code>中正式用完了磁盘空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># df -h /books</span>
Filesystem               Size Used Avail Use% Mounted on
/dev/mapper/myvg-mybooks 2.0G 2.0G  0    100% /books
</code></pre>
<p>LVM 来拯救我们了。我们的<code>myvg</code>卷组上还有一些磁盘空间，所以我们可以扩展我们的逻辑卷的大小，从而扩展我们的文件系统的大小：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># vgs</span>
 VG   <span class="hljs-comment">#PV #LV #SN  Attr VSize VFree </span>
 myvg 2    2   0 wz--n- 3.99g 1.50g
</code></pre>
<p>我们的<code>myvg</code>中确切还剩下 1.5 GB 的磁盘空间。现在我们可以使用<code>lvextend</code>命令向我们的<code>/dev/mapper/myvg-mybooks</code>逻辑卷添加 1 GB：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:/books<span class="hljs-meta"># lvextend -r --size +1G /dev/mapper/myvg-mybooks</span>
 Size of logical volume myvg/mybooks changed <span class="hljs-keyword">from</span> <span class="hljs-number">2.00</span> GiB (<span class="hljs-number">512</span> extents) to 
    <span class="hljs-number">3.00</span> GiB (<span class="hljs-number">768</span> extents).
 Logical volume myvg/mybooks successfully resized. 
resize2fs <span class="hljs-number">1.44</span><span class="hljs-number">.1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Filesystem at /dev/mapper/myvg-mybooks <span class="hljs-keyword">is</span> mounted <span class="hljs-keyword">on</span> /books; <span class="hljs-keyword">on</span>-line resizing required 
old_desc_blocks = <span class="hljs-number">1</span>, new_desc_blocks = <span class="hljs-number">1</span>
The filesystem <span class="hljs-keyword">on</span> /dev/mapper/myvg-mybooks <span class="hljs-keyword">is</span> now <span class="hljs-number">786432</span> (<span class="hljs-number">4</span>k) blocks <span class="hljs-built_in">long</span>.
</code></pre>
<p><code>-r</code>选项是必需的，因为它会随着逻辑卷一起调整文件系统的大小。现在我们可以看到我们的<code>mybooks</code>逻辑卷已经从 2 GB 增长到 3 GB：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">/</span>books# lvs
 LV          VG    Attr LSize     Pool Origin Data<span class="hljs-operator">%</span> Meta<span class="hljs-operator">%</span> Move Log Cpy<span class="hljs-operator">%</span>Sync <span class="hljs-keyword">Convert</span> 
 mybooks    myvg <span class="hljs-operator">-</span>wi<span class="hljs-operator">-</span>ao<span class="hljs-comment">---- 3.00g</span>
 myprojects myvg <span class="hljs-operator">-</span>wi<span class="hljs-operator">-</span>ao<span class="hljs-comment">---- 500.00m</span>
</code></pre>
<p>因此，我们在<code>/books</code>中获得了更多的磁盘空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># df -h /books</span>
Filesystem               Size Used Avail Use% Mounted on
/dev/mapper/myvg-mybooks 2.9G 1.9G 865M  70% /books
</code></pre>
<p>现在让我们检查一下我们的<code>myvg</code>卷组中还剩下多少磁盘空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash">root@ubuntu-linux:/books<span class="hljs-comment"># vgs</span>
 VG   <span class="hljs-comment">#PV #LV #SN Attr   VSize VFree </span>
 myvg 2    2   0  wz--n- 3.99g 516.00m
</code></pre>
<p>让我们全力以赴，将我们的<code>myprojects</code>逻辑卷扩展到<code>myvg</code>中剩下的所有空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># lvextend -r -l +100%FREE /dev/mapper/myvg-myprojects</span>
 Size of logical volume myvg/myprojects changed <span class="hljs-keyword">from</span> <span class="hljs-number">516.00</span> MiB (<span class="hljs-number">129</span> extents) 
    to <span class="hljs-number">1016.00</span> MiB (<span class="hljs-number">254</span> extents).
 Logical volume myvg/myprojects successfully resized. 
resize2fs <span class="hljs-number">1.44</span><span class="hljs-number">.1</span> (<span class="hljs-number">24</span>-Mar<span class="hljs-number">-2018</span>)
Filesystem at /dev/mapper/myvg-myprojects <span class="hljs-keyword">is</span> mounted <span class="hljs-keyword">on</span> /projects;
The filesystem <span class="hljs-keyword">on</span> /dev/mapper/myvg-myprojects <span class="hljs-keyword">is</span> now <span class="hljs-number">1040384</span> (<span class="hljs-number">1</span>k) blocks <span class="hljs-built_in">long</span>
</code></pre>
<p>注意我们的<code>myprojects</code>逻辑卷的大小已经增加，并且已经占用了<code>myvg</code>中剩下的所有空间：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># lvs</span>
 LV          VG    Attr     LSize    Pool Origin Data% Meta% Move Log Cpy%Sync Convert 
 mybooks    myvg -wi-ao---- <span class="hljs-number">3.00</span>g
 myprojects myvg -wi-ao---- <span class="hljs-number">1016.00</span>m 
root@ubuntu-linux:~<span class="hljs-comment"># vgs</span>
 VG   <span class="hljs-comment">#PV #LV #SN Attr   VSize VFree </span>
 myvg <span class="hljs-number">2</span>    <span class="hljs-number">2</span>   <span class="hljs-number">0</span>  wz--n- <span class="hljs-number">3.99</span>g <span class="hljs-number">0</span>
</code></pre>
<p>现在我们无法扩展我们的逻辑卷，因为<code>myvg</code>卷组的空间用完了。尝试向我们的<code>mybooks</code>逻辑卷添加 12 MB，你会收到一个错误消息：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-sql">root<span class="hljs-variable">@ubuntu</span><span class="hljs-operator">-</span>linux:<span class="hljs-operator">~</span># lvextend <span class="hljs-operator">-</span>r <span class="hljs-comment">--size +12M /dev/mapper/myvg-mybooks </span>
 Insufficient <span class="hljs-keyword">free</span> space: <span class="hljs-number">3</span> extents needed, but <span class="hljs-keyword">only</span> <span class="hljs-number">0</span> available
</code></pre>
<h2 id="扩展卷组">扩展卷组<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<p>只有在卷组上有可用空间时，我们才能扩展我们的逻辑卷。那么如何扩展卷组呢？我们只需向其中添加一个物理卷即可！</p>
<p>记住，我漏掉了一个物理卷<code>/dev/sdb4</code>，我没有将其添加到卷组<code>myvg</code>中。现在是时候添加它了！</p>
<p>要扩展卷组，我们使用<code>vgextend</code>命令，后面跟着卷组名称，然后是你希望添加的物理卷。所以要将物理卷<code>dev/sdb4</code>添加到我们的<code>myvg</code>卷组中，你可以运行以下命令：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-csharp">root@ubuntu-linux:~<span class="hljs-meta"># vgextend myvg /dev/sdb4 </span>
 Volume <span class="hljs-keyword">group</span> <span class="hljs-string">"myvg"</span> successfully extended
</code></pre>
<p>现在我们已经向我们的<code>myvg</code>卷组中添加了整整 2 GB：</p>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-perl">root@ubuntu-linux:~<span class="hljs-comment"># vgs</span>
 VG   <span class="hljs-comment">#PV #LV #SN Attr    VSize VFree </span>
 myvg <span class="hljs-number">3</span>    <span class="hljs-number">2</span>   <span class="hljs-number">0</span>  wz--n- &lt;<span class="hljs-number">5.99</span>g &lt;<span class="hljs-number">2.00</span>g
</code></pre>
<p>这是多么令人惊奇啊？现在你可以扩展你的两个逻辑卷中的任意一个，因为我们向卷组添加了更多的磁盘空间。我们都应该花点时间来欣赏 Linux LVM 的强大和灵活性。</p>
<p>现在是本书中最后一个知识检查练习的时候了。我相信你会想念它们的！</p>
<h1 id="知识检查-16">知识检查<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>对于接下来的练习，打开你的终端并尝试解决以下任务：</p>
<ol>
<li>
<p>向你的虚拟机添加一个新的 1 GB 磁盘。</p>
</li>
<li>
<p>在你的新磁盘上创建三个大小为 250 MB 的分区。</p>
</li>
<li>
<p>使用你的三个新分区创建三个物理卷。</p>
</li>
<li>
<p>创建一个名为<code>bigvg</code>的卷组，跨越你的三个物理卷。</p>
</li>
<li>
<p>创建一个名为<code>biglv</code>的大小为 500 MB 的逻辑卷。</p>
</li>
<li>
<p>在<code>biglv</code>逻辑卷上创建一个<code>ext4</code>文件系统。</p>
</li>
<li>
<p>将你的文件系统挂载到<code>/mnt/wikileaks</code>目录。</p>
</li>
</ol>
<p>echo “再见，我的朋友”</p>
<p>我要祝贺你完成了阅读这本书，并学习了 116 多个 Linux 命令。我希望你和我写作一样享受阅读！Linux 确实需要一个好奇的大脑，我敢打赌你很勇敢地尝试了 Linux。我曾经读过一句话，说“Linux 很友好 - 它只是对它的朋友挑剔”，所以现在我欢迎你加入精英 Linux 俱乐部。</p>
<h1 id="第二十二章接下来去哪里">第二十二章：接下来去哪里？<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你现在可能会想，“接下来该怎么办？”; 大多数人在学会一项新技能后都会问同样的问题，以下是我对学会 Linux 后该做什么的建议：</p>
<ul>
<li>
<p>将你的新技能投入实践！如果你不继续练习所学的东西，最终会失去它。</p>
</li>
<li>
<p>验证你的技能！雇主肯定会喜欢你有 Linux 认证，比如 Linux 基金会 LFCS/LFCE 认证或红帽 RHCSA/RHCE 认证。</p>
</li>
<li>
<p>赚钱！Linux 需求量很大；开始申请 Linux 工作。</p>
</li>
<li>
<p>成为 Linux 内核开发者！如果你是程序员，或者想成为一名程序员，你可能会考虑学习 Linux 内核，也许有一天你可以成为 Linux 内核的贡献者。</p>
</li>
<li>
<p>学习另一项技能！你现在已经学会了 Linux；你可能想学习云计算、网络安全或计算机网络。这取决于你的最终目标和兴趣领域。</p>
</li>
</ul>
<h1 id="保持联系">保持联系<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<p>你可以在 LinkedIn 上联系我。此外，如果你想参加我的 Udemy 课程，不要犹豫给我发邮件；我将非常乐意给你发送免费优惠券！</p>
<p>评估</p>
<h1 id="第二十三章知识检查-1">第二十三章：知识检查 1<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>cal 2023</code></p>
</li>
<li>
<p><code>免费-h</code></p>
</li>
<li>
<p><code>ls /home/elliot</code></p>
</li>
<li>
<p><code>passwd</code></p>
</li>
<li>
<p>echo "Mr.Robot is an awesome TV show!"</p>
</li>
</ol>
<h2 id="真或假-6">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>假</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
</ol>
<h1 id="知识检查-2-1">知识检查 2<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>ls -l /var/log</code></p>
</li>
<li>
<p><code>cat /etc/hostname</code></p>
</li>
<li>
<p><code>touch file1 file2 file3</code></p>
</li>
<li>
<p><code>ls -a /home/elliot</code></p>
</li>
<li>
<p><code>mkdir /home/elliot/fsociety</code></p>
</li>
</ol>
<h2 id="真或假-7">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>假</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
</ol>
<h1 id="知识检查-3-1">知识检查 3<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>头-n 2 facts.txt</code></p>
</li>
<li>
<p><code>tail -n 1 facts.txt</code></p>
</li>
<li>
<p><code>tac facts.txt</code></p>
</li>
<li>
<p><code>vi facts.txt</code></p>
</li>
<li>
<p><code>:q</code></p>
</li>
</ol>
<h1 id="知识检查-4-1">知识检查 4<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>touch hacker1 hacker2 hacker3</code></p>
</li>
<li>
<p><code>mkdir Linux Windows Mac</code></p>
</li>
<li>
<p><code>touch Linux/cool</code></p>
</li>
<li>
<p><code>touch Windows/boring</code></p>
</li>
<li>
<p><code>touch Mac/expensive</code></p>
</li>
<li>
<p><code>cp hacker1 hacker2 /tmp</code></p>
</li>
<li>
<p><code>cp -r Windows Mac/tmp</code></p>
</li>
<li>
<p><code>mv hacker3 /tmp</code></p>
</li>
<li>
<p><code>mv Linux /tmp</code></p>
</li>
<li>
<p><code>rm Mac/expensive</code></p>
</li>
<li>
<p><code>rmdir Mac</code></p>
</li>
<li>
<p><code>rm -r Windows</code></p>
</li>
<li>
<p><code>rm hacker2</code></p>
</li>
<li>
<p><code>mv hacker1 hacker01</code></p>
</li>
</ol>
<h2 id="真或假-8">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>假</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
</ol>
<h1 id="知识检查-5-1">知识检查 5<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>类型 echo</code></p>
</li>
<li>
<p><code>which uptime</code></p>
</li>
<li>
<p><code>whatis mkdir</code></p>
</li>
<li>
<p><code>man mv</code></p>
</li>
<li>
<p><code>apropos calendar</code></p>
</li>
<li>
<p><code>帮助历史</code></p>
</li>
</ol>
<h2 id="真或假-9">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>假</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>真</p>
</li>
</ol>
<h1 id="知识检查-6-1">知识检查 6<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>ls -id /var/log</code></p>
</li>
<li>
<p><code>stat /boot</code></p>
</li>
<li>
<p><code>mkdir coins</code></p>
</li>
<li>
<p><code>ln -s coins currency</code></p>
</li>
<li>
<p><code>touch coins/silver coins/gold</code></p>
</li>
<li>
<p><code>touch currency/bronze</code></p>
</li>
<li>
<p><code>ls coins currency</code></p>
</li>
<li>
<p><code>ln 饮料 饮料</code></p>
</li>
<li>
<p><code>rm 饮料</code></p>
</li>
<li>
<p><code>cat drinks</code></p>
</li>
</ol>
<h2 id="真或假-10">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>真</p>
</li>
</ol>
<h1 id="知识检查-7-1">知识检查 7<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>su root</code></p>
</li>
<li>
<p><code>passwd root</code></p>
</li>
<li>
<p><code>su - elliot</code></p>
</li>
<li>
<p><code>su</code></p>
</li>
</ol>
<h2 id="真或假-11">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>真</p>
</li>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
</ol>
<h1 id="知识检查-8-1">知识检查 8<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>useradd -u 333 abraham</code></p>
</li>
<li>
<p><code>groupadd admins</code></p>
</li>
<li>
<p><code>usermod -aG admins abraham</code></p>
</li>
<li>
<p><code>chgrp admins /home/abraham</code></p>
</li>
<li>
<p><code>chmod g=r /home/abraham</code></p>
</li>
</ol>
<h2 id="真或假-12">真或假<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h2>
<ol>
<li>
<p>真</p>
</li>
<li>
<p>假</p>
</li>
<li>
<p>假</p>
</li>
</ol>
<h1 id="知识检查-9-1">知识检查 9<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>头-n 5 facts.txt *|* 尾-n 1</code></p>
</li>
<li>
<p><code>free &gt; system.txt</code></p>
</li>
<li>
<p><code>lscpu &gt;&gt; system.txt</code></p>
</li>
<li>
<p><code>rmdir /var 2&gt; error.txt</code></p>
</li>
</ol>
<h1 id="知识检查-10-1">知识检查 10<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>du -b /etc/hostname</code></p>
</li>
<li>
<p><code>cut -d: -f1 /etc/group</code></p>
</li>
<li>
<p><code>wc -l /etc/services</code></p>
</li>
<li>
<p><code>grep bash /etc/passwd</code></p>
</li>
<li>
<p><code>uptime *|* tr [:lower:] [:upper:]</code></p>
</li>
</ol>
<h1 id="知识检查-11-1">知识检查 11<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>locate boot.log</code></p>
</li>
<li>
<p><code>find / -size +50M</code></p>
</li>
<li>
<p><code>find / -size +70M -size -100M</code></p>
</li>
<li>
<p><code>find / -user smurf</code></p>
</li>
<li>
<p><code>find / -group developers</code></p>
</li>
</ol>
<h1 id="知识检查-12-1">知识检查 12<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>apt-get install tmux</code></p>
</li>
<li>
<p><code>apt-cache depends vim</code></p>
</li>
<li>
<p><code>apt-get install cowsay</code></p>
</li>
<li>
<p><code>apt-get purge cowsay</code></p>
</li>
<li>
<p><code>apt-get update 然后运行 apt-get upgrade</code></p>
</li>
</ol>
<h1 id="知识检查-13-1">知识检查 13<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>pgrep terminal</code></p>
</li>
<li>
<p><code>ps -fp pid_of_terminal</code></p>
</li>
<li>
<p><code>杀-9 pid_of_terminal</code></p>
</li>
<li>
<p><code>firefox &amp;</code></p>
</li>
<li>
<p><code>renice -n -20 pid_of_firefox</code></p>
</li>
</ol>
<h1 id="知识检查-14-1">知识检查 14<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>smurf ALL=(ALL) /sbin/fdisk</code></p>
</li>
<li>
<p><code>%developers ALL=(ALL) /usr/bin/apt-get</code></p>
</li>
<li>
<p><code>sudo-lU smurf</code></p>
</li>
</ol>
<h1 id="知识检查-15-1">知识检查 15<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>hostnamectl set-hostname darkarmy</code></p>
</li>
<li>
<p><code>netstat -rn 或 ip 路由</code></p>
</li>
<li>
<p><code>traceroute www.ubuntu.com</code></p>
</li>
<li>
<p><code>cat /etc/resolv.conf</code></p>
</li>
<li>
<p><code>nslookup www.distrowatch.com</code></p>
</li>
<li>
<p><code>ifconfig eth0 down</code></p>
</li>
<li>
<p><code>ifconfig eth0 up</code></p>
</li>
</ol>
<h1 id="知识检查-16-1">知识检查 16<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>
 cal
</code></pre>
</li>
<li>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>
 cal <span class="hljs-variable">$1</span>
</code></pre>
</li>
<li>
<pre class="highlighter-hljs" highlighted="true"><code class="highlighter-hljs hljs language-bash"><span class="hljs-meta">#!/bin/bash</span>
 <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> {2000..2020}; <span class="hljs-keyword">do</span>
        cal <span class="hljs-variable">$i</span>
 <span class="hljs-keyword">done</span>
</code></pre>
</li>
</ol>
<h1 id="知识检查-17">知识检查 17<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p>*/10 *&nbsp;&nbsp; *&nbsp;&nbsp; *&nbsp;&nbsp; *&nbsp;&nbsp; echo "10 minutes have passed!" &gt;&gt; /root/minutes.txt</p>
</li>
<li>
<p><code>0 1&nbsp; 25&nbsp; 12&nbsp; *&nbsp;&nbsp; echo "Merry Christmas!" &gt;&gt; /root/holidays.txt</code></p>
</li>
</ol>
<h1 id="知识检查-18">知识检查 18<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>tar -cvf /root/var.tar.gz /var</code></p>
</li>
<li>
<p><code>tar -jvf /root/tmp.tar.bz2 /tmp</code></p>
</li>
<li>
<p><code>tar -Jvf /root/etc.tar.xz /etc</code></p>
</li>
</ol>
<h1 id="知识检查-19">知识检查 19<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p><code>别名 ins=”apt-get install”</code></p>
</li>
<li>
<p><code>别名 packages=”dpkg -l”</code></p>
</li>
<li>
<p>添加这行</p>
</li>
</ol>
<p><code>别名 clean="rm -r /tmp/*"</code></p>
<p>到<code>.bashrc</code>文件的末尾。</p>
<h1 id="知识检查-20">知识检查 20<button class="cnblogs-toc-button" title="显示目录导航" aria-expanded="false"></button></h1>
<ol>
<li>
<p>转到虚拟机设置&gt;存储&gt;创建新磁盘。</p>
</li>
<li>
<p><code>fdisk /dev/sdc</code></p>
</li>
<li>
<p><code>pvcreate /dev/sdc1 /dev/sdc2 /dev/sdc3</code></p>
</li>
<li>
<p><code>vgcreate bigvg /dev/sdc1 /dev/sdc2 /dev/sdc3</code></p>
</li>
<li>
<p><code>lvcreate -n **biglv** -L 500M **bigvg**</code></p>
</li>
<li>
<p><code>mkfs -t **ext4** /dev/mapper/bigvg-biglv</code></p>
</li>
<li>
<p><code>mount **/dev/mapper/bigvg-biglv** /mnt/wikileaks</code></p>
</li>
</ol>

</div>
<div id="MySignature" role="contentinfo">
    <p><img src="http://home.apachecn.org/img/about/apachecn_qr.jpg" width="500"></p>
</div>
<div class="clear"></div>
<div id="blog_post_info_block" role="contentinfo">




    <div id="blog_post_info">
<div id="green_channel">
        <a href="javascript:void(0);" id="green_channel_digg" onclick="DiggIt(18196636,cb_blogId,1);green_channel_success(this,&#39;谢谢推荐！&#39;);">好文要顶</a>
        <a id="green_channel_follow" onclick="follow(&#39;430b5180-ef27-44c3-d842-08d7804a3aa0&#39;);" href="javascript:void(0);">关注我</a>
    <a id="green_channel_favorite" onclick="AddToWz(cb_entryId);return false;" href="javascript:void(0);">收藏该文</a>
    <a id="green_channel_wechat" href="javascript:void(0);" onclick="shareManager.wechatShare()">微信分享</a>
</div>
<div id="author_profile">
    <div id="author_profile_info" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/apachecn/" target="_blank"><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/sample_face.gif" class="author_avatar" alt=""></a>
        <div id="author_profile_detail" class="author_profile_info">
            <a href="https://home.cnblogs.com/u/apachecn/">绝不原创的飞龙</a>
                <img class="post-footer-vip-logo" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/vip.png" title="博客园VIP会员">
            <br>
            <a href="https://home.cnblogs.com/u/apachecn/followers/">粉丝 - <span class="follower-count">32</span></a>
            <a href="https://home.cnblogs.com/u/apachecn/followees/">关注 - <span class="following-count">0</span></a><br>
                <a href="https://cnblogs.vip/" target="_blank">
                    <span>会员号：671</span>
                </a>
        </div>
    </div>
    <div class="clear"></div>
    <div id="author_profile_honor"></div>
    <div id="author_profile_follow" class="follow-tip">
                <a href="javascript:void(0);" onclick="follow(&#39;430b5180-ef27-44c3-d842-08d7804a3aa0&#39;);return false;">+加关注</a>
    </div>
</div>
<div id="div_digg">
    <div class="diggit" onclick="votePost(18196636,&#39;Digg&#39;)">
        <span class="diggnum" id="digg_count">0</span>
    </div>
    <div class="buryit" onclick="votePost(18196636,&#39;Bury&#39;)">
        <span class="burynum" id="bury_count">0</span>
    </div>
    <div class="clear"></div>
    <div class="diggword" id="digg_tips">
    </div>
        <div id="vip_tip"><a class="tip" href="https://cnblogs.vip/" target="_blank">升级成为会员</a></div>
</div>

<script type="text/javascript">
    currentDiggType = 0;
</script>
</div>
    <div class="clear"></div>
    <div id="post_next_prev">

    <a href="https://www.cnblogs.com/apachecn/p/18196635" class="p_n_p_prefix">« </a> 上一篇：    <a href="https://www.cnblogs.com/apachecn/p/18196635" data-featured-image="" title="发布于 2024-05-16 19:41">Linux-管理秘籍-全-</a>
    <br>
    <a href="https://www.cnblogs.com/apachecn/p/18196638" class="p_n_p_prefix">» </a> 下一篇：    <a href="https://www.cnblogs.com/apachecn/p/18196638" data-featured-image="" title="发布于 2024-05-16 19:43">精通-CentOS7-Linux-服务器-全-</a>

</div>
</div>
            </div>
            <div class="postDesc">posted @ 
<span id="post-date" data-last-update-days="139.77065303322107" data-date-created="BlogServer.Application.Dto.BlogPost.BlogPostDto" data-date-updated="2024-05-16 19:42" aria-expanded="false">2024-05-16 19:41</span>&nbsp;
<a href="https://www.cnblogs.com/apachecn">绝不原创的飞龙</a>&nbsp;
阅读(<span id="post_view_count">54</span>)&nbsp;
评论(<span id="post_comment_count">0</span>)&nbsp;
<a href="https://i.cnblogs.com/EditPosts.aspx?postid=18196636" rel="nofollow">编辑</a>&nbsp;
<a href="javascript:void(0)" onclick="AddToWz(18196636);return false;">收藏</a>&nbsp;
<a href="javascript:void(0)" onclick="reportManager.report({ currentUserId: &#39;&#39;, targetType: &#39;blogPost&#39;, targetId: &#39;18196636&#39;, targetLink: &#39;https://www.cnblogs.com/apachecn/p/18196636&#39;, title: &#39;Linux-快速学习手册-全-&#39; })">举报</a>
</div>
        </div>
	    
	    
    </div><!--end: topics 文章、评论容器-->
</div>
<script>
    var cb_entryId = 18196636, cb_entryCreatedDate = '2024-05-16 19:41', cb_postType = 1, cb_postTitle = 'Linux-快速学习手册-全-';
    var allowComments = true, cb_blogId = 568325, cb_blogApp = 'apachecn', cb_blogUserGuid = '430b5180-ef27-44c3-d842-08d7804a3aa0';
    mermaidRender.render()
    markdown_highlight()
    zoomManager.apply("#cnblogs_post_body img:not(.code_img_closed):not(.code_img_opened)");    
</script>
<a id="!comments"></a>
<div id="blog-comments-placeholder"></div>
<div id="comment_form" class="commentform">
    <a name="commentform"></a>
    <div id="divCommentShow"></div>
    <div id="comment_nav">
            <a class="comment-nav-left forpc" href="https://cnblogs.vip/" target="_blank">会员力量，点亮园子希望</a>
        <div class="comment-nav-right">
            <span id="span_refresh_tips"></span><a href="https://www.cnblogs.com/apachecn/p/18196636#" onclick="return RefreshPage();">刷新页面</a><a href="https://www.cnblogs.com/apachecn/p/18196636#top">返回顶部</a>
        </div>
    </div>
    <div id="comment_form_container"><div class="login_tips">
    登录后才能查看或发表评论，立即 <a rel="nofollow" href="javascript:void(0);" class="underline" onclick="return account.login(&#39;!comments&#39;);">登录</a> 或者
    <a href="https://www.cnblogs.com/">逛逛</a> 博客园首页
</div>
</div>
    <div class="ad_text_commentbox" id="ad_text_under_commentbox"></div>
        <div id="cnblogs_ch"></div>
    <div id="opt_under_post"></div>
        <div id="blog_c1" class="under-post-card">
            <a href="https://cnblogs.vip/store/hoodie-talk-is-cheap?vid=121" rel="nofollow" target="_blank" onclick="countCreativeClicks(&#39;C1-博客园-周边-卫衣&#39;)">
                <img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/35695-20241001181456876-137286676.jpg" onload="countCreativeImpressions(&#39;C1-博客园-周边-卫衣&#39;)" alt="">
                <span id="c1_impression" style="display:none"></span>
            </a>
        </div>
    <div id="under_post_card1"><div class="under-post-card">
<b>编辑推荐：</b>
<br>

· <a href="https://www.cnblogs.com/wenruo/p/18441855" target="_blank">只写后台管理的前端要怎么提升自己</a>
    <br>
· <a href="https://www.cnblogs.com/organic/p/18441685" target="_blank">linux 内核调试痛点之函数参数抓捕记</a>
    <br>
· <a href="https://www.cnblogs.com/charlee44/p/18436647" target="_blank">一次实践：给自己的手机摄像头进行相机标定</a>
    <br>
· <a href="https://www.cnblogs.com/zengzuo613/p/18434300" target="_blank">Linux服务器磁盘空间占用情况分析与清理指南</a>
    <br>
· <a href="https://www.cnblogs.com/jtea/p/18428499" target="_blank">redisson 内存泄漏问题排查</a>
    <br>
</div></div>
    <div id="under_post_card2"><div class="itnews under-post-card">
    <b>阅读排行：</b>
    <br>
 ·          <a href="https://www.cnblogs.com/weskynet/p/18445584" target="_blank">基于DPAPI+RDP技术实现本地打开远程程序，并映射到本地机器桌面上</a>
        <br>
 ·          <a href="https://www.cnblogs.com/phyjack/p/18443179" target="_blank">C++中指针和数组相关的运算符优先级</a>
        <br>
 ·          <a href="https://www.cnblogs.com/henjay724/p/18444618" target="_blank">《痞子衡嵌入式半月刊》 第 108 期</a>
        <br>
 ·          <a href="https://www.cnblogs.com/ggyt/p/18442852" target="_blank">论文解读《MASTERKEY: Automated Jailbreaking of Large La</a>
        <br>
 ·          <a href="https://www.cnblogs.com/known/p/18445041" target="_blank">Blazor开发框架Known-V2.0.13</a>
        <br>
</div></div>
    <div id="HistoryToday" class="under-post-card"></div>
    <script type="text/javascript">
        var commentManager = new blogCommentManager();
        commentManager.renderComments(0);
        fixPostBody();
        window.footnoteTipManager.generateFootnoteTips();

            window.tocManager.displayDisableTocTips = false;
            window.tocManager.generateToc();
            
                setTimeout(function() { countViews(cb_blogId, cb_entryId); }, 50);
            
            deliverT2();
            deliverC1C2();
            loadNewsAndKb();
            
                LoadPostCategoriesTags(cb_blogId, cb_entryId);
            
            LoadPostInfoBlock(cb_blogId, cb_entryId, cb_blogApp, cb_blogUserGuid);
            GetPrevNextPost(cb_entryId, cb_blogId, cb_entryCreatedDate, cb_postType);
            loadOptUnderPost();
            GetHistoryToday(cb_blogId, cb_blogApp, cb_entryCreatedDate);
                </script>
</div>

	</div><!--end: forFlow -->
	</div><!--end: mainContent 主体内容容器-->
	<div id="sideBar">
		<div id="sideBarMain">
			<div id="sidebar_news" class="newsItem">
    <h3 class="catListTitle">公告</h3>
<div id="blog-news">    
    <div id="sidebar_news_content"><p>Github：<a href="https://github.com/wizardforcel">@wizardforcel</a></p>
<p>简书：<a href="https://www.jianshu.com/u/b508a6aa98eb">@布客飞龙</a></p>
<p>微博：<a href="http://weibo.com/wizardforcel">@布客飞龙</a></p>
<hr>
<p>赞助我：</p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/20200112005920729.png" width="100%"></p>
<p><img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/Aiss2ibT"></p>

<div id="profile_block">
    昵称：
    <a href="https://home.cnblogs.com/u/apachecn/">
        绝不原创的飞龙
    </a>
        <img class="sidebar-vip-logo" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/vip.png" title="博客园VIP会员">
    <br>
    园龄：
    <a href="https://home.cnblogs.com/u/apachecn/" title="入园时间：2019-12-15">
        4年9个月
    </a>
    <br>
    粉丝：
    <a class="follower-count" href="https://home.cnblogs.com/u/apachecn/followers/">
        32
    </a>
    <br>
    关注：
    <a class="folowing-count" href="https://home.cnblogs.com/u/apachecn/followees/">
        0
    </a>
    <div id="p_b_follow" class="follow-tip">
<a href="javascript:void(0)" onclick="follow(&#39;430b5180-ef27-44c3-d842-08d7804a3aa0&#39;)">+加关注</a></div>
    <script>getFollowStatus('430b5180-ef27-44c3-d842-08d7804a3aa0');</script>
</div>
</div>
</div>
<script>loadBlogNews();</script>

 
</div>
<div id="sidebar_c3"></div>
			<div id="blog-calendar" style="">

<table id="blogCalendar" class="Cal" cellspacing="0" cellpadding="0" title="Calendar" border="0">
    <tbody>
        <tr>
            <td colspan="7">
                <table class="CalTitle" cellspacing="0" border="0">
                    <tbody>
                        <tr>
                            <td class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2024/09/03&#39;); return false;">&lt;</a>
                            </td>
                            <td align="center">2024年10月</td>
                            <td align="right" class="CalNextPrev">
                                <a href="javascript:void(0);" onclick="loadBlogCalendar(&#39;2024/11/03&#39;); return false;">&gt;</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </td>
        </tr>
    <tr>
        <th class="CalDayHeader" align="center" abbr="日" scope="col">日</th>
        <th class="CalDayHeader" align="center" abbr="一" scope="col">一</th>
        <th class="CalDayHeader" align="center" abbr="二" scope="col">二</th>
        <th class="CalDayHeader" align="center" abbr="三" scope="col">三</th>
        <th class="CalDayHeader" align="center" abbr="四" scope="col">四</th>
        <th class="CalDayHeader" align="center" abbr="五" scope="col">五</th>
        <th class="CalDayHeader" align="center" abbr="六" scope="col">六</th>
    </tr>
            <tr>
                            <td class="CalOtherMonthDay" align="center">29</td>
                            <td class="CalOtherMonthDay" align="center">30</td>
                        <td class="" align="center">
                            <a href="https://www.cnblogs.com/apachecn/p/archive/2024/10/01"><u>1</u></a>
                        </td>
                        <td class="" align="center">
                            <a href="https://www.cnblogs.com/apachecn/p/archive/2024/10/02"><u>2</u></a>
                        </td>
                        <td class="CalTodayDay" align="center">
                            3
                        </td>
                        <td class="" align="center">
                            4
                        </td>
                    <td class="CalWeekendDay" align="center">
                        5
                    </td>
            </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            6
                        </td>
                            <td class="" align="center">
                                7
                            </td>
                            <td class="" align="center">
                                8
                            </td>
                            <td class="" align="center">
                                9
                            </td>
                            <td class="" align="center">
                                10
                            </td>
                            <td class="" align="center">
                                11
                            </td>
                        <td class="CalWeekendDay" align="center">
                            12
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            13
                        </td>
                            <td class="" align="center">
                                14
                            </td>
                            <td class="" align="center">
                                15
                            </td>
                            <td class="" align="center">
                                16
                            </td>
                            <td class="" align="center">
                                17
                            </td>
                            <td class="" align="center">
                                18
                            </td>
                        <td class="CalWeekendDay" align="center">
                            19
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            20
                        </td>
                            <td class="" align="center">
                                21
                            </td>
                            <td class="" align="center">
                                22
                            </td>
                            <td class="" align="center">
                                23
                            </td>
                            <td class="" align="center">
                                24
                            </td>
                            <td class="" align="center">
                                25
                            </td>
                        <td class="CalWeekendDay" align="center">
                            26
                        </td>
                </tr>
                <tr>
                        <td class="CalWeekendDay" align="center">
                            27
                        </td>
                            <td class="" align="center">
                                28
                            </td>
                            <td class="" align="center">
                                29
                            </td>
                            <td class="" align="center">
                                30
                            </td>
                            <td class="" align="center">
                                31
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                1
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            2
                        </td>
                </tr>
                <tr>
                        <td class="CalOtherMonthDay" align="center">
                            3
                        </td>
                            <td class="CalOtherMonthDay" align="center">
                                4
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                5
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                6
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                7
                            </td>
                            <td class="CalOtherMonthDay" align="center">
                                8
                            </td>
                        <td class="CalOtherMonthDay" align="center">
                            9
                        </td>
                </tr>
    </tbody>
</table></div><script>loadBlogDefaultCalendar();</script>			
			<div id="leftcontentcontainer">
				<div id="blog-sidecolumn"><!-- 搜索 -->
<div id="sidebar_search" class="sidebar-block">
    <div class="mySearch my-search">
        <h3 class="catListTitle">搜索</h3>
        <div id="sidebar_search_box">
            <div id="widget_my_zzk" class="div_my_zzk">
                <input type="text" id="q" onkeydown="return zzk_go_enter(event);" class="input_my_zzk">&nbsp;<input onclick="zzk_go()" type="button" value="找找看" id="btnZzk" class="btn_my_zzk">
            </div>
            
        </div>
    </div>
</div>

<!-- 常用链接 -->
<div id="sidebar_shortcut" class="sidebar-block"><div class="catListLink">
<h3 class="catListTitle">
常用链接
</h3>
<ul>
    <li><a href="https://www.cnblogs.com/apachecn/p/" title="我的博客的随笔列表">我的随笔</a></li>
<li><a href="https://www.cnblogs.com/apachecn/MyComments.html" title="我的发表过的评论列表">我的评论</a></li>
<li><a href="https://www.cnblogs.com/apachecn/OtherPosts.html" title="我评论过的随笔列表">我的参与</a></li>
<li><a href="https://www.cnblogs.com/apachecn/comments" title="我的博客的评论列表">最新评论</a></li>
<li><a href="https://www.cnblogs.com/apachecn/tag/" title="我的博客的标签列表">我的标签</a></li>

</ul>
</div>

</div>

<!-- 最新随笔 -->


<!-- 我的标签 -->
<div id="sidebar_toptags" class="sidebar-block"><div class="catListTag">
    <h3 class="catListTitle"><a href="https://www.cnblogs.com/apachecn/tag/" class="sidebar-card-title-a">我的标签</a></h3>
<ul>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/django/">django<span class="tag-count">(79)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/%E5%AE%89%E5%85%A8/">安全<span class="tag-count">(78)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/%E6%B8%97%E9%80%8F/">渗透<span class="tag-count">(60)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/kali/">kali<span class="tag-count">(45)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/atom/">atom<span class="tag-count">(25)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/android/">android<span class="tag-count">(23)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/python/">python<span class="tag-count">(19)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/node-js/">node-js<span class="tag-count">(16)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/orm2/">orm2<span class="tag-count">(15)</span></a>
        </li>
        <li>
            <a href="https://www.cnblogs.com/apachecn/tag/orm/">orm<span class="tag-count">(15)</span></a>
        </li>
    <li>
        <a href="https://www.cnblogs.com/apachecn/tag/">更多</a>
    </li>

</ul>
</div>

</div>

<!-- 积分与排名 -->


<!-- 随笔分类、随笔档案、文章分类、新闻分类、相册、链接 -->
<div id="sidebar_categories">

    <div id="sidebar_postcategory" class="catListPostCategory sidebar-block">
        <h3 class="catListTitle">
            
    <a class="sidebar-card-title-a" href="https://www.cnblogs.com/apachecn/post-categories">随笔分类</a>



        </h3>

        <ul>

                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299492.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target=""> 数据科学 IPython 笔记本 (1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299521.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">android(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/1614734.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">ApacheCN(378)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299540.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">atom(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299486.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">beginnersbook(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299547.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">c#/.net(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299487.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">c++(2)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299545.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">csapp labs(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299473.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">devops(5)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299527.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">django(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299532.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">flask(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2395235.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">go(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299543.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">hexo(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299544.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">hexo(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299548.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">html/css(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299536.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">html5(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2184905.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Java(75)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299506.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">javascript(31)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299507.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">JavaScript 编程精解 3e(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299500.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Kaggle(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299529.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Kali Linux 渗透秘籍精选(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299516.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Linux(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299480.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Matplotlib(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299525.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Matplotlib 中文用户指南(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299534.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">nmap(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299537.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">node.js(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299524.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">numpy(10)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299482.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">opencv(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299539.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">orm2(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299535.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">php(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2106408.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">pko(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299481.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">python(55)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2377197.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">PyTorch(35)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2383030.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">quant(60)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299519.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">Scikit-learn 秘籍(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299530.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">sicp(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299528.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">sqlalchemy(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299526.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">sqlmap(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299533.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">sql注入(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299474.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">succinctly(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299479.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">tensorflow(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299499.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">TF_HOWTO(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299523.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">theano(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299510.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">UCB Data8 计算与推断思维(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299549.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">yfs labs(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299484.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">zetcode(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2383716.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">安全(6)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299517.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">笨办法学 Linux 中文版(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299518.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">笨办法学 Python · 续 中文版(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299475.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">笔记(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299501.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">大数据(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299508.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">复杂性思维 2e(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299491.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">环材化生劝退(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299485.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">机器学习(18)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299531.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">计算机程序的构造和解释 Python描述 中文版(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299503.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">计算理论(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2313813.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">技术评论(7)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299493.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">面试(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299505.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">面向机器学习的特征工程(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299509.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">逆向(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299494.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">爬虫(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299478.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">其他(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299489.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">其它(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2380271.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">人工智能(120)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299504.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">商业(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299490.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">渗透(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2122182.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">生产力观察(38)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299538.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">书单(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299514.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">数据结构(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299515.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">数据结构思维 中文版(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299476.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">数据科学(52)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299498.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">数据科学和人工智能技术笔记(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2386030.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">数据库(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2384788.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">算法(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2390579.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">网赚(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299546.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">我的作品(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299513.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">写给人类的机器学习(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299512.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">写给人类的机器学习(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299520.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">溢出(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299488.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">资料整理(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/1614735.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">资源分享(65)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/category/2299511.html" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">综合(4)</a>
 
                </li>                
            <li>
                <a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a>
            </li>
        </ul>


    </div>    
    <div id="sidebar_postarchive" class="catListPostArchive sidebar-block">
        <h3 class="catListTitle">
            
随笔档案


        </h3>

        <ul>

                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年10月(128)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年9月(153)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年8月(313)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年7月(56)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年6月(591)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年5月(679)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年4月(402)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年3月(81)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年2月(92)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2024/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2024年1月(97)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年12月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年11月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年9月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年8月(18)</a>
 
                </li>                
                <li data-category-list-item-visible="true" style="display: block">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年7月(6)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年6月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年5月(13)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年4月(211)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年3月(27)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年2月(14)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2023/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2023年1月(13)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年12月(8)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年11月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年10月(14)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年8月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年7月(30)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年6月(23)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年5月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年4月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年3月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年2月(45)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2022/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2022年1月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年12月(20)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年11月(13)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年10月(7)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年9月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年8月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年7月(6)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年6月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年5月(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年4月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年3月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年2月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2021/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2021年1月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年12月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年11月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年10月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年9月(6)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年8月(13)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年7月(18)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年6月(14)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年5月(11)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年4月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年3月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年2月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2020/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2020年1月(4)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年12月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年11月(17)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年10月(11)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年9月(10)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年8月(13)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年7月(20)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年6月(10)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年5月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年4月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年3月(20)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年2月(33)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2019/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2019年1月(33)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年12月(33)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年11月(45)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年10月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年9月(19)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年8月(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年7月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年6月(15)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年5月(25)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年4月(42)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年3月(29)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年2月(12)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2018/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2018年1月(9)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年12月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年11月(10)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年10月(11)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年9月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年8月(67)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年7月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年6月(26)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年5月(11)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年4月(31)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年3月(45)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年2月(23)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2017/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2017年1月(39)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年12月(33)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年11月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年10月(25)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年9月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年7月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年3月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/02" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年2月(15)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2016/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2016年1月(27)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/09" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年9月(34)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年8月(49)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年7月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年5月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/04" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年4月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2015/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2015年1月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年12月(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年11月(7)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/10" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年10月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/08" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年8月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年7月(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/06" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年6月(3)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/05" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年5月(21)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/03" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年3月(2)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2014/01" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2014年1月(1)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2013/12" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2013年12月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2013/11" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2013年11月(5)</a>
 
                </li>                
                <li data-category-list-item-visible="false" style="display: none">
                    
<a href="https://www.cnblogs.com/apachecn/p/archive/2013/07" style="--cnb-category-item-link-indent-size: calc(0 * 1em)" class="category-item-link" rel="" target="">2013年7月(1)</a>
 
                </li>                
            <li>
                <a href="javascript:void(0)" onclick="sideColumnManager.loadMore(this)">更多</a>
            </li>
        </ul>


    </div>    
</div>

<!-- 最新评论 -->
<!-- 阅读排行榜 -->
<div id="sidebar_topviewedposts" class="sidebar-block"><div class="catListView">
    <h3 class="catListTitle">
        <a href="https://www.cnblogs.com/apachecn/most-viewed" class="sidebar-card-title-a">
    阅读排行榜
</a>

    </h3>
    <div id="TopViewPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/12051593.html">
                            1. 计算机电子书 2017 BiliDrive 备份(4075)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/15037683.html">
                            2. 固态硬盘寿命天梯榜 2021.7(3708)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/13336957.html">
                            3. IntelliJ IDEA 中文官方文档(3643)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/12051600.html">
                            4. 计算机电子书 2018 BiliDrive 备份(2826)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/18173030">
                            5. 精通-C++-游戏开发（全）(2407)
                        </a>
                    </li>
        </ul>
    </div>
</div></div>

<!-- 评论排行榜 -->
<div id="sidebar_topcommentedposts" class="sidebar-block"><div class="catListFeedback">
    <h3 class="catListTitle">
        <a href="https://www.cnblogs.com/apachecn/most-commented" class="sidebar-card-title-a">评论排行榜</a>

    </h3>
    <div id="TopFeedbackPostsBlock">
        <ul style="word-break:break-all">
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/18356757">
                            1. 2D-游戏的物理引擎构建教程-全-(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/18344990">
                            2. 布客社区及饱和式翻译计划 Q&amp;A(1)
                        </a>
                    </li>
                    <li>
                        <a href="https://www.cnblogs.com/apachecn/p/18254852">
                            3. Blazor-学习指南-全-(1)
                        </a>
                    </li>
        </ul>
    </div>
</div></div>

<!-- 推荐排行榜 -->
<div id="sidebar_topdiggedposts" class="sidebar-block">
<div id="topdigg_posts_wrap">
    <div class="catListView">
        <h3 class="catListTitle">
            <a href="https://www.cnblogs.com/apachecn/most-liked" class="sidebar-card-title-a">推荐排行榜</a>

        </h3>
        <div id="TopDiggPostsBlock">
            <ul style="word-break: break-all">
                        <li>
                            <a href="https://www.cnblogs.com/apachecn/p/15200889.html">
                                1. 尚硅谷全套课件整理：Java、前端、大数据、安卓、面试题(2)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/apachecn/p/18210201">
                                2. Eclipse-MicroProfile-企业级微服务实用指南-全-(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/apachecn/p/18203735">
                                3. 精通-Spark-数据科学-全-(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/apachecn/p/18173030">
                                4. 精通-C++-游戏开发（全）(1)
                            </a>
                        </li>
                        <li>
                            <a href="https://www.cnblogs.com/apachecn/p/18170677">
                                5. AI-辅助测试（MEAP）（全）(1)
                            </a>
                        </li>
            </ul>
        </div>
    </div>
</div></div><div id="sidebar_recentcomments" class="sidebar-block"><div class="catListComment">
<h3 class="catListTitle"><a href="https://www.cnblogs.com/apachecn/comments" class="sidebar-card-title-a">最新评论</a></h3>
    <div class="RecentCommentBlock">
        <ul>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/apachecn/p/18254852">1. Re:Blazor-学习指南-全-</a></li>
                <li class="recent_comment_body"><p>太牛了</p>
</li>
                <li class="recent_comment_author">--野生研究员</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/apachecn/p/18356757">2. Re:2D-游戏的物理引擎构建教程-全-</a></li>
                <li class="recent_comment_body"><p>可以</p>
</li>
                <li class="recent_comment_author">--量子我梦</li>
                <li class="recent_comment_title"><a href="https://www.cnblogs.com/apachecn/p/18344990">3. Re:布客·饱和式翻译计划 Q&amp;A</a></li>
                <li class="recent_comment_body"><p>写的不错，支持</p>
</li>
                <li class="recent_comment_author">--李岩昊</li>
        </ul>
    </div>
</div>

</div>


</div>
                    <script>loadBlogSideColumn();</script>
			</div>			
		</div><!--end: sideBarMain -->
	</div><!--end: sideBar 侧边栏容器 -->
	<div class="clear"></div>
	</div><!--end: main -->
	<div class="clear"></div>
	<div id="footer">
		<!--done-->
Copyright © 2024 绝不原创的飞龙
<br><span id="poweredby">Powered by .NET 8.0 on Kubernetes</span>



	</div><!--end: footer -->
</div><!--end: home 自定义的最大容器 -->



    

    <input type="hidden" id="antiforgery_token" value="CfDJ8AOXHS93SCdEnLt5HW8VuxRE-f5XISaivzWBqTZdDHx2Fvwy_zkWgGRaGMXUBT4-BbAmD5aSlHUA7CF2jjltKjXAhKxSYdfQrVxJqpxjYI7zJp9h2F8dwwyUQ9LAjfWcPNlE5C8XkdDijX7V6ODiM5U">
    <script async="" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/js"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-M95P3TTWJZ');
</script>
<script defer="" src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/hm.js.下載"></script>


<div style="z-index: 998; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); display: none; flex-direction: column; align-items: center; justify-content: center">
<div style="background: #fff;padding: 30px; margin: 30px; border-radius: 16px;">
  <div style="width: 200px; height: 200px; background: rgba(255, 255, 255, 0.8); position: absolute; top: -100px; right: -100px; border-radius: 100px"></div>
  <div style="text-align: center; font-size: 18px; margin-bottom: 10px;">点击右上角即可分享</div>
  <img src="./Linux-快速学习手册-全- - 绝不原创的飞龙 - 博客园_files/35695-20230906145857937-1471873834.gif" alt="微信分享提示">
</div>   
    </div></body></html>